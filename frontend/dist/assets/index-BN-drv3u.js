var b8=Object.defineProperty;var _8=(e,t,r)=>t in e?b8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Qr=(e,t,r)=>_8(e,typeof t!="symbol"?t+"":t,r);function N8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var R4={exports:{}},hm={},D4={exports:{}},Rr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0=Symbol.for("react.element"),S8=Symbol.for("react.portal"),j8=Symbol.for("react.fragment"),A8=Symbol.for("react.strict_mode"),E8=Symbol.for("react.profiler"),C8=Symbol.for("react.provider"),k8=Symbol.for("react.context"),T8=Symbol.for("react.forward_ref"),P8=Symbol.for("react.suspense"),L8=Symbol.for("react.memo"),F8=Symbol.for("react.lazy"),my=Symbol.iterator;function O8(e){return e===null||typeof e!="object"?null:(e=my&&e[my]||e["@@iterator"],typeof e=="function"?e:null)}var I4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M4=Object.assign,B4={};function Mf(e,t,r){this.props=e,this.context=t,this.refs=B4,this.updater=r||I4}Mf.prototype.isReactComponent={};Mf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function U4(){}U4.prototype=Mf.prototype;function p2(e,t,r){this.props=e,this.context=t,this.refs=B4,this.updater=r||I4}var m2=p2.prototype=new U4;m2.constructor=p2;M4(m2,Mf.prototype);m2.isPureReactComponent=!0;var gy=Array.isArray,z4=Object.prototype.hasOwnProperty,g2={current:null},H4={key:!0,ref:!0,__self:!0,__source:!0};function $4(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)z4.call(t,n)&&!H4.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:w0,type:e,key:s,ref:o,props:a,_owner:g2.current}}function R8(e,t){return{$$typeof:w0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x2(e){return typeof e=="object"&&e!==null&&e.$$typeof===w0}function D8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xy=/\/+/g;function g1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?D8(""+e.key):t.toString(36)}function Uh(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case w0:case S8:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+g1(o,0):n,gy(a)?(r="",e!=null&&(r=e.replace(xy,"$&/")+"/"),Uh(a,t,r,"",function(u){return u})):a!=null&&(x2(a)&&(a=R8(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(xy,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",gy(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+g1(s,l);o+=Uh(s,t,r,c,a)}else if(c=O8(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+g1(s,l++),o+=Uh(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function th(e,t,r){if(e==null)return e;var n=[],a=0;return Uh(e,n,"","",function(s){return t.call(r,s,a++)}),n}function I8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xs={current:null},zh={transition:null},M8={ReactCurrentDispatcher:xs,ReactCurrentBatchConfig:zh,ReactCurrentOwner:g2};function W4(){throw Error("act(...) is not supported in production builds of React.")}Rr.Children={map:th,forEach:function(e,t,r){th(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return th(e,function(){t++}),t},toArray:function(e){return th(e,function(t){return t})||[]},only:function(e){if(!x2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Rr.Component=Mf;Rr.Fragment=j8;Rr.Profiler=E8;Rr.PureComponent=p2;Rr.StrictMode=A8;Rr.Suspense=P8;Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M8;Rr.act=W4;Rr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=M4({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=g2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)z4.call(t,c)&&!H4.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:w0,type:e.type,key:a,ref:s,props:n,_owner:o}};Rr.createContext=function(e){return e={$$typeof:k8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:C8,_context:e},e.Consumer=e};Rr.createElement=$4;Rr.createFactory=function(e){var t=$4.bind(null,e);return t.type=e,t};Rr.createRef=function(){return{current:null}};Rr.forwardRef=function(e){return{$$typeof:T8,render:e}};Rr.isValidElement=x2;Rr.lazy=function(e){return{$$typeof:F8,_payload:{_status:-1,_result:e},_init:I8}};Rr.memo=function(e,t){return{$$typeof:L8,type:e,compare:t===void 0?null:t}};Rr.startTransition=function(e){var t=zh.transition;zh.transition={};try{e()}finally{zh.transition=t}};Rr.unstable_act=W4;Rr.useCallback=function(e,t){return xs.current.useCallback(e,t)};Rr.useContext=function(e){return xs.current.useContext(e)};Rr.useDebugValue=function(){};Rr.useDeferredValue=function(e){return xs.current.useDeferredValue(e)};Rr.useEffect=function(e,t){return xs.current.useEffect(e,t)};Rr.useId=function(){return xs.current.useId()};Rr.useImperativeHandle=function(e,t,r){return xs.current.useImperativeHandle(e,t,r)};Rr.useInsertionEffect=function(e,t){return xs.current.useInsertionEffect(e,t)};Rr.useLayoutEffect=function(e,t){return xs.current.useLayoutEffect(e,t)};Rr.useMemo=function(e,t){return xs.current.useMemo(e,t)};Rr.useReducer=function(e,t,r){return xs.current.useReducer(e,t,r)};Rr.useRef=function(e){return xs.current.useRef(e)};Rr.useState=function(e){return xs.current.useState(e)};Rr.useSyncExternalStore=function(e,t,r){return xs.current.useSyncExternalStore(e,t,r)};Rr.useTransition=function(){return xs.current.useTransition()};Rr.version="18.3.1";D4.exports=Rr;var G=D4.exports;const fl=O4(G),B8=N8({__proto__:null,default:fl},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U8=G,z8=Symbol.for("react.element"),H8=Symbol.for("react.fragment"),$8=Object.prototype.hasOwnProperty,W8=U8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q8={key:!0,ref:!0,__self:!0,__source:!0};function q4(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$8.call(t,n)&&!q8.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:z8,type:e,key:s,ref:o,props:a,_owner:W8.current}}hm.Fragment=H8;hm.jsx=q4;hm.jsxs=q4;R4.exports=hm;var i=R4.exports,Ug={},V4={exports:{}},ii={},G4={exports:{}},K4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,he){var Se=M.length;M.push(he);e:for(;0<Se;){var le=Se-1>>>1,A=M[le];if(0<a(A,he))M[le]=he,M[Se]=A,Se=le;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var he=M[0],Se=M.pop();if(Se!==he){M[0]=Se;e:for(var le=0,A=M.length,H=A>>>1;le<H;){var D=2*(le+1)-1,I=M[D],ne=D+1,ge=M[ne];if(0>a(I,Se))ne<A&&0>a(ge,I)?(M[le]=ge,M[ne]=Se,le=ne):(M[le]=I,M[D]=Se,le=D);else if(ne<A&&0>a(ge,Se))M[le]=ge,M[ne]=Se,le=ne;else break e}}return he}function a(M,he){var Se=M.sortIndex-he.sortIndex;return Se!==0?Se:M.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,p=null,g=3,d=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(M){for(var he=r(u);he!==null;){if(he.callback===null)n(u);else if(he.startTime<=M)n(u),he.sortIndex=he.expirationTime,t(c,he);else break;he=r(u)}}function T(M){if(x=!1,j(M),!y)if(r(c)!==null)y=!0,X(q);else{var he=r(u);he!==null&&W(T,he.startTime-M)}}function q(M,he){y=!1,x&&(x=!1,w(k),k=-1),d=!0;var Se=g;try{for(j(he),p=r(c);p!==null&&(!(p.expirationTime>he)||M&&!P());){var le=p.callback;if(typeof le=="function"){p.callback=null,g=p.priorityLevel;var A=le(p.expirationTime<=he);he=e.unstable_now(),typeof A=="function"?p.callback=A:p===r(c)&&n(c),j(he)}else n(c);p=r(c)}if(p!==null)var H=!0;else{var D=r(u);D!==null&&W(T,D.startTime-he),H=!1}return H}finally{p=null,g=Se,d=!1}}var se=!1,L=null,k=-1,R=5,Y=-1;function P(){return!(e.unstable_now()-Y<R)}function B(){if(L!==null){var M=e.unstable_now();Y=M;var he=!0;try{he=L(!0,M)}finally{he?z():(se=!1,L=null)}}else se=!1}var z;if(typeof S=="function")z=function(){S(B)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,de=te.port2;te.port1.onmessage=B,z=function(){de.postMessage(null)}}else z=function(){_(B,0)};function X(M){L=M,se||(se=!0,z())}function W(M,he){k=_(function(){M(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){y||d||(y=!0,X(q))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var he=3;break;default:he=g}var Se=g;g=he;try{return M()}finally{g=Se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,he){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Se=g;g=M;try{return he()}finally{g=Se}},e.unstable_scheduleCallback=function(M,he,Se){var le=e.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?le+Se:le):Se=le,M){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=Se+A,M={id:f++,callback:he,priorityLevel:M,startTime:Se,expirationTime:A,sortIndex:-1},Se>le?(M.sortIndex=Se,t(u,M),r(c)===null&&M===r(u)&&(x?(w(k),k=-1):x=!0,W(T,Se-le))):(M.sortIndex=A,t(c,M),y||d||(y=!0,X(q))),M},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(M){var he=g;return function(){var Se=g;g=he;try{return M.apply(this,arguments)}finally{g=Se}}}})(K4);G4.exports=K4;var V8=G4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G8=G,ai=V8;function Ft(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y4=new Set,Wd={};function xu(e,t){Ef(e,t),Ef(e+"Capture",t)}function Ef(e,t){for(Wd[e]=t,e=0;e<t.length;e++)Y4.add(t[e])}var gl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zg=Object.prototype.hasOwnProperty,K8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vy={},yy={};function Y8(e){return zg.call(yy,e)?!0:zg.call(vy,e)?!1:K8.test(e)?yy[e]=!0:(vy[e]=!0,!1)}function X8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function J8(e,t,r,n){if(t===null||typeof t>"u"||X8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vs(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ua={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ua[e]=new vs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ua[t]=new vs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ua[e]=new vs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ua[e]=new vs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ua[e]=new vs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ua[e]=new vs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ua[e]=new vs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ua[e]=new vs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ua[e]=new vs(e,5,!1,e.toLowerCase(),null,!1,!1)});var v2=/[\-:]([a-z])/g;function y2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v2,y2);Ua[t]=new vs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v2,y2);Ua[t]=new vs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v2,y2);Ua[t]=new vs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ua[e]=new vs(e,1,!1,e.toLowerCase(),null,!1,!1)});Ua.xlinkHref=new vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ua[e]=new vs(e,1,!1,e.toLowerCase(),null,!0,!0)});function w2(e,t,r,n){var a=Ua.hasOwnProperty(t)?Ua[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(J8(t,r,a,n)&&(r=null),n||a===null?Y8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Sl=G8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rh=Symbol.for("react.element"),qu=Symbol.for("react.portal"),Vu=Symbol.for("react.fragment"),b2=Symbol.for("react.strict_mode"),Hg=Symbol.for("react.profiler"),X4=Symbol.for("react.provider"),J4=Symbol.for("react.context"),_2=Symbol.for("react.forward_ref"),$g=Symbol.for("react.suspense"),Wg=Symbol.for("react.suspense_list"),N2=Symbol.for("react.memo"),Yl=Symbol.for("react.lazy"),Q4=Symbol.for("react.offscreen"),wy=Symbol.iterator;function ad(e){return e===null||typeof e!="object"?null:(e=wy&&e[wy]||e["@@iterator"],typeof e=="function"?e:null)}var In=Object.assign,x1;function bd(e){if(x1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);x1=t&&t[1]||""}return`
`+x1+e}var v1=!1;function y1(e,t){if(!e||v1)return"";v1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{v1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bd(e):""}function Q8(e){switch(e.tag){case 5:return bd(e.type);case 16:return bd("Lazy");case 13:return bd("Suspense");case 19:return bd("SuspenseList");case 0:case 2:case 15:return e=y1(e.type,!1),e;case 11:return e=y1(e.type.render,!1),e;case 1:return e=y1(e.type,!0),e;default:return""}}function qg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vu:return"Fragment";case qu:return"Portal";case Hg:return"Profiler";case b2:return"StrictMode";case $g:return"Suspense";case Wg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J4:return(e.displayName||"Context")+".Consumer";case X4:return(e._context.displayName||"Context")+".Provider";case _2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N2:return t=e.displayName||null,t!==null?t:qg(e.type)||"Memo";case Yl:t=e._payload,e=e._init;try{return qg(e(t))}catch{}}return null}function Z8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qg(t);case 8:return t===b2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Z4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eA(e){var t=Z4(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nh(e){e._valueTracker||(e._valueTracker=eA(e))}function e3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Z4(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function up(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vg(e,t){var r=t.checked;return In({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function by(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function t3(e,t){t=t.checked,t!=null&&w2(e,"checked",t,!1)}function Gg(e,t){t3(e,t);var r=vc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kg(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kg(e,t.type,vc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _y(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kg(e,t,r){(t!=="number"||up(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _d=Array.isArray;function cf(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vc(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Yg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ft(91));return In({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ny(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ft(92));if(_d(r)){if(1<r.length)throw Error(Ft(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vc(r)}}function r3(e,t){var r=vc(t.value),n=vc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Sy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function n3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?n3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ah,a3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ah=ah||document.createElement("div"),ah.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ah.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tA=["Webkit","ms","Moz","O"];Object.keys(Ad).forEach(function(e){tA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ad[t]=Ad[e]})});function s3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ad.hasOwnProperty(e)&&Ad[e]?(""+t).trim():t+"px"}function i3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=s3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var rA=In({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jg(e,t){if(t){if(rA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ft(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ft(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ft(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ft(62))}}function Qg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zg=null;function S2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ex=null,uf=null,ff=null;function jy(e){if(e=N0(e)){if(typeof ex!="function")throw Error(Ft(280));var t=e.stateNode;t&&(t=vm(t),ex(e.stateNode,e.type,t))}}function o3(e){uf?ff?ff.push(e):ff=[e]:uf=e}function l3(){if(uf){var e=uf,t=ff;if(ff=uf=null,jy(e),t)for(e=0;e<t.length;e++)jy(t[e])}}function c3(e,t){return e(t)}function u3(){}var w1=!1;function f3(e,t,r){if(w1)return e(t,r);w1=!0;try{return c3(e,t,r)}finally{w1=!1,(uf!==null||ff!==null)&&(u3(),l3())}}function Vd(e,t){var r=e.stateNode;if(r===null)return null;var n=vm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ft(231,t,typeof r));return r}var tx=!1;if(gl)try{var sd={};Object.defineProperty(sd,"passive",{get:function(){tx=!0}}),window.addEventListener("test",sd,sd),window.removeEventListener("test",sd,sd)}catch{tx=!1}function nA(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Ed=!1,fp=null,dp=!1,rx=null,aA={onError:function(e){Ed=!0,fp=e}};function sA(e,t,r,n,a,s,o,l,c){Ed=!1,fp=null,nA.apply(aA,arguments)}function iA(e,t,r,n,a,s,o,l,c){if(sA.apply(this,arguments),Ed){if(Ed){var u=fp;Ed=!1,fp=null}else throw Error(Ft(198));dp||(dp=!0,rx=u)}}function vu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function d3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ay(e){if(vu(e)!==e)throw Error(Ft(188))}function oA(e){var t=e.alternate;if(!t){if(t=vu(e),t===null)throw Error(Ft(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Ay(a),e;if(s===n)return Ay(a),t;s=s.sibling}throw Error(Ft(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(Ft(189))}}if(r.alternate!==n)throw Error(Ft(190))}if(r.tag!==3)throw Error(Ft(188));return r.stateNode.current===r?e:t}function h3(e){return e=oA(e),e!==null?p3(e):null}function p3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=p3(e);if(t!==null)return t;e=e.sibling}return null}var m3=ai.unstable_scheduleCallback,Ey=ai.unstable_cancelCallback,lA=ai.unstable_shouldYield,cA=ai.unstable_requestPaint,Xn=ai.unstable_now,uA=ai.unstable_getCurrentPriorityLevel,j2=ai.unstable_ImmediatePriority,g3=ai.unstable_UserBlockingPriority,hp=ai.unstable_NormalPriority,fA=ai.unstable_LowPriority,x3=ai.unstable_IdlePriority,pm=null,Eo=null;function dA(e){if(Eo&&typeof Eo.onCommitFiberRoot=="function")try{Eo.onCommitFiberRoot(pm,e,void 0,(e.current.flags&128)===128)}catch{}}var Zi=Math.clz32?Math.clz32:mA,hA=Math.log,pA=Math.LN2;function mA(e){return e>>>=0,e===0?32:31-(hA(e)/pA|0)|0}var sh=64,ih=4194304;function Nd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Nd(l):(s&=o,s!==0&&(n=Nd(s)))}else o=r&~a,o!==0?n=Nd(o):s!==0&&(n=Nd(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zi(t),a=1<<r,n|=e[r],t&=~a;return n}function gA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Zi(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=gA(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function nx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function v3(){var e=sh;return sh<<=1,!(sh&4194240)&&(sh=64),e}function b1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function b0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zi(t),e[t]=r}function vA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Zi(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function A2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zi(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var nn=0;function y3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var w3,E2,b3,_3,N3,ax=!1,oh=[],oc=null,lc=null,cc=null,Gd=new Map,Kd=new Map,Jl=[],yA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cy(e,t){switch(e){case"focusin":case"focusout":oc=null;break;case"dragenter":case"dragleave":lc=null;break;case"mouseover":case"mouseout":cc=null;break;case"pointerover":case"pointerout":Gd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kd.delete(t.pointerId)}}function id(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=N0(t),t!==null&&E2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function wA(e,t,r,n,a){switch(t){case"focusin":return oc=id(oc,e,t,r,n,a),!0;case"dragenter":return lc=id(lc,e,t,r,n,a),!0;case"mouseover":return cc=id(cc,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Gd.set(s,id(Gd.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Kd.set(s,id(Kd.get(s)||null,e,t,r,n,a)),!0}return!1}function S3(e){var t=Yc(e.target);if(t!==null){var r=vu(t);if(r!==null){if(t=r.tag,t===13){if(t=d3(r),t!==null){e.blockedOn=t,N3(e.priority,function(){b3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zg=n,r.target.dispatchEvent(n),Zg=null}else return t=N0(r),t!==null&&E2(t),e.blockedOn=r,!1;t.shift()}return!0}function ky(e,t,r){Hh(e)&&r.delete(t)}function bA(){ax=!1,oc!==null&&Hh(oc)&&(oc=null),lc!==null&&Hh(lc)&&(lc=null),cc!==null&&Hh(cc)&&(cc=null),Gd.forEach(ky),Kd.forEach(ky)}function od(e,t){e.blockedOn===t&&(e.blockedOn=null,ax||(ax=!0,ai.unstable_scheduleCallback(ai.unstable_NormalPriority,bA)))}function Yd(e){function t(a){return od(a,e)}if(0<oh.length){od(oh[0],e);for(var r=1;r<oh.length;r++){var n=oh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(oc!==null&&od(oc,e),lc!==null&&od(lc,e),cc!==null&&od(cc,e),Gd.forEach(t),Kd.forEach(t),r=0;r<Jl.length;r++)n=Jl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jl.length&&(r=Jl[0],r.blockedOn===null);)S3(r),r.blockedOn===null&&Jl.shift()}var df=Sl.ReactCurrentBatchConfig,mp=!0;function _A(e,t,r,n){var a=nn,s=df.transition;df.transition=null;try{nn=1,C2(e,t,r,n)}finally{nn=a,df.transition=s}}function NA(e,t,r,n){var a=nn,s=df.transition;df.transition=null;try{nn=4,C2(e,t,r,n)}finally{nn=a,df.transition=s}}function C2(e,t,r,n){if(mp){var a=sx(e,t,r,n);if(a===null)P1(e,t,n,gp,r),Cy(e,n);else if(wA(a,e,t,r,n))n.stopPropagation();else if(Cy(e,n),t&4&&-1<yA.indexOf(e)){for(;a!==null;){var s=N0(a);if(s!==null&&w3(s),s=sx(e,t,r,n),s===null&&P1(e,t,n,gp,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else P1(e,t,n,null,r)}}var gp=null;function sx(e,t,r,n){if(gp=null,e=S2(n),e=Yc(e),e!==null)if(t=vu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=d3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gp=e,null}function j3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uA()){case j2:return 1;case g3:return 4;case hp:case fA:return 16;case x3:return 536870912;default:return 16}default:return 16}}var tc=null,k2=null,$h=null;function A3(){if($h)return $h;var e,t=k2,r=t.length,n,a="value"in tc?tc.value:tc.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return $h=a.slice(e,1<n?1-n:void 0)}function Wh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lh(){return!0}function Ty(){return!1}function oi(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lh:Ty,this.isPropagationStopped=Ty,this}return In(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lh)},persist:function(){},isPersistent:lh}),t}var Bf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T2=oi(Bf),_0=In({},Bf,{view:0,detail:0}),SA=oi(_0),_1,N1,ld,mm=In({},_0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ld&&(ld&&e.type==="mousemove"?(_1=e.screenX-ld.screenX,N1=e.screenY-ld.screenY):N1=_1=0,ld=e),_1)},movementY:function(e){return"movementY"in e?e.movementY:N1}}),Py=oi(mm),jA=In({},mm,{dataTransfer:0}),AA=oi(jA),EA=In({},_0,{relatedTarget:0}),S1=oi(EA),CA=In({},Bf,{animationName:0,elapsedTime:0,pseudoElement:0}),kA=oi(CA),TA=In({},Bf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PA=oi(TA),LA=In({},Bf,{data:0}),Ly=oi(LA),FA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RA[e])?!!t[e]:!1}function P2(){return DA}var IA=In({},_0,{key:function(e){if(e.key){var t=FA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P2,charCode:function(e){return e.type==="keypress"?Wh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MA=oi(IA),BA=In({},mm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=oi(BA),UA=In({},_0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P2}),zA=oi(UA),HA=In({},Bf,{propertyName:0,elapsedTime:0,pseudoElement:0}),$A=oi(HA),WA=In({},mm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qA=oi(WA),VA=[9,13,27,32],L2=gl&&"CompositionEvent"in window,Cd=null;gl&&"documentMode"in document&&(Cd=document.documentMode);var GA=gl&&"TextEvent"in window&&!Cd,E3=gl&&(!L2||Cd&&8<Cd&&11>=Cd),Oy=" ",Ry=!1;function C3(e,t){switch(e){case"keyup":return VA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gu=!1;function KA(e,t){switch(e){case"compositionend":return k3(t);case"keypress":return t.which!==32?null:(Ry=!0,Oy);case"textInput":return e=t.data,e===Oy&&Ry?null:e;default:return null}}function YA(e,t){if(Gu)return e==="compositionend"||!L2&&C3(e,t)?(e=A3(),$h=k2=tc=null,Gu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return E3&&t.locale!=="ko"?null:t.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XA[e.type]:t==="textarea"}function T3(e,t,r,n){o3(n),t=xp(t,"onChange"),0<t.length&&(r=new T2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kd=null,Xd=null;function JA(e){z3(e,0)}function gm(e){var t=Xu(e);if(e3(t))return e}function QA(e,t){if(e==="change")return t}var P3=!1;if(gl){var j1;if(gl){var A1="oninput"in document;if(!A1){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),A1=typeof Iy.oninput=="function"}j1=A1}else j1=!1;P3=j1&&(!document.documentMode||9<document.documentMode)}function My(){kd&&(kd.detachEvent("onpropertychange",L3),Xd=kd=null)}function L3(e){if(e.propertyName==="value"&&gm(Xd)){var t=[];T3(t,Xd,e,S2(e)),f3(JA,t)}}function ZA(e,t,r){e==="focusin"?(My(),kd=t,Xd=r,kd.attachEvent("onpropertychange",L3)):e==="focusout"&&My()}function eE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gm(Xd)}function tE(e,t){if(e==="click")return gm(t)}function rE(e,t){if(e==="input"||e==="change")return gm(t)}function nE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ro=typeof Object.is=="function"?Object.is:nE;function Jd(e,t){if(ro(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!zg.call(t,a)||!ro(e[a],t[a]))return!1}return!0}function By(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uy(e,t){var r=By(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=By(r)}}function F3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?F3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function O3(){for(var e=window,t=up();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=up(e.document)}return t}function F2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aE(e){var t=O3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&F3(r.ownerDocument.documentElement,r)){if(n!==null&&F2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=Uy(r,s);var o=Uy(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sE=gl&&"documentMode"in document&&11>=document.documentMode,Ku=null,ix=null,Td=null,ox=!1;function zy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ox||Ku==null||Ku!==up(n)||(n=Ku,"selectionStart"in n&&F2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Td&&Jd(Td,n)||(Td=n,n=xp(ix,"onSelect"),0<n.length&&(t=new T2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ku)))}function ch(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yu={animationend:ch("Animation","AnimationEnd"),animationiteration:ch("Animation","AnimationIteration"),animationstart:ch("Animation","AnimationStart"),transitionend:ch("Transition","TransitionEnd")},E1={},R3={};gl&&(R3=document.createElement("div").style,"AnimationEvent"in window||(delete Yu.animationend.animation,delete Yu.animationiteration.animation,delete Yu.animationstart.animation),"TransitionEvent"in window||delete Yu.transitionend.transition);function xm(e){if(E1[e])return E1[e];if(!Yu[e])return e;var t=Yu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in R3)return E1[e]=t[r];return e}var D3=xm("animationend"),I3=xm("animationiteration"),M3=xm("animationstart"),B3=xm("transitionend"),U3=new Map,Hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jc(e,t){U3.set(e,t),xu(t,[e])}for(var C1=0;C1<Hy.length;C1++){var k1=Hy[C1],iE=k1.toLowerCase(),oE=k1[0].toUpperCase()+k1.slice(1);jc(iE,"on"+oE)}jc(D3,"onAnimationEnd");jc(I3,"onAnimationIteration");jc(M3,"onAnimationStart");jc("dblclick","onDoubleClick");jc("focusin","onFocus");jc("focusout","onBlur");jc(B3,"onTransitionEnd");Ef("onMouseEnter",["mouseout","mouseover"]);Ef("onMouseLeave",["mouseout","mouseover"]);Ef("onPointerEnter",["pointerout","pointerover"]);Ef("onPointerLeave",["pointerout","pointerover"]);xu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xu("onBeforeInput",["compositionend","keypress","textInput","paste"]);xu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sd));function $y(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,iA(n,t,void 0,e),e.currentTarget=null}function z3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;$y(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;$y(a,l,u),s=c}}}if(dp)throw e=rx,dp=!1,rx=null,e}function Nn(e,t){var r=t[dx];r===void 0&&(r=t[dx]=new Set);var n=e+"__bubble";r.has(n)||(H3(t,e,2,!1),r.add(n))}function T1(e,t,r){var n=0;t&&(n|=4),H3(r,e,n,t)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Qd(e){if(!e[uh]){e[uh]=!0,Y4.forEach(function(r){r!=="selectionchange"&&(lE.has(r)||T1(r,!1,e),T1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uh]||(t[uh]=!0,T1("selectionchange",!1,t))}}function H3(e,t,r,n){switch(j3(t)){case 1:var a=_A;break;case 4:a=NA;break;default:a=C2}r=a.bind(null,t,r,e),a=void 0,!tx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function P1(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Yc(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}f3(function(){var u=s,f=S2(r),p=[];e:{var g=U3.get(e);if(g!==void 0){var d=T2,y=e;switch(e){case"keypress":if(Wh(r)===0)break e;case"keydown":case"keyup":d=MA;break;case"focusin":y="focus",d=S1;break;case"focusout":y="blur",d=S1;break;case"beforeblur":case"afterblur":d=S1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=AA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=zA;break;case D3:case I3:case M3:d=kA;break;case B3:d=$A;break;case"scroll":d=SA;break;case"wheel":d=qA;break;case"copy":case"cut":case"paste":d=PA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Fy}var x=(t&4)!==0,_=!x&&e==="scroll",w=x?g!==null?g+"Capture":null:g;x=[];for(var S=u,j;S!==null;){j=S;var T=j.stateNode;if(j.tag===5&&T!==null&&(j=T,w!==null&&(T=Vd(S,w),T!=null&&x.push(Zd(S,T,j)))),_)break;S=S.return}0<x.length&&(g=new d(g,y,null,r,f),p.push({event:g,listeners:x}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",g&&r!==Zg&&(y=r.relatedTarget||r.fromElement)&&(Yc(y)||y[xl]))break e;if((d||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,d?(y=r.relatedTarget||r.toElement,d=u,y=y?Yc(y):null,y!==null&&(_=vu(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=u),d!==y)){if(x=Py,T="onMouseLeave",w="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(x=Fy,T="onPointerLeave",w="onPointerEnter",S="pointer"),_=d==null?g:Xu(d),j=y==null?g:Xu(y),g=new x(T,S+"leave",d,r,f),g.target=_,g.relatedTarget=j,T=null,Yc(f)===u&&(x=new x(w,S+"enter",y,r,f),x.target=j,x.relatedTarget=_,T=x),_=T,d&&y)t:{for(x=d,w=y,S=0,j=x;j;j=Fu(j))S++;for(j=0,T=w;T;T=Fu(T))j++;for(;0<S-j;)x=Fu(x),S--;for(;0<j-S;)w=Fu(w),j--;for(;S--;){if(x===w||w!==null&&x===w.alternate)break t;x=Fu(x),w=Fu(w)}x=null}else x=null;d!==null&&Wy(p,g,d,x,!1),y!==null&&_!==null&&Wy(p,_,y,x,!0)}}e:{if(g=u?Xu(u):window,d=g.nodeName&&g.nodeName.toLowerCase(),d==="select"||d==="input"&&g.type==="file")var q=QA;else if(Dy(g))if(P3)q=rE;else{q=eE;var se=ZA}else(d=g.nodeName)&&d.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(q=tE);if(q&&(q=q(e,u))){T3(p,q,r,f);break e}se&&se(e,g,u),e==="focusout"&&(se=g._wrapperState)&&se.controlled&&g.type==="number"&&Kg(g,"number",g.value)}switch(se=u?Xu(u):window,e){case"focusin":(Dy(se)||se.contentEditable==="true")&&(Ku=se,ix=u,Td=null);break;case"focusout":Td=ix=Ku=null;break;case"mousedown":ox=!0;break;case"contextmenu":case"mouseup":case"dragend":ox=!1,zy(p,r,f);break;case"selectionchange":if(sE)break;case"keydown":case"keyup":zy(p,r,f)}var L;if(L2)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Gu?C3(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(E3&&r.locale!=="ko"&&(Gu||k!=="onCompositionStart"?k==="onCompositionEnd"&&Gu&&(L=A3()):(tc=f,k2="value"in tc?tc.value:tc.textContent,Gu=!0)),se=xp(u,k),0<se.length&&(k=new Ly(k,e,null,r,f),p.push({event:k,listeners:se}),L?k.data=L:(L=k3(r),L!==null&&(k.data=L)))),(L=GA?KA(e,r):YA(e,r))&&(u=xp(u,"onBeforeInput"),0<u.length&&(f=new Ly("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:u}),f.data=L))}z3(p,t)})}function Zd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xp(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Vd(e,r),s!=null&&n.unshift(Zd(e,s,a)),s=Vd(e,t),s!=null&&n.push(Zd(e,s,a))),e=e.return}return n}function Fu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wy(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Vd(r,s),c!=null&&o.unshift(Zd(r,c,l))):a||(c=Vd(r,s),c!=null&&o.push(Zd(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var cE=/\r\n?/g,uE=/\u0000|\uFFFD/g;function qy(e){return(typeof e=="string"?e:""+e).replace(cE,`
`).replace(uE,"")}function fh(e,t,r){if(t=qy(t),qy(e)!==t&&r)throw Error(Ft(425))}function vp(){}var lx=null,cx=null;function ux(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fx=typeof setTimeout=="function"?setTimeout:void 0,fE=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(e){return Vy.resolve(null).then(e).catch(hE)}:fx;function hE(e){setTimeout(function(){throw e})}function L1(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Yd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Yd(t)}function uc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Uf=Math.random().toString(36).slice(2),So="__reactFiber$"+Uf,e0="__reactProps$"+Uf,xl="__reactContainer$"+Uf,dx="__reactEvents$"+Uf,pE="__reactListeners$"+Uf,mE="__reactHandles$"+Uf;function Yc(e){var t=e[So];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xl]||r[So]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gy(e);e!==null;){if(r=e[So])return r;e=Gy(e)}return t}e=r,r=e.parentNode}return null}function N0(e){return e=e[So]||e[xl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ft(33))}function vm(e){return e[e0]||null}var hx=[],Ju=-1;function Ac(e){return{current:e}}function jn(e){0>Ju||(e.current=hx[Ju],hx[Ju]=null,Ju--)}function vn(e,t){Ju++,hx[Ju]=e.current,e.current=t}var yc={},ns=Ac(yc),As=Ac(!1),su=yc;function Cf(e,t){var r=e.type.contextTypes;if(!r)return yc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Es(e){return e=e.childContextTypes,e!=null}function yp(){jn(As),jn(ns)}function Ky(e,t,r){if(ns.current!==yc)throw Error(Ft(168));vn(ns,t),vn(As,r)}function $3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ft(108,Z8(e)||"Unknown",a));return In({},r,n)}function wp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yc,su=ns.current,vn(ns,e),vn(As,As.current),!0}function Yy(e,t,r){var n=e.stateNode;if(!n)throw Error(Ft(169));r?(e=$3(e,t,su),n.__reactInternalMemoizedMergedChildContext=e,jn(As),jn(ns),vn(ns,e)):jn(As),vn(As,r)}var il=null,ym=!1,F1=!1;function W3(e){il===null?il=[e]:il.push(e)}function gE(e){ym=!0,W3(e)}function Ec(){if(!F1&&il!==null){F1=!0;var e=0,t=nn;try{var r=il;for(nn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}il=null,ym=!1}catch(a){throw il!==null&&(il=il.slice(e+1)),m3(j2,Ec),a}finally{nn=t,F1=!1}}return null}var Qu=[],Zu=0,bp=null,_p=0,wi=[],bi=0,iu=null,ll=1,cl="";function $c(e,t){Qu[Zu++]=_p,Qu[Zu++]=bp,bp=e,_p=t}function q3(e,t,r){wi[bi++]=ll,wi[bi++]=cl,wi[bi++]=iu,iu=e;var n=ll;e=cl;var a=32-Zi(n)-1;n&=~(1<<a),r+=1;var s=32-Zi(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,ll=1<<32-Zi(t)+a|r<<a|n,cl=s+e}else ll=1<<s|r<<a|n,cl=e}function O2(e){e.return!==null&&($c(e,1),q3(e,1,0))}function R2(e){for(;e===bp;)bp=Qu[--Zu],Qu[Zu]=null,_p=Qu[--Zu],Qu[Zu]=null;for(;e===iu;)iu=wi[--bi],wi[bi]=null,cl=wi[--bi],wi[bi]=null,ll=wi[--bi],wi[bi]=null}var ni=null,ei=null,Tn=!1,Yi=null;function V3(e,t){var r=ji(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ni=e,ei=uc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ni=e,ei=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=iu!==null?{id:ll,overflow:cl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ji(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ni=e,ei=null,!0):!1;default:return!1}}function px(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mx(e){if(Tn){var t=ei;if(t){var r=t;if(!Xy(e,t)){if(px(e))throw Error(Ft(418));t=uc(r.nextSibling);var n=ni;t&&Xy(e,t)?V3(n,r):(e.flags=e.flags&-4097|2,Tn=!1,ni=e)}}else{if(px(e))throw Error(Ft(418));e.flags=e.flags&-4097|2,Tn=!1,ni=e}}}function Jy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ni=e}function dh(e){if(e!==ni)return!1;if(!Tn)return Jy(e),Tn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ux(e.type,e.memoizedProps)),t&&(t=ei)){if(px(e))throw G3(),Error(Ft(418));for(;t;)V3(e,t),t=uc(t.nextSibling)}if(Jy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ft(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ei=uc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ei=null}}else ei=ni?uc(e.stateNode.nextSibling):null;return!0}function G3(){for(var e=ei;e;)e=uc(e.nextSibling)}function kf(){ei=ni=null,Tn=!1}function D2(e){Yi===null?Yi=[e]:Yi.push(e)}var xE=Sl.ReactCurrentBatchConfig;function cd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ft(309));var n=r.stateNode}if(!n)throw Error(Ft(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ft(284));if(!r._owner)throw Error(Ft(290,e))}return e}function hh(e,t){throw e=Object.prototype.toString.call(t),Error(Ft(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qy(e){var t=e._init;return t(e._payload)}function K3(e){function t(w,S){if(e){var j=w.deletions;j===null?(w.deletions=[S],w.flags|=16):j.push(S)}}function r(w,S){if(!e)return null;for(;S!==null;)t(w,S),S=S.sibling;return null}function n(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function a(w,S){return w=pc(w,S),w.index=0,w.sibling=null,w}function s(w,S,j){return w.index=j,e?(j=w.alternate,j!==null?(j=j.index,j<S?(w.flags|=2,S):j):(w.flags|=2,S)):(w.flags|=1048576,S)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,S,j,T){return S===null||S.tag!==6?(S=U1(j,w.mode,T),S.return=w,S):(S=a(S,j),S.return=w,S)}function c(w,S,j,T){var q=j.type;return q===Vu?f(w,S,j.props.children,T,j.key):S!==null&&(S.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Yl&&Qy(q)===S.type)?(T=a(S,j.props),T.ref=cd(w,S,j),T.return=w,T):(T=Jh(j.type,j.key,j.props,null,w.mode,T),T.ref=cd(w,S,j),T.return=w,T)}function u(w,S,j,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==j.containerInfo||S.stateNode.implementation!==j.implementation?(S=z1(j,w.mode,T),S.return=w,S):(S=a(S,j.children||[]),S.return=w,S)}function f(w,S,j,T,q){return S===null||S.tag!==7?(S=tu(j,w.mode,T,q),S.return=w,S):(S=a(S,j),S.return=w,S)}function p(w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return S=U1(""+S,w.mode,j),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case rh:return j=Jh(S.type,S.key,S.props,null,w.mode,j),j.ref=cd(w,null,S),j.return=w,j;case qu:return S=z1(S,w.mode,j),S.return=w,S;case Yl:var T=S._init;return p(w,T(S._payload),j)}if(_d(S)||ad(S))return S=tu(S,w.mode,j,null),S.return=w,S;hh(w,S)}return null}function g(w,S,j,T){var q=S!==null?S.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return q!==null?null:l(w,S,""+j,T);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case rh:return j.key===q?c(w,S,j,T):null;case qu:return j.key===q?u(w,S,j,T):null;case Yl:return q=j._init,g(w,S,q(j._payload),T)}if(_d(j)||ad(j))return q!==null?null:f(w,S,j,T,null);hh(w,j)}return null}function d(w,S,j,T,q){if(typeof T=="string"&&T!==""||typeof T=="number")return w=w.get(j)||null,l(S,w,""+T,q);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case rh:return w=w.get(T.key===null?j:T.key)||null,c(S,w,T,q);case qu:return w=w.get(T.key===null?j:T.key)||null,u(S,w,T,q);case Yl:var se=T._init;return d(w,S,j,se(T._payload),q)}if(_d(T)||ad(T))return w=w.get(j)||null,f(S,w,T,q,null);hh(S,T)}return null}function y(w,S,j,T){for(var q=null,se=null,L=S,k=S=0,R=null;L!==null&&k<j.length;k++){L.index>k?(R=L,L=null):R=L.sibling;var Y=g(w,L,j[k],T);if(Y===null){L===null&&(L=R);break}e&&L&&Y.alternate===null&&t(w,L),S=s(Y,S,k),se===null?q=Y:se.sibling=Y,se=Y,L=R}if(k===j.length)return r(w,L),Tn&&$c(w,k),q;if(L===null){for(;k<j.length;k++)L=p(w,j[k],T),L!==null&&(S=s(L,S,k),se===null?q=L:se.sibling=L,se=L);return Tn&&$c(w,k),q}for(L=n(w,L);k<j.length;k++)R=d(L,w,k,j[k],T),R!==null&&(e&&R.alternate!==null&&L.delete(R.key===null?k:R.key),S=s(R,S,k),se===null?q=R:se.sibling=R,se=R);return e&&L.forEach(function(P){return t(w,P)}),Tn&&$c(w,k),q}function x(w,S,j,T){var q=ad(j);if(typeof q!="function")throw Error(Ft(150));if(j=q.call(j),j==null)throw Error(Ft(151));for(var se=q=null,L=S,k=S=0,R=null,Y=j.next();L!==null&&!Y.done;k++,Y=j.next()){L.index>k?(R=L,L=null):R=L.sibling;var P=g(w,L,Y.value,T);if(P===null){L===null&&(L=R);break}e&&L&&P.alternate===null&&t(w,L),S=s(P,S,k),se===null?q=P:se.sibling=P,se=P,L=R}if(Y.done)return r(w,L),Tn&&$c(w,k),q;if(L===null){for(;!Y.done;k++,Y=j.next())Y=p(w,Y.value,T),Y!==null&&(S=s(Y,S,k),se===null?q=Y:se.sibling=Y,se=Y);return Tn&&$c(w,k),q}for(L=n(w,L);!Y.done;k++,Y=j.next())Y=d(L,w,k,Y.value,T),Y!==null&&(e&&Y.alternate!==null&&L.delete(Y.key===null?k:Y.key),S=s(Y,S,k),se===null?q=Y:se.sibling=Y,se=Y);return e&&L.forEach(function(B){return t(w,B)}),Tn&&$c(w,k),q}function _(w,S,j,T){if(typeof j=="object"&&j!==null&&j.type===Vu&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case rh:e:{for(var q=j.key,se=S;se!==null;){if(se.key===q){if(q=j.type,q===Vu){if(se.tag===7){r(w,se.sibling),S=a(se,j.props.children),S.return=w,w=S;break e}}else if(se.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Yl&&Qy(q)===se.type){r(w,se.sibling),S=a(se,j.props),S.ref=cd(w,se,j),S.return=w,w=S;break e}r(w,se);break}else t(w,se);se=se.sibling}j.type===Vu?(S=tu(j.props.children,w.mode,T,j.key),S.return=w,w=S):(T=Jh(j.type,j.key,j.props,null,w.mode,T),T.ref=cd(w,S,j),T.return=w,w=T)}return o(w);case qu:e:{for(se=j.key;S!==null;){if(S.key===se)if(S.tag===4&&S.stateNode.containerInfo===j.containerInfo&&S.stateNode.implementation===j.implementation){r(w,S.sibling),S=a(S,j.children||[]),S.return=w,w=S;break e}else{r(w,S);break}else t(w,S);S=S.sibling}S=z1(j,w.mode,T),S.return=w,w=S}return o(w);case Yl:return se=j._init,_(w,S,se(j._payload),T)}if(_d(j))return y(w,S,j,T);if(ad(j))return x(w,S,j,T);hh(w,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,S!==null&&S.tag===6?(r(w,S.sibling),S=a(S,j),S.return=w,w=S):(r(w,S),S=U1(j,w.mode,T),S.return=w,w=S),o(w)):r(w,S)}return _}var Tf=K3(!0),Y3=K3(!1),Np=Ac(null),Sp=null,ef=null,I2=null;function M2(){I2=ef=Sp=null}function B2(e){var t=Np.current;jn(Np),e._currentValue=t}function gx(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function hf(e,t){Sp=e,I2=ef=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(js=!0),e.firstContext=null)}function Ei(e){var t=e._currentValue;if(I2!==e)if(e={context:e,memoizedValue:t,next:null},ef===null){if(Sp===null)throw Error(Ft(308));ef=e,Sp.dependencies={lanes:0,firstContext:e}}else ef=ef.next=e;return t}var Xc=null;function U2(e){Xc===null?Xc=[e]:Xc.push(e)}function X3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,U2(t)):(r.next=a.next,a.next=r),t.interleaved=r,vl(e,n)}function vl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xl=!1;function z2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fc(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Wr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,vl(e,r)}return a=n.interleaved,a===null?(t.next=t,U2(n)):(t.next=a.next,a.next=t),n.interleaved=t,vl(e,r)}function qh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,A2(e,r)}}function Zy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jp(e,t,r,n){var a=e.updateQueue;Xl=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var p=a.baseState;o=0,f=u=c=null,l=s;do{var g=l.lane,d=l.eventTime;if((n&g)===g){f!==null&&(f=f.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(g=t,d=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){p=y.call(d,p,g);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,g=typeof y=="function"?y.call(d,p,g):y,g==null)break e;p=In({},p,g);break e;case 2:Xl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[l]:g.push(l))}else d={eventTime:d,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=d,c=p):f=f.next=d,o|=g;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;g=l,l=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(f===null&&(c=p),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);lu|=o,e.lanes=o,e.memoizedState=p}}function e5(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ft(191,a));a.call(n)}}}var S0={},Co=Ac(S0),t0=Ac(S0),r0=Ac(S0);function Jc(e){if(e===S0)throw Error(Ft(174));return e}function H2(e,t){switch(vn(r0,t),vn(t0,e),vn(Co,S0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xg(t,e)}jn(Co),vn(Co,t)}function Pf(){jn(Co),jn(t0),jn(r0)}function Q3(e){Jc(r0.current);var t=Jc(Co.current),r=Xg(t,e.type);t!==r&&(vn(t0,e),vn(Co,r))}function $2(e){t0.current===e&&(jn(Co),jn(t0))}var On=Ac(0);function Ap(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var O1=[];function W2(){for(var e=0;e<O1.length;e++)O1[e]._workInProgressVersionPrimary=null;O1.length=0}var Vh=Sl.ReactCurrentDispatcher,R1=Sl.ReactCurrentBatchConfig,ou=0,Rn=null,da=null,wa=null,Ep=!1,Pd=!1,n0=0,vE=0;function Va(){throw Error(Ft(321))}function q2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ro(e[r],t[r]))return!1;return!0}function V2(e,t,r,n,a,s){if(ou=s,Rn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vh.current=e===null||e.memoizedState===null?_E:NE,e=r(n,a),Pd){s=0;do{if(Pd=!1,n0=0,25<=s)throw Error(Ft(301));s+=1,wa=da=null,t.updateQueue=null,Vh.current=SE,e=r(n,a)}while(Pd)}if(Vh.current=Cp,t=da!==null&&da.next!==null,ou=0,wa=da=Rn=null,Ep=!1,t)throw Error(Ft(300));return e}function G2(){var e=n0!==0;return n0=0,e}function No(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wa===null?Rn.memoizedState=wa=e:wa=wa.next=e,wa}function Ci(){if(da===null){var e=Rn.alternate;e=e!==null?e.memoizedState:null}else e=da.next;var t=wa===null?Rn.memoizedState:wa.next;if(t!==null)wa=t,da=e;else{if(e===null)throw Error(Ft(310));da=e,e={memoizedState:da.memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},wa===null?Rn.memoizedState=wa=e:wa=wa.next=e}return wa}function a0(e,t){return typeof t=="function"?t(e):t}function D1(e){var t=Ci(),r=t.queue;if(r===null)throw Error(Ft(311));r.lastRenderedReducer=e;var n=da,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var f=u.lane;if((ou&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,o=n):c=c.next=p,Rn.lanes|=f,lu|=f}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,ro(n,t.memoizedState)||(js=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Rn.lanes|=s,lu|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function I1(e){var t=Ci(),r=t.queue;if(r===null)throw Error(Ft(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);ro(s,t.memoizedState)||(js=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Z3(){}function e_(e,t){var r=Rn,n=Ci(),a=t(),s=!ro(n.memoizedState,a);if(s&&(n.memoizedState=a,js=!0),n=n.queue,K2(n_.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||wa!==null&&wa.memoizedState.tag&1){if(r.flags|=2048,s0(9,r_.bind(null,r,n,a,t),void 0,null),ja===null)throw Error(Ft(349));ou&30||t_(r,t,a)}return a}function t_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Rn.updateQueue,t===null?(t={lastEffect:null,stores:null},Rn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function r_(e,t,r,n){t.value=r,t.getSnapshot=n,a_(t)&&s_(e)}function n_(e,t,r){return r(function(){a_(t)&&s_(e)})}function a_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ro(e,r)}catch{return!0}}function s_(e){var t=vl(e,1);t!==null&&eo(t,e,1,-1)}function t5(e){var t=No();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a0,lastRenderedState:e},t.queue=e,e=e.dispatch=bE.bind(null,Rn,e),[t.memoizedState,e]}function s0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Rn.updateQueue,t===null?(t={lastEffect:null,stores:null},Rn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function i_(){return Ci().memoizedState}function Gh(e,t,r,n){var a=No();Rn.flags|=e,a.memoizedState=s0(1|t,r,void 0,n===void 0?null:n)}function wm(e,t,r,n){var a=Ci();n=n===void 0?null:n;var s=void 0;if(da!==null){var o=da.memoizedState;if(s=o.destroy,n!==null&&q2(n,o.deps)){a.memoizedState=s0(t,r,s,n);return}}Rn.flags|=e,a.memoizedState=s0(1|t,r,s,n)}function r5(e,t){return Gh(8390656,8,e,t)}function K2(e,t){return wm(2048,8,e,t)}function o_(e,t){return wm(4,2,e,t)}function l_(e,t){return wm(4,4,e,t)}function c_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function u_(e,t,r){return r=r!=null?r.concat([e]):null,wm(4,4,c_.bind(null,t,e),r)}function Y2(){}function f_(e,t){var r=Ci();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function d_(e,t){var r=Ci();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function h_(e,t,r){return ou&21?(ro(r,t)||(r=v3(),Rn.lanes|=r,lu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,js=!0),e.memoizedState=r)}function yE(e,t){var r=nn;nn=r!==0&&4>r?r:4,e(!0);var n=R1.transition;R1.transition={};try{e(!1),t()}finally{nn=r,R1.transition=n}}function p_(){return Ci().memoizedState}function wE(e,t,r){var n=hc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},m_(e))g_(t,r);else if(r=X3(e,t,r,n),r!==null){var a=ps();eo(r,e,n,a),x_(r,t,n)}}function bE(e,t,r){var n=hc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(m_(e))g_(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,ro(l,o)){var c=t.interleaved;c===null?(a.next=a,U2(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=X3(e,t,a,n),r!==null&&(a=ps(),eo(r,e,n,a),x_(r,t,n))}}function m_(e){var t=e.alternate;return e===Rn||t!==null&&t===Rn}function g_(e,t){Pd=Ep=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function x_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,A2(e,r)}}var Cp={readContext:Ei,useCallback:Va,useContext:Va,useEffect:Va,useImperativeHandle:Va,useInsertionEffect:Va,useLayoutEffect:Va,useMemo:Va,useReducer:Va,useRef:Va,useState:Va,useDebugValue:Va,useDeferredValue:Va,useTransition:Va,useMutableSource:Va,useSyncExternalStore:Va,useId:Va,unstable_isNewReconciler:!1},_E={readContext:Ei,useCallback:function(e,t){return No().memoizedState=[e,t===void 0?null:t],e},useContext:Ei,useEffect:r5,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gh(4194308,4,c_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gh(4,2,e,t)},useMemo:function(e,t){var r=No();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=No();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=wE.bind(null,Rn,e),[n.memoizedState,e]},useRef:function(e){var t=No();return e={current:e},t.memoizedState=e},useState:t5,useDebugValue:Y2,useDeferredValue:function(e){return No().memoizedState=e},useTransition:function(){var e=t5(!1),t=e[0];return e=yE.bind(null,e[1]),No().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Rn,a=No();if(Tn){if(r===void 0)throw Error(Ft(407));r=r()}else{if(r=t(),ja===null)throw Error(Ft(349));ou&30||t_(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,r5(n_.bind(null,n,s,e),[e]),n.flags|=2048,s0(9,r_.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=No(),t=ja.identifierPrefix;if(Tn){var r=cl,n=ll;r=(n&~(1<<32-Zi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=n0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NE={readContext:Ei,useCallback:f_,useContext:Ei,useEffect:K2,useImperativeHandle:u_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:d_,useReducer:D1,useRef:i_,useState:function(){return D1(a0)},useDebugValue:Y2,useDeferredValue:function(e){var t=Ci();return h_(t,da.memoizedState,e)},useTransition:function(){var e=D1(a0)[0],t=Ci().memoizedState;return[e,t]},useMutableSource:Z3,useSyncExternalStore:e_,useId:p_,unstable_isNewReconciler:!1},SE={readContext:Ei,useCallback:f_,useContext:Ei,useEffect:K2,useImperativeHandle:u_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:d_,useReducer:I1,useRef:i_,useState:function(){return I1(a0)},useDebugValue:Y2,useDeferredValue:function(e){var t=Ci();return da===null?t.memoizedState=e:h_(t,da.memoizedState,e)},useTransition:function(){var e=I1(a0)[0],t=Ci().memoizedState;return[e,t]},useMutableSource:Z3,useSyncExternalStore:e_,useId:p_,unstable_isNewReconciler:!1};function Gi(e,t){if(e&&e.defaultProps){t=In({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function xx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:In({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bm={isMounted:function(e){return(e=e._reactInternals)?vu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ps(),a=hc(e),s=dl(n,a);s.payload=t,r!=null&&(s.callback=r),t=fc(e,s,a),t!==null&&(eo(t,e,a,n),qh(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ps(),a=hc(e),s=dl(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=fc(e,s,a),t!==null&&(eo(t,e,a,n),qh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ps(),n=hc(e),a=dl(r,n);a.tag=2,t!=null&&(a.callback=t),t=fc(e,a,n),t!==null&&(eo(t,e,n,r),qh(t,e,n))}};function n5(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Jd(r,n)||!Jd(a,s):!0}function v_(e,t,r){var n=!1,a=yc,s=t.contextType;return typeof s=="object"&&s!==null?s=Ei(s):(a=Es(t)?su:ns.current,n=t.contextTypes,s=(n=n!=null)?Cf(e,a):yc),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function a5(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bm.enqueueReplaceState(t,t.state,null)}function vx(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},z2(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Ei(s):(s=Es(t)?su:ns.current,a.context=Cf(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(xx(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&bm.enqueueReplaceState(a,a.state,null),jp(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Lf(e,t){try{var r="",n=t;do r+=Q8(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function M1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function yx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jE=typeof WeakMap=="function"?WeakMap:Map;function y_(e,t,r){r=dl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Tp||(Tp=!0,kx=n),yx(e,t)},r}function w_(e,t,r){r=dl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){yx(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){yx(e,t),typeof n!="function"&&(dc===null?dc=new Set([this]):dc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function s5(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new jE;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=BE.bind(null,e,t,r),t.then(e,e))}function i5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function o5(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dl(-1,1),t.tag=2,fc(r,t,1))),r.lanes|=1),e)}var AE=Sl.ReactCurrentOwner,js=!1;function fs(e,t,r,n){t.child=e===null?Y3(t,null,r,n):Tf(t,e.child,r,n)}function l5(e,t,r,n,a){r=r.render;var s=t.ref;return hf(t,a),n=V2(e,t,r,n,s,a),r=G2(),e!==null&&!js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yl(e,t,a)):(Tn&&r&&O2(t),t.flags|=1,fs(e,t,n,a),t.child)}function c5(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!nv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,b_(e,t,s,n,a)):(e=Jh(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Jd,r(o,n)&&e.ref===t.ref)return yl(e,t,a)}return t.flags|=1,e=pc(s,n),e.ref=t.ref,e.return=t,t.child=e}function b_(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Jd(s,n)&&e.ref===t.ref)if(js=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(js=!0);else return t.lanes=e.lanes,yl(e,t,a)}return wx(e,t,r,n,a)}function __(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(rf,Xs),Xs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vn(rf,Xs),Xs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,vn(rf,Xs),Xs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,vn(rf,Xs),Xs|=n;return fs(e,t,a,r),t.child}function N_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function wx(e,t,r,n,a){var s=Es(r)?su:ns.current;return s=Cf(t,s),hf(t,a),r=V2(e,t,r,n,s,a),n=G2(),e!==null&&!js?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yl(e,t,a)):(Tn&&n&&O2(t),t.flags|=1,fs(e,t,r,a),t.child)}function u5(e,t,r,n,a){if(Es(r)){var s=!0;wp(t)}else s=!1;if(hf(t,a),t.stateNode===null)Kh(e,t),v_(t,r,n),vx(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ei(u):(u=Es(r)?su:ns.current,u=Cf(t,u));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&a5(t,o,n,u),Xl=!1;var g=t.memoizedState;o.state=g,jp(t,n,o,a),c=t.memoizedState,l!==n||g!==c||As.current||Xl?(typeof f=="function"&&(xx(t,r,f,n),c=t.memoizedState),(l=Xl||n5(t,r,l,n,g,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,J3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Gi(t.type,l),o.props=u,p=t.pendingProps,g=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ei(c):(c=Es(r)?su:ns.current,c=Cf(t,c));var d=r.getDerivedStateFromProps;(f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==c)&&a5(t,o,n,c),Xl=!1,g=t.memoizedState,o.state=g,jp(t,n,o,a);var y=t.memoizedState;l!==p||g!==y||As.current||Xl?(typeof d=="function"&&(xx(t,r,d,n),y=t.memoizedState),(u=Xl||n5(t,r,u,n,g,y,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return bx(e,t,r,n,s,a)}function bx(e,t,r,n,a,s){N_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Yy(t,r,!1),yl(e,t,s);n=t.stateNode,AE.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Tf(t,e.child,null,s),t.child=Tf(t,null,l,s)):fs(e,t,l,s),t.memoizedState=n.state,a&&Yy(t,r,!0),t.child}function S_(e){var t=e.stateNode;t.pendingContext?Ky(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ky(e,t.context,!1),H2(e,t.containerInfo)}function f5(e,t,r,n,a){return kf(),D2(a),t.flags|=256,fs(e,t,r,n),t.child}var _x={dehydrated:null,treeContext:null,retryLane:0};function Nx(e){return{baseLanes:e,cachePool:null,transitions:null}}function j_(e,t,r){var n=t.pendingProps,a=On.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),vn(On,a&1),e===null)return mx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sm(o,n,0,null),e=tu(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Nx(r),t.memoizedState=_x,e):X2(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return EE(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=pc(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=pc(l,s):(s=tu(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?Nx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=_x,n}return s=e.child,e=s.sibling,n=pc(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function X2(e,t){return t=Sm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ph(e,t,r,n){return n!==null&&D2(n),Tf(t,e.child,null,r),e=X2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EE(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=M1(Error(Ft(422))),ph(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Sm({mode:"visible",children:n.children},a,0,null),s=tu(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Tf(t,e.child,null,o),t.child.memoizedState=Nx(o),t.memoizedState=_x,s);if(!(t.mode&1))return ph(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Ft(419)),n=M1(s,n,void 0),ph(e,t,o,n)}if(l=(o&e.childLanes)!==0,js||l){if(n=ja,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,vl(e,a),eo(n,e,a,-1))}return rv(),n=M1(Error(Ft(421))),ph(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=UE.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ei=uc(a.nextSibling),ni=t,Tn=!0,Yi=null,e!==null&&(wi[bi++]=ll,wi[bi++]=cl,wi[bi++]=iu,ll=e.id,cl=e.overflow,iu=t),t=X2(t,n.children),t.flags|=4096,t)}function d5(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gx(e.return,t,r)}function B1(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function A_(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(fs(e,t,n.children,r),n=On.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d5(e,r,t);else if(e.tag===19)d5(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(vn(On,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ap(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),B1(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ap(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}B1(t,!0,r,null,s);break;case"together":B1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),lu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ft(153));if(t.child!==null){for(e=t.child,r=pc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function CE(e,t,r){switch(t.tag){case 3:S_(t),kf();break;case 5:Q3(t);break;case 1:Es(t.type)&&wp(t);break;case 4:H2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;vn(Np,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(vn(On,On.current&1),t.flags|=128,null):r&t.child.childLanes?j_(e,t,r):(vn(On,On.current&1),e=yl(e,t,r),e!==null?e.sibling:null);vn(On,On.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return A_(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),vn(On,On.current),n)break;return null;case 22:case 23:return t.lanes=0,__(e,t,r)}return yl(e,t,r)}var E_,Sx,C_,k_;E_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sx=function(){};C_=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Jc(Co.current);var s=null;switch(r){case"input":a=Vg(e,a),n=Vg(e,n),s=[];break;case"select":a=In({},a,{value:void 0}),n=In({},n,{value:void 0}),s=[];break;case"textarea":a=Yg(e,a),n=Yg(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=vp)}Jg(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Nn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};k_=function(e,t,r,n){r!==n&&(t.flags|=4)};function ud(e,t){if(!Tn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ga(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function kE(e,t,r){var n=t.pendingProps;switch(R2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:return Es(t.type)&&yp(),Ga(t),null;case 3:return n=t.stateNode,Pf(),jn(As),jn(ns),W2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yi!==null&&(Lx(Yi),Yi=null))),Sx(e,t),Ga(t),null;case 5:$2(t);var a=Jc(r0.current);if(r=t.type,e!==null&&t.stateNode!=null)C_(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ft(166));return Ga(t),null}if(e=Jc(Co.current),dh(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[So]=t,n[e0]=s,e=(t.mode&1)!==0,r){case"dialog":Nn("cancel",n),Nn("close",n);break;case"iframe":case"object":case"embed":Nn("load",n);break;case"video":case"audio":for(a=0;a<Sd.length;a++)Nn(Sd[a],n);break;case"source":Nn("error",n);break;case"img":case"image":case"link":Nn("error",n),Nn("load",n);break;case"details":Nn("toggle",n);break;case"input":by(n,s),Nn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Nn("invalid",n);break;case"textarea":Ny(n,s),Nn("invalid",n)}Jg(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&fh(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&fh(n.textContent,l,e),a=["children",""+l]):Wd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Nn("scroll",n)}switch(r){case"input":nh(n),_y(n,s,!0);break;case"textarea":nh(n),Sy(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=vp)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=n3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[So]=t,e[e0]=n,E_(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qg(r,n),r){case"dialog":Nn("cancel",e),Nn("close",e),a=n;break;case"iframe":case"object":case"embed":Nn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Sd.length;a++)Nn(Sd[a],e);a=n;break;case"source":Nn("error",e),a=n;break;case"img":case"image":case"link":Nn("error",e),Nn("load",e),a=n;break;case"details":Nn("toggle",e),a=n;break;case"input":by(e,n),a=Vg(e,n),Nn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=In({},n,{value:void 0}),Nn("invalid",e);break;case"textarea":Ny(e,n),a=Yg(e,n),Nn("invalid",e);break;default:a=n}Jg(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?i3(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&a3(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qd(e,c):typeof c=="number"&&qd(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wd.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Nn("scroll",e):c!=null&&w2(e,s,c,o))}switch(r){case"input":nh(e),_y(e,n,!1);break;case"textarea":nh(e),Sy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vc(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?cf(e,!!n.multiple,s,!1):n.defaultValue!=null&&cf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=vp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&t.stateNode!=null)k_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ft(166));if(r=Jc(r0.current),Jc(Co.current),dh(t)){if(n=t.stateNode,r=t.memoizedProps,n[So]=t,(s=n.nodeValue!==r)&&(e=ni,e!==null))switch(e.tag){case 3:fh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fh(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[So]=t,t.stateNode=n}return Ga(t),null;case 13:if(jn(On),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tn&&ei!==null&&t.mode&1&&!(t.flags&128))G3(),kf(),t.flags|=98560,s=!1;else if(s=dh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ft(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ft(317));s[So]=t}else kf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else Yi!==null&&(Lx(Yi),Yi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||On.current&1?pa===0&&(pa=3):rv())),t.updateQueue!==null&&(t.flags|=4),Ga(t),null);case 4:return Pf(),Sx(e,t),e===null&&Qd(t.stateNode.containerInfo),Ga(t),null;case 10:return B2(t.type._context),Ga(t),null;case 17:return Es(t.type)&&yp(),Ga(t),null;case 19:if(jn(On),s=t.memoizedState,s===null)return Ga(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)ud(s,!1);else{if(pa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ap(e),o!==null){for(t.flags|=128,ud(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return vn(On,On.current&1|2),t.child}e=e.sibling}s.tail!==null&&Xn()>Ff&&(t.flags|=128,n=!0,ud(s,!1),t.lanes=4194304)}else{if(!n)if(e=Ap(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ud(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tn)return Ga(t),null}else 2*Xn()-s.renderingStartTime>Ff&&r!==1073741824&&(t.flags|=128,n=!0,ud(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xn(),t.sibling=null,r=On.current,vn(On,n?r&1|2:r&1),t):(Ga(t),null);case 22:case 23:return tv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xs&1073741824&&(Ga(t),t.subtreeFlags&6&&(t.flags|=8192)):Ga(t),null;case 24:return null;case 25:return null}throw Error(Ft(156,t.tag))}function TE(e,t){switch(R2(t),t.tag){case 1:return Es(t.type)&&yp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pf(),jn(As),jn(ns),W2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $2(t),null;case 13:if(jn(On),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ft(340));kf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jn(On),null;case 4:return Pf(),null;case 10:return B2(t.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var mh=!1,Qa=!1,PE=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function tf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Hn(e,t,n)}else r.current=null}function jx(e,t,r){try{r()}catch(n){Hn(e,t,n)}}var h5=!1;function LE(e,t){if(lx=mp,e=O3(),F2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,p=e,g=null;t:for(;;){for(var d;p!==r||a!==0&&p.nodeType!==3||(l=o+a),p!==s||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(d=p.firstChild)!==null;)g=p,p=d;for(;;){if(p===e)break t;if(g===r&&++u===a&&(l=o),g===s&&++f===n&&(c=o),(d=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=d}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(cx={focusedElem:e,selectionRange:r},mp=!1,Qt=t;Qt!==null;)if(t=Qt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qt=e;else for(;Qt!==null;){t=Qt;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,_=y.memoizedState,w=t.stateNode,S=w.getSnapshotBeforeUpdate(t.elementType===t.type?x:Gi(t.type,x),_);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ft(163))}}catch(T){Hn(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Qt=e;break}Qt=t.return}return y=h5,h5=!1,y}function Ld(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&jx(t,r,s)}a=a.next}while(a!==n)}}function _m(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ax(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function T_(e){var t=e.alternate;t!==null&&(e.alternate=null,T_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[So],delete t[e0],delete t[dx],delete t[pE],delete t[mE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function P_(e){return e.tag===5||e.tag===3||e.tag===4}function p5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||P_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ex(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=vp));else if(n!==4&&(e=e.child,e!==null))for(Ex(e,t,r),e=e.sibling;e!==null;)Ex(e,t,r),e=e.sibling}function Cx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Cx(e,t,r),e=e.sibling;e!==null;)Cx(e,t,r),e=e.sibling}var Oa=null,Ki=!1;function Wl(e,t,r){for(r=r.child;r!==null;)L_(e,t,r),r=r.sibling}function L_(e,t,r){if(Eo&&typeof Eo.onCommitFiberUnmount=="function")try{Eo.onCommitFiberUnmount(pm,r)}catch{}switch(r.tag){case 5:Qa||tf(r,t);case 6:var n=Oa,a=Ki;Oa=null,Wl(e,t,r),Oa=n,Ki=a,Oa!==null&&(Ki?(e=Oa,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Oa.removeChild(r.stateNode));break;case 18:Oa!==null&&(Ki?(e=Oa,r=r.stateNode,e.nodeType===8?L1(e.parentNode,r):e.nodeType===1&&L1(e,r),Yd(e)):L1(Oa,r.stateNode));break;case 4:n=Oa,a=Ki,Oa=r.stateNode.containerInfo,Ki=!0,Wl(e,t,r),Oa=n,Ki=a;break;case 0:case 11:case 14:case 15:if(!Qa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&jx(r,t,o),a=a.next}while(a!==n)}Wl(e,t,r);break;case 1:if(!Qa&&(tf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Hn(r,t,l)}Wl(e,t,r);break;case 21:Wl(e,t,r);break;case 22:r.mode&1?(Qa=(n=Qa)||r.memoizedState!==null,Wl(e,t,r),Qa=n):Wl(e,t,r);break;default:Wl(e,t,r)}}function m5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new PE),t.forEach(function(n){var a=zE.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Hi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Oa=l.stateNode,Ki=!1;break e;case 3:Oa=l.stateNode.containerInfo,Ki=!0;break e;case 4:Oa=l.stateNode.containerInfo,Ki=!0;break e}l=l.return}if(Oa===null)throw Error(Ft(160));L_(s,o,a),Oa=null,Ki=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Hn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)F_(t,e),t=t.sibling}function F_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hi(t,e),vo(e),n&4){try{Ld(3,e,e.return),_m(3,e)}catch(x){Hn(e,e.return,x)}try{Ld(5,e,e.return)}catch(x){Hn(e,e.return,x)}}break;case 1:Hi(t,e),vo(e),n&512&&r!==null&&tf(r,r.return);break;case 5:if(Hi(t,e),vo(e),n&512&&r!==null&&tf(r,r.return),e.flags&32){var a=e.stateNode;try{qd(a,"")}catch(x){Hn(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&t3(a,s),Qg(l,o);var u=Qg(l,s);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?i3(a,p):f==="dangerouslySetInnerHTML"?a3(a,p):f==="children"?qd(a,p):w2(a,f,p,u)}switch(l){case"input":Gg(a,s);break;case"textarea":r3(a,s);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?cf(a,!!s.multiple,d,!1):g!==!!s.multiple&&(s.defaultValue!=null?cf(a,!!s.multiple,s.defaultValue,!0):cf(a,!!s.multiple,s.multiple?[]:"",!1))}a[e0]=s}catch(x){Hn(e,e.return,x)}}break;case 6:if(Hi(t,e),vo(e),n&4){if(e.stateNode===null)throw Error(Ft(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(x){Hn(e,e.return,x)}}break;case 3:if(Hi(t,e),vo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yd(t.containerInfo)}catch(x){Hn(e,e.return,x)}break;case 4:Hi(t,e),vo(e);break;case 13:Hi(t,e),vo(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Z2=Xn())),n&4&&m5(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Qa=(u=Qa)||f,Hi(t,e),Qa=u):Hi(t,e),vo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Qt=e,f=e.child;f!==null;){for(p=Qt=f;Qt!==null;){switch(g=Qt,d=g.child,g.tag){case 0:case 11:case 14:case 15:Ld(4,g,g.return);break;case 1:tf(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){Hn(n,r,x)}}break;case 5:tf(g,g.return);break;case 22:if(g.memoizedState!==null){x5(p);continue}}d!==null?(d.return=g,Qt=d):x5(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{a=p.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=s3("display",o))}catch(x){Hn(e,e.return,x)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){Hn(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Hi(t,e),vo(e),n&4&&m5(e);break;case 21:break;default:Hi(t,e),vo(e)}}function vo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(P_(r)){var n=r;break e}r=r.return}throw Error(Ft(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(qd(a,""),n.flags&=-33);var s=p5(e);Cx(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=p5(e);Ex(e,l,o);break;default:throw Error(Ft(161))}}catch(c){Hn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FE(e,t,r){Qt=e,O_(e)}function O_(e,t,r){for(var n=(e.mode&1)!==0;Qt!==null;){var a=Qt,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||mh;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Qa;l=mh;var u=Qa;if(mh=o,(Qa=c)&&!u)for(Qt=a;Qt!==null;)o=Qt,c=o.child,o.tag===22&&o.memoizedState!==null?v5(a):c!==null?(c.return=o,Qt=c):v5(a);for(;s!==null;)Qt=s,O_(s),s=s.sibling;Qt=a,mh=l,Qa=u}g5(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Qt=s):g5(e)}}function g5(e){for(;Qt!==null;){var t=Qt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qa||_m(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qa)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Gi(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&e5(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}e5(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Yd(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ft(163))}Qa||t.flags&512&&Ax(t)}catch(g){Hn(t,t.return,g)}}if(t===e){Qt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Qt=r;break}Qt=t.return}}function x5(e){for(;Qt!==null;){var t=Qt;if(t===e){Qt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Qt=r;break}Qt=t.return}}function v5(e){for(;Qt!==null;){var t=Qt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_m(4,t)}catch(c){Hn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Hn(t,a,c)}}var s=t.return;try{Ax(t)}catch(c){Hn(t,s,c)}break;case 5:var o=t.return;try{Ax(t)}catch(c){Hn(t,o,c)}}}catch(c){Hn(t,t.return,c)}if(t===e){Qt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Qt=l;break}Qt=t.return}}var OE=Math.ceil,kp=Sl.ReactCurrentDispatcher,J2=Sl.ReactCurrentOwner,Ai=Sl.ReactCurrentBatchConfig,Wr=0,ja=null,ta=null,Ma=0,Xs=0,rf=Ac(0),pa=0,i0=null,lu=0,Nm=0,Q2=0,Fd=null,Ss=null,Z2=0,Ff=1/0,sl=null,Tp=!1,kx=null,dc=null,gh=!1,rc=null,Pp=0,Od=0,Tx=null,Yh=-1,Xh=0;function ps(){return Wr&6?Xn():Yh!==-1?Yh:Yh=Xn()}function hc(e){return e.mode&1?Wr&2&&Ma!==0?Ma&-Ma:xE.transition!==null?(Xh===0&&(Xh=v3()),Xh):(e=nn,e!==0||(e=window.event,e=e===void 0?16:j3(e.type)),e):1}function eo(e,t,r,n){if(50<Od)throw Od=0,Tx=null,Error(Ft(185));b0(e,r,n),(!(Wr&2)||e!==ja)&&(e===ja&&(!(Wr&2)&&(Nm|=r),pa===4&&Ql(e,Ma)),Cs(e,n),r===1&&Wr===0&&!(t.mode&1)&&(Ff=Xn()+500,ym&&Ec()))}function Cs(e,t){var r=e.callbackNode;xA(e,t);var n=pp(e,e===ja?Ma:0);if(n===0)r!==null&&Ey(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ey(r),t===1)e.tag===0?gE(y5.bind(null,e)):W3(y5.bind(null,e)),dE(function(){!(Wr&6)&&Ec()}),r=null;else{switch(y3(n)){case 1:r=j2;break;case 4:r=g3;break;case 16:r=hp;break;case 536870912:r=x3;break;default:r=hp}r=H_(r,R_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function R_(e,t){if(Yh=-1,Xh=0,Wr&6)throw Error(Ft(327));var r=e.callbackNode;if(pf()&&e.callbackNode!==r)return null;var n=pp(e,e===ja?Ma:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Lp(e,n);else{t=n;var a=Wr;Wr|=2;var s=I_();(ja!==e||Ma!==t)&&(sl=null,Ff=Xn()+500,eu(e,t));do try{IE();break}catch(l){D_(e,l)}while(!0);M2(),kp.current=s,Wr=a,ta!==null?t=0:(ja=null,Ma=0,t=pa)}if(t!==0){if(t===2&&(a=nx(e),a!==0&&(n=a,t=Px(e,a))),t===1)throw r=i0,eu(e,0),Ql(e,n),Cs(e,Xn()),r;if(t===6)Ql(e,n);else{if(a=e.current.alternate,!(n&30)&&!RE(a)&&(t=Lp(e,n),t===2&&(s=nx(e),s!==0&&(n=s,t=Px(e,s))),t===1))throw r=i0,eu(e,0),Ql(e,n),Cs(e,Xn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ft(345));case 2:Wc(e,Ss,sl);break;case 3:if(Ql(e,n),(n&130023424)===n&&(t=Z2+500-Xn(),10<t)){if(pp(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ps(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=fx(Wc.bind(null,e,Ss,sl),t);break}Wc(e,Ss,sl);break;case 4:if(Ql(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Zi(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Xn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OE(n/1960))-n,10<n){e.timeoutHandle=fx(Wc.bind(null,e,Ss,sl),n);break}Wc(e,Ss,sl);break;case 5:Wc(e,Ss,sl);break;default:throw Error(Ft(329))}}}return Cs(e,Xn()),e.callbackNode===r?R_.bind(null,e):null}function Px(e,t){var r=Fd;return e.current.memoizedState.isDehydrated&&(eu(e,t).flags|=256),e=Lp(e,t),e!==2&&(t=Ss,Ss=r,t!==null&&Lx(t)),e}function Lx(e){Ss===null?Ss=e:Ss.push.apply(Ss,e)}function RE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ro(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ql(e,t){for(t&=~Q2,t&=~Nm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zi(t),n=1<<r;e[r]=-1,t&=~n}}function y5(e){if(Wr&6)throw Error(Ft(327));pf();var t=pp(e,0);if(!(t&1))return Cs(e,Xn()),null;var r=Lp(e,t);if(e.tag!==0&&r===2){var n=nx(e);n!==0&&(t=n,r=Px(e,n))}if(r===1)throw r=i0,eu(e,0),Ql(e,t),Cs(e,Xn()),r;if(r===6)throw Error(Ft(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wc(e,Ss,sl),Cs(e,Xn()),null}function ev(e,t){var r=Wr;Wr|=1;try{return e(t)}finally{Wr=r,Wr===0&&(Ff=Xn()+500,ym&&Ec())}}function cu(e){rc!==null&&rc.tag===0&&!(Wr&6)&&pf();var t=Wr;Wr|=1;var r=Ai.transition,n=nn;try{if(Ai.transition=null,nn=1,e)return e()}finally{nn=n,Ai.transition=r,Wr=t,!(Wr&6)&&Ec()}}function tv(){Xs=rf.current,jn(rf)}function eu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fE(r)),ta!==null)for(r=ta.return;r!==null;){var n=r;switch(R2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&yp();break;case 3:Pf(),jn(As),jn(ns),W2();break;case 5:$2(n);break;case 4:Pf();break;case 13:jn(On);break;case 19:jn(On);break;case 10:B2(n.type._context);break;case 22:case 23:tv()}r=r.return}if(ja=e,ta=e=pc(e.current,null),Ma=Xs=t,pa=0,i0=null,Q2=Nm=lu=0,Ss=Fd=null,Xc!==null){for(t=0;t<Xc.length;t++)if(r=Xc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}Xc=null}return e}function D_(e,t){do{var r=ta;try{if(M2(),Vh.current=Cp,Ep){for(var n=Rn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ep=!1}if(ou=0,wa=da=Rn=null,Pd=!1,n0=0,J2.current=null,r===null||r.return===null){pa=1,i0=t,ta=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Ma,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=i5(o);if(d!==null){d.flags&=-257,o5(d,o,l,s,t),d.mode&1&&s5(s,u,t),t=d,c=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){s5(s,u,t),rv();break e}c=Error(Ft(426))}}else if(Tn&&l.mode&1){var _=i5(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),o5(_,o,l,s,t),D2(Lf(c,l));break e}}s=c=Lf(c,l),pa!==4&&(pa=2),Fd===null?Fd=[s]:Fd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=y_(s,c,t);Zy(s,w);break e;case 1:l=c;var S=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(dc===null||!dc.has(j)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=w_(s,l,t);Zy(s,T);break e}}s=s.return}while(s!==null)}B_(r)}catch(q){t=q,ta===r&&r!==null&&(ta=r=r.return);continue}break}while(!0)}function I_(){var e=kp.current;return kp.current=Cp,e===null?Cp:e}function rv(){(pa===0||pa===3||pa===2)&&(pa=4),ja===null||!(lu&268435455)&&!(Nm&268435455)||Ql(ja,Ma)}function Lp(e,t){var r=Wr;Wr|=2;var n=I_();(ja!==e||Ma!==t)&&(sl=null,eu(e,t));do try{DE();break}catch(a){D_(e,a)}while(!0);if(M2(),Wr=r,kp.current=n,ta!==null)throw Error(Ft(261));return ja=null,Ma=0,pa}function DE(){for(;ta!==null;)M_(ta)}function IE(){for(;ta!==null&&!lA();)M_(ta)}function M_(e){var t=z_(e.alternate,e,Xs);e.memoizedProps=e.pendingProps,t===null?B_(e):ta=t,J2.current=null}function B_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=TE(r,t),r!==null){r.flags&=32767,ta=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pa=6,ta=null;return}}else if(r=kE(r,t,Xs),r!==null){ta=r;return}if(t=t.sibling,t!==null){ta=t;return}ta=t=e}while(t!==null);pa===0&&(pa=5)}function Wc(e,t,r){var n=nn,a=Ai.transition;try{Ai.transition=null,nn=1,ME(e,t,r,n)}finally{Ai.transition=a,nn=n}return null}function ME(e,t,r,n){do pf();while(rc!==null);if(Wr&6)throw Error(Ft(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ft(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(vA(e,s),e===ja&&(ta=ja=null,Ma=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gh||(gh=!0,H_(hp,function(){return pf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ai.transition,Ai.transition=null;var o=nn;nn=1;var l=Wr;Wr|=4,J2.current=null,LE(e,r),F_(r,e),aE(cx),mp=!!lx,cx=lx=null,e.current=r,FE(r),cA(),Wr=l,nn=o,Ai.transition=s}else e.current=r;if(gh&&(gh=!1,rc=e,Pp=a),s=e.pendingLanes,s===0&&(dc=null),dA(r.stateNode),Cs(e,Xn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Tp)throw Tp=!1,e=kx,kx=null,e;return Pp&1&&e.tag!==0&&pf(),s=e.pendingLanes,s&1?e===Tx?Od++:(Od=0,Tx=e):Od=0,Ec(),null}function pf(){if(rc!==null){var e=y3(Pp),t=Ai.transition,r=nn;try{if(Ai.transition=null,nn=16>e?16:e,rc===null)var n=!1;else{if(e=rc,rc=null,Pp=0,Wr&6)throw Error(Ft(331));var a=Wr;for(Wr|=4,Qt=e.current;Qt!==null;){var s=Qt,o=s.child;if(Qt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Qt=u;Qt!==null;){var f=Qt;switch(f.tag){case 0:case 11:case 15:Ld(8,f,s)}var p=f.child;if(p!==null)p.return=f,Qt=p;else for(;Qt!==null;){f=Qt;var g=f.sibling,d=f.return;if(T_(f),f===u){Qt=null;break}if(g!==null){g.return=d,Qt=g;break}Qt=d}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}Qt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Qt=o;else e:for(;Qt!==null;){if(s=Qt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ld(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Qt=w;break e}Qt=s.return}}var S=e.current;for(Qt=S;Qt!==null;){o=Qt;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Qt=j;else e:for(o=S;Qt!==null;){if(l=Qt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_m(9,l)}}catch(q){Hn(l,l.return,q)}if(l===o){Qt=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,Qt=T;break e}Qt=l.return}}if(Wr=a,Ec(),Eo&&typeof Eo.onPostCommitFiberRoot=="function")try{Eo.onPostCommitFiberRoot(pm,e)}catch{}n=!0}return n}finally{nn=r,Ai.transition=t}}return!1}function w5(e,t,r){t=Lf(r,t),t=y_(e,t,1),e=fc(e,t,1),t=ps(),e!==null&&(b0(e,1,t),Cs(e,t))}function Hn(e,t,r){if(e.tag===3)w5(e,e,r);else for(;t!==null;){if(t.tag===3){w5(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dc===null||!dc.has(n))){e=Lf(r,e),e=w_(t,e,1),t=fc(t,e,1),e=ps(),t!==null&&(b0(t,1,e),Cs(t,e));break}}t=t.return}}function BE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ps(),e.pingedLanes|=e.suspendedLanes&r,ja===e&&(Ma&r)===r&&(pa===4||pa===3&&(Ma&130023424)===Ma&&500>Xn()-Z2?eu(e,0):Q2|=r),Cs(e,t)}function U_(e,t){t===0&&(e.mode&1?(t=ih,ih<<=1,!(ih&130023424)&&(ih=4194304)):t=1);var r=ps();e=vl(e,t),e!==null&&(b0(e,t,r),Cs(e,r))}function UE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),U_(e,r)}function zE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ft(314))}n!==null&&n.delete(t),U_(e,r)}var z_;z_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||As.current)js=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return js=!1,CE(e,t,r);js=!!(e.flags&131072)}else js=!1,Tn&&t.flags&1048576&&q3(t,_p,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Kh(e,t),e=t.pendingProps;var a=Cf(t,ns.current);hf(t,r),a=V2(null,t,n,e,a,r);var s=G2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Es(n)?(s=!0,wp(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,z2(t),a.updater=bm,t.stateNode=a,a._reactInternals=t,vx(t,n,e,r),t=bx(null,t,n,!0,s,r)):(t.tag=0,Tn&&s&&O2(t),fs(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Kh(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=$E(n),e=Gi(n,e),a){case 0:t=wx(null,t,n,e,r);break e;case 1:t=u5(null,t,n,e,r);break e;case 11:t=l5(null,t,n,e,r);break e;case 14:t=c5(null,t,n,Gi(n.type,e),r);break e}throw Error(Ft(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gi(n,a),wx(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gi(n,a),u5(e,t,n,a,r);case 3:e:{if(S_(t),e===null)throw Error(Ft(387));n=t.pendingProps,s=t.memoizedState,a=s.element,J3(e,t),jp(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Lf(Error(Ft(423)),t),t=f5(e,t,n,r,a);break e}else if(n!==a){a=Lf(Error(Ft(424)),t),t=f5(e,t,n,r,a);break e}else for(ei=uc(t.stateNode.containerInfo.firstChild),ni=t,Tn=!0,Yi=null,r=Y3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kf(),n===a){t=yl(e,t,r);break e}fs(e,t,n,r)}t=t.child}return t;case 5:return Q3(t),e===null&&mx(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,ux(n,a)?o=null:s!==null&&ux(n,s)&&(t.flags|=32),N_(e,t),fs(e,t,o,r),t.child;case 6:return e===null&&mx(t),null;case 13:return j_(e,t,r);case 4:return H2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Tf(t,null,n,r):fs(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gi(n,a),l5(e,t,n,a,r);case 7:return fs(e,t,t.pendingProps,r),t.child;case 8:return fs(e,t,t.pendingProps.children,r),t.child;case 12:return fs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,vn(Np,n._currentValue),n._currentValue=o,s!==null)if(ro(s.value,o)){if(s.children===a.children&&!As.current){t=yl(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=dl(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),gx(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ft(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),gx(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fs(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,hf(t,r),a=Ei(a),n=n(a),t.flags|=1,fs(e,t,n,r),t.child;case 14:return n=t.type,a=Gi(n,t.pendingProps),a=Gi(n.type,a),c5(e,t,n,a,r);case 15:return b_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Gi(n,a),Kh(e,t),t.tag=1,Es(n)?(e=!0,wp(t)):e=!1,hf(t,r),v_(t,n,a),vx(t,n,a,r),bx(null,t,n,!0,e,r);case 19:return A_(e,t,r);case 22:return __(e,t,r)}throw Error(Ft(156,t.tag))};function H_(e,t){return m3(e,t)}function HE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(e,t,r,n){return new HE(e,t,r,n)}function nv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $E(e){if(typeof e=="function")return nv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_2)return 11;if(e===N2)return 14}return 2}function pc(e,t){var r=e.alternate;return r===null?(r=ji(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jh(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")nv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vu:return tu(r.children,a,s,t);case b2:o=8,a|=8;break;case Hg:return e=ji(12,r,t,a|2),e.elementType=Hg,e.lanes=s,e;case $g:return e=ji(13,r,t,a),e.elementType=$g,e.lanes=s,e;case Wg:return e=ji(19,r,t,a),e.elementType=Wg,e.lanes=s,e;case Q4:return Sm(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X4:o=10;break e;case J4:o=9;break e;case _2:o=11;break e;case N2:o=14;break e;case Yl:o=16,n=null;break e}throw Error(Ft(130,e==null?e:typeof e,""))}return t=ji(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function tu(e,t,r,n){return e=ji(7,e,n,t),e.lanes=r,e}function Sm(e,t,r,n){return e=ji(22,e,n,t),e.elementType=Q4,e.lanes=r,e.stateNode={isHidden:!1},e}function U1(e,t,r){return e=ji(6,e,null,t),e.lanes=r,e}function z1(e,t,r){return t=ji(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WE(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=b1(0),this.expirationTimes=b1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=b1(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function av(e,t,r,n,a,s,o,l,c){return e=new WE(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ji(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},z2(s),e}function qE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $_(e){if(!e)return yc;e=e._reactInternals;e:{if(vu(e)!==e||e.tag!==1)throw Error(Ft(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Es(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ft(171))}if(e.tag===1){var r=e.type;if(Es(r))return $3(e,r,t)}return t}function W_(e,t,r,n,a,s,o,l,c){return e=av(r,n,!0,e,a,s,o,l,c),e.context=$_(null),r=e.current,n=ps(),a=hc(r),s=dl(n,a),s.callback=t??null,fc(r,s,a),e.current.lanes=a,b0(e,a,n),Cs(e,n),e}function jm(e,t,r,n){var a=t.current,s=ps(),o=hc(a);return r=$_(r),t.context===null?t.context=r:t.pendingContext=r,t=dl(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fc(a,t,o),e!==null&&(eo(e,a,o,s),qh(e,a,o)),o}function Fp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function b5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sv(e,t){b5(e,t),(e=e.alternate)&&b5(e,t)}function VE(){return null}var q_=typeof reportError=="function"?reportError:function(e){console.error(e)};function iv(e){this._internalRoot=e}Am.prototype.render=iv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ft(409));jm(e,t,null,null)};Am.prototype.unmount=iv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cu(function(){jm(null,e,null,null)}),t[xl]=null}};function Am(e){this._internalRoot=e}Am.prototype.unstable_scheduleHydration=function(e){if(e){var t=_3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jl.length&&t!==0&&t<Jl[r].priority;r++);Jl.splice(r,0,e),r===0&&S3(e)}};function ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Em(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _5(){}function GE(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Fp(o);s.call(u)}}var o=W_(t,n,e,0,null,!1,!1,"",_5);return e._reactRootContainer=o,e[xl]=o.current,Qd(e.nodeType===8?e.parentNode:e),cu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Fp(c);l.call(u)}}var c=av(e,0,!1,null,null,!1,!1,"",_5);return e._reactRootContainer=c,e[xl]=c.current,Qd(e.nodeType===8?e.parentNode:e),cu(function(){jm(t,c,r,n)}),c}function Cm(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=Fp(o);l.call(c)}}jm(t,o,e,a)}else o=GE(r,t,e,a,n);return Fp(o)}w3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nd(t.pendingLanes);r!==0&&(A2(t,r|1),Cs(t,Xn()),!(Wr&6)&&(Ff=Xn()+500,Ec()))}break;case 13:cu(function(){var n=vl(e,1);if(n!==null){var a=ps();eo(n,e,1,a)}}),sv(e,1)}};E2=function(e){if(e.tag===13){var t=vl(e,134217728);if(t!==null){var r=ps();eo(t,e,134217728,r)}sv(e,134217728)}};b3=function(e){if(e.tag===13){var t=hc(e),r=vl(e,t);if(r!==null){var n=ps();eo(r,e,t,n)}sv(e,t)}};_3=function(){return nn};N3=function(e,t){var r=nn;try{return nn=e,t()}finally{nn=r}};ex=function(e,t,r){switch(t){case"input":if(Gg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=vm(n);if(!a)throw Error(Ft(90));e3(n),Gg(n,a)}}}break;case"textarea":r3(e,r);break;case"select":t=r.value,t!=null&&cf(e,!!r.multiple,t,!1)}};c3=ev;u3=cu;var KE={usingClientEntryPoint:!1,Events:[N0,Xu,vm,o3,l3,ev]},fd={findFiberByHostInstance:Yc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YE={bundleType:fd.bundleType,version:fd.version,rendererPackageName:fd.rendererPackageName,rendererConfig:fd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=h3(e),e===null?null:e.stateNode},findFiberByHostInstance:fd.findFiberByHostInstance||VE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{pm=xh.inject(YE),Eo=xh}catch{}}ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KE;ii.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ov(t))throw Error(Ft(200));return qE(e,t,null,r)};ii.createRoot=function(e,t){if(!ov(e))throw Error(Ft(299));var r=!1,n="",a=q_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=av(e,1,!1,null,null,r,!1,n,a),e[xl]=t.current,Qd(e.nodeType===8?e.parentNode:e),new iv(t)};ii.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ft(188)):(e=Object.keys(e).join(","),Error(Ft(268,e)));return e=h3(t),e=e===null?null:e.stateNode,e};ii.flushSync=function(e){return cu(e)};ii.hydrate=function(e,t,r){if(!Em(t))throw Error(Ft(200));return Cm(null,e,t,!0,r)};ii.hydrateRoot=function(e,t,r){if(!ov(e))throw Error(Ft(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=q_;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=W_(t,null,e,1,r??null,a,!1,s,o),e[xl]=t.current,Qd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Am(t)};ii.render=function(e,t,r){if(!Em(t))throw Error(Ft(200));return Cm(null,e,t,!1,r)};ii.unmountComponentAtNode=function(e){if(!Em(e))throw Error(Ft(40));return e._reactRootContainer?(cu(function(){Cm(null,null,e,!1,function(){e._reactRootContainer=null,e[xl]=null})}),!0):!1};ii.unstable_batchedUpdates=ev;ii.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Em(r))throw Error(Ft(200));if(e==null||e._reactInternals===void 0)throw Error(Ft(38));return Cm(e,t,r,!1,n)};ii.version="18.3.1-next-f1338f8080-20240426";function V_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V_)}catch(e){console.error(e)}}V_(),V4.exports=ii;var XE=V4.exports,N5=XE;Ug.createRoot=N5.createRoot,Ug.hydrateRoot=N5.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o0.apply(this,arguments)}var nc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nc||(nc={}));const S5="popstate";function JE(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return Fx("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Op(a)}return ZE(t,r,null,e)}function Dn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QE(){return Math.random().toString(36).substr(2,8)}function j5(e,t){return{usr:e.state,key:e.key,idx:t}}function Fx(e,t,r,n){return r===void 0&&(r=null),o0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zf(t):t,{state:r,key:t&&t.key||n||QE()})}function Op(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ZE(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=nc.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(o0({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=nc.Pop;let _=f(),w=_==null?null:_-u;u=_,c&&c({action:l,location:x.location,delta:w})}function g(_,w){l=nc.Push;let S=Fx(x.location,_,w);u=f()+1;let j=j5(S,u),T=x.createHref(S);try{o.pushState(j,"",T)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(T)}s&&c&&c({action:l,location:x.location,delta:1})}function d(_,w){l=nc.Replace;let S=Fx(x.location,_,w);u=f();let j=j5(S,u),T=x.createHref(S);o.replaceState(j,"",T),s&&c&&c({action:l,location:x.location,delta:0})}function y(_){let w=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof _=="string"?_:Op(_);return S=S.replace(/ $/,"%20"),Dn(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let x={get action(){return l},get location(){return e(a,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(S5,p),c=_,()=>{a.removeEventListener(S5,p),c=null}},createHref(_){return t(a,_)},createURL:y,encodeLocation(_){let w=y(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:d,go(_){return o.go(_)}};return x}var A5;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(A5||(A5={}));function eC(e,t,r){return r===void 0&&(r="/"),tC(e,t,r)}function tC(e,t,r,n){let a=typeof t=="string"?zf(t):t,s=Of(a.pathname||"/",r);if(s==null)return null;let o=G_(e);rC(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=hC(s);l=fC(o[c],u)}return l}function G_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Dn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=mc([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(Dn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),G_(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:cC(u,s.index),routesMeta:f})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of K_(s.path))a(s,o,c)}),t}function K_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=K_(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function rC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uC(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nC=/^:[\w-]+$/,aC=3,sC=2,iC=1,oC=10,lC=-2,E5=e=>e==="*";function cC(e,t){let r=e.split("/"),n=r.length;return r.some(E5)&&(n+=lC),t&&(n+=sC),r.filter(a=>!E5(a)).reduce((a,s)=>a+(nC.test(s)?aC:s===""?iC:oC),n)}function uC(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function fC(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=Ox({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:mc([s,p.pathname]),pathnameBase:vC(mc([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=mc([s,p.pathnameBase]))}return o}function Ox(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=dC(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,f,p)=>{let{paramName:g,isOptional:d}=f;if(g==="*"){let x=l[p]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[p];return d&&!y?u[g]=void 0:u[g]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function dC(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),lv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function hC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Of(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const pC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mC=e=>pC.test(e);function gC(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?zf(e):e,s;if(r)if(mC(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),lv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=C5(r.substring(1),"/"):s=C5(r,t)}else s=t;return{pathname:s,search:yC(n),hash:wC(a)}}function C5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function H1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cv(e,t){let r=xC(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uv(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=zf(e):(a=o0({},e),Dn(!a.pathname||!a.pathname.includes("?"),H1("?","pathname","search",a)),Dn(!a.pathname||!a.pathname.includes("#"),H1("#","pathname","hash",a)),Dn(!a.search||!a.search.includes("#"),H1("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;a.pathname=g.join("/")}l=p>=0?t[p]:"/"}let c=gC(a,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const mc=e=>e.join("/").replace(/\/\/+/g,"/"),vC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Y_=["post","put","patch","delete"];new Set(Y_);const _C=["get",...Y_];new Set(_C);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(this,arguments)}const km=G.createContext(null),X_=G.createContext(null),jl=G.createContext(null),Tm=G.createContext(null),Lo=G.createContext({outlet:null,matches:[],isDataRoute:!1}),J_=G.createContext(null);function NC(e,t){let{relative:r}=t===void 0?{}:t;Hf()||Dn(!1);let{basename:n,navigator:a}=G.useContext(jl),{hash:s,pathname:o,search:l}=Pm(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:mc([n,o])),a.createHref({pathname:c,search:l,hash:s})}function Hf(){return G.useContext(Tm)!=null}function Fo(){return Hf()||Dn(!1),G.useContext(Tm).location}function Q_(e){G.useContext(jl).static||G.useLayoutEffect(e)}function so(){let{isDataRoute:e}=G.useContext(Lo);return e?MC():SC()}function SC(){Hf()||Dn(!1);let e=G.useContext(km),{basename:t,future:r,navigator:n}=G.useContext(jl),{matches:a}=G.useContext(Lo),{pathname:s}=Fo(),o=JSON.stringify(cv(a,r.v7_relativeSplatPath)),l=G.useRef(!1);return Q_(()=>{l.current=!0}),G.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=uv(u,JSON.parse(o),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:mc([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,o,s,e])}const jC=G.createContext(null);function AC(e){let t=G.useContext(Lo).outlet;return t&&G.createElement(jC.Provider,{value:e},t)}function Z_(){let{matches:e}=G.useContext(Lo),t=e[e.length-1];return t?t.params:{}}function Pm(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=G.useContext(jl),{matches:a}=G.useContext(Lo),{pathname:s}=Fo(),o=JSON.stringify(cv(a,n.v7_relativeSplatPath));return G.useMemo(()=>uv(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function EC(e,t){return CC(e,t)}function CC(e,t,r,n){Hf()||Dn(!1);let{navigator:a}=G.useContext(jl),{matches:s}=G.useContext(Lo),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Fo(),f;if(t){var p;let _=typeof t=="string"?zf(t):t;c==="/"||(p=_.pathname)!=null&&p.startsWith(c)||Dn(!1),f=_}else f=u;let g=f.pathname||"/",d=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");d="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=eC(e,{pathname:d}),x=FC(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:mc([c,a.encodeLocation?a.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:mc([c,a.encodeLocation?a.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n);return t&&x?G.createElement(Tm.Provider,{value:{location:l0({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:nc.Pop}},x):x}function kC(){let e=IC(),t=bC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),r?G.createElement("pre",{style:a},r):null,null)}const TC=G.createElement(kC,null);class PC extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?G.createElement(Lo.Provider,{value:this.props.routeContext},G.createElement(J_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LC(e){let{routeContext:t,match:r,children:n}=e,a=G.useContext(km);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),G.createElement(Lo.Provider,{value:t},n)}function FC(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||Dn(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:d}=r,y=p.route.loader&&g[p.route.id]===void 0&&(!d||d[p.route.id]===void 0);if(p.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let d,y=!1,x=null,_=null;r&&(d=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||TC,c&&(u<0&&g===0?(BC("route-fallback"),y=!0,_=null):u===g&&(y=!0,_=p.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,g+1)),S=()=>{let j;return d?j=x:y?j=_:p.route.Component?j=G.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=f,G.createElement(LC,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:j})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?G.createElement(PC,{location:r.location,revalidation:r.revalidation,component:x,error:d,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var eN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eN||{}),tN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tN||{});function OC(e){let t=G.useContext(km);return t||Dn(!1),t}function RC(e){let t=G.useContext(X_);return t||Dn(!1),t}function DC(e){let t=G.useContext(Lo);return t||Dn(!1),t}function rN(e){let t=DC(),r=t.matches[t.matches.length-1];return r.route.id||Dn(!1),r.route.id}function IC(){var e;let t=G.useContext(J_),r=RC(),n=rN();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function MC(){let{router:e}=OC(eN.UseNavigateStable),t=rN(tN.UseNavigateStable),r=G.useRef(!1);return Q_(()=>{r.current=!0}),G.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,l0({fromRouteId:t},s)))},[e,t])}const k5={};function BC(e,t,r){k5[e]||(k5[e]=!0)}function UC(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nf(e){let{to:t,replace:r,state:n,relative:a}=e;Hf()||Dn(!1);let{future:s,static:o}=G.useContext(jl),{matches:l}=G.useContext(Lo),{pathname:c}=Fo(),u=so(),f=uv(t,cv(l,s.v7_relativeSplatPath),c,a==="path"),p=JSON.stringify(f);return G.useEffect(()=>u(JSON.parse(p),{replace:r,state:n,relative:a}),[u,p,a,r,n]),null}function zC(e){return AC(e.context)}function Kr(e){Dn(!1)}function HC(e){let{basename:t="/",children:r=null,location:n,navigationType:a=nc.Pop,navigator:s,static:o=!1,future:l}=e;Hf()&&Dn(!1);let c=t.replace(/^\/*/,"/"),u=G.useMemo(()=>({basename:c,navigator:s,static:o,future:l0({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=zf(n));let{pathname:f="/",search:p="",hash:g="",state:d=null,key:y="default"}=n,x=G.useMemo(()=>{let _=Of(f,c);return _==null?null:{location:{pathname:_,search:p,hash:g,state:d,key:y},navigationType:a}},[c,f,p,g,d,y,a]);return x==null?null:G.createElement(jl.Provider,{value:u},G.createElement(Tm.Provider,{children:r,value:x}))}function $C(e){let{children:t,location:r}=e;return EC(Rx(t),r)}new Promise(()=>{});function Rx(e,t){t===void 0&&(t=[]);let r=[];return G.Children.forEach(e,(n,a)=>{if(!G.isValidElement(n))return;let s=[...t,a];if(n.type===G.Fragment){r.push.apply(r,Rx(n.props.children,s));return}n.type!==Kr&&Dn(!1),!n.props.index||!n.props.children||Dn(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Rx(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rp.apply(this,arguments)}function nN(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function WC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qC(e,t){return e.button===0&&(!t||t==="_self")&&!WC(e)}function Dx(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function VC(e,t){let r=Dx(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)})}),r}const GC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],YC="6";try{window.__reactRouterVersion=YC}catch{}const XC=G.createContext({isTransitioning:!1}),JC="startTransition",T5=B8[JC];function QC(e){let{basename:t,children:r,future:n,window:a}=e,s=G.useRef();s.current==null&&(s.current=JE({window:a,v5Compat:!0}));let o=s.current,[l,c]=G.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=G.useCallback(p=>{u&&T5?T5(()=>c(p)):c(p)},[c,u]);return G.useLayoutEffect(()=>o.listen(f),[o,f]),G.useEffect(()=>UC(n),[n]),G.createElement(HC,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const ZC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ek=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=G.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:p}=t,g=nN(t,GC),{basename:d}=G.useContext(jl),y,x=!1;if(typeof u=="string"&&ek.test(u)&&(y=u,ZC))try{let j=new URL(window.location.href),T=u.startsWith("//")?new URL(j.protocol+u):new URL(u),q=Of(T.pathname,d);T.origin===j.origin&&q!=null?u=q+T.search+T.hash:x=!0}catch{}let _=NC(u,{relative:a}),w=rk(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:p});function S(j){n&&n(j),j.defaultPrevented||w(j)}return G.createElement("a",Rp({},g,{href:y||_,onClick:x||s?n:S,ref:r,target:c}))}),fv=G.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,p=nN(t,KC),g=Pm(c,{relative:p.relative}),d=Fo(),y=G.useContext(X_),{navigator:x,basename:_}=G.useContext(jl),w=y!=null&&nk(g)&&u===!0,S=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,j=d.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(j=j.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&_&&(T=Of(T,_)||T);const q=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let se=j===S||!o&&j.startsWith(S)&&j.charAt(q)==="/",L=T!=null&&(T===S||!o&&T.startsWith(S)&&T.charAt(S.length)==="/"),k={isActive:se,isPending:L,isTransitioning:w},R=se?n:void 0,Y;typeof s=="function"?Y=s(k):Y=[s,se?"active":null,L?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(k):l;return G.createElement(ra,Rp({},p,{"aria-current":R,className:Y,ref:r,style:P,to:c,viewTransition:u}),typeof f=="function"?f(k):f)});var Ix;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ix||(Ix={}));var P5;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(P5||(P5={}));function tk(e){let t=G.useContext(km);return t||Dn(!1),t}function rk(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=so(),u=Fo(),f=Pm(e,{relative:o});return G.useCallback(p=>{if(qC(p,r)){p.preventDefault();let g=n!==void 0?n:Op(u)===Op(f);c(e,{replace:g,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,f,n,a,r,e,s,o,l])}function aN(e){let t=G.useRef(Dx(e)),r=G.useRef(!1),n=Fo(),a=G.useMemo(()=>VC(n.search,r.current?null:t.current),[n.search]),s=so(),o=G.useCallback((l,c)=>{const u=Dx(typeof l=="function"?l(a):l);r.current=!0,s("?"+u,c)},[s,a]);return[a,o]}function nk(e,t){t===void 0&&(t={});let r=G.useContext(XC);r==null&&Dn(!1);let{basename:n}=tk(Ix.useViewTransitionState),a=Pm(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=Of(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Of(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ox(a.pathname,o)!=null||Ox(a.pathname,s)!=null}let ak={data:""},sk=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||ak},ik=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ok=/\/\*[^]*?\*\/|  +/g,L5=/\n+/g,Zl=(e,t)=>{let r="",n="",a="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?r=s+" "+o+";":n+=s[1]=="f"?Zl(o,s):s+"{"+Zl(o,s[1]=="k"?"":t)+"}":typeof o=="object"?n+=Zl(o,t?t.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Zl.p?Zl.p(s,o):s+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},tl={},sN=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+sN(e[r]);return t}return e},lk=(e,t,r,n,a)=>{let s=sN(e),o=tl[s]||(tl[s]=(c=>{let u=0,f=11;for(;u<c.length;)f=101*f+c.charCodeAt(u++)>>>0;return"go"+f})(s));if(!tl[o]){let c=s!==e?e:(u=>{let f,p,g=[{}];for(;f=ik.exec(u.replace(ok,""));)f[4]?g.shift():f[3]?(p=f[3].replace(L5," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][f[1]]=f[2].replace(L5," ").trim();return g[0]})(e);tl[o]=Zl(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&tl.g?tl.g:null;return r&&(tl.g=tl[o]),((c,u,f,p)=>{p?u.data=u.data.replace(p,c):u.data.indexOf(c)===-1&&(u.data=f?c+u.data:u.data+c)})(tl[o],t,n,l),o},ck=(e,t,r)=>e.reduce((n,a,s)=>{let o=t[s];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Zl(l,""):l===!1?"":l}return n+a+(o??"")},"");function Lm(e){let t=this||{},r=e.call?e(t.p):e;return lk(r.unshift?r.raw?ck(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,sk(t.target),t.g,t.o,t.k)}let iN,Mx,Bx;Lm.bind({g:1});let wl=Lm.bind({k:1});function uk(e,t,r,n){Zl.p=t,iN=e,Mx=r,Bx=n}function Cc(e,t){let r=this||{};return function(){let n=arguments;function a(s,o){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:Mx&&Mx()},l),r.o=/ *go\d+/.test(c),l.className=Lm.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Bx&&u[0]&&Bx(l),iN(u,l)}return a}}var fk=e=>typeof e=="function",Dp=(e,t)=>fk(e)?e(t):e,dk=(()=>{let e=0;return()=>(++e).toString()})(),oN=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),hk=20,dv="default",lN=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return lN(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},Qh=[],cN={toasts:[],pausedAt:void 0,settings:{toastLimit:hk}},jo={},uN=(e,t=dv)=>{jo[t]=lN(jo[t]||cN,e),Qh.forEach(([r,n])=>{r===t&&n(jo[t])})},fN=e=>Object.keys(jo).forEach(t=>uN(e,t)),pk=e=>Object.keys(jo).find(t=>jo[t].toasts.some(r=>r.id===e)),Fm=(e=dv)=>t=>{uN(t,e)},mk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},gk=(e={},t=dv)=>{let[r,n]=G.useState(jo[t]||cN),a=G.useRef(jo[t]);G.useEffect(()=>(a.current!==jo[t]&&n(jo[t]),Qh.push([t,n]),()=>{let o=Qh.findIndex(([l])=>l===t);o>-1&&Qh.splice(o,1)}),[t]);let s=r.toasts.map(o=>{var l,c,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||mk[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:s}},xk=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||dk()}),j0=e=>(t,r)=>{let n=xk(t,e,r);return Fm(n.toasterId||pk(n.id))({type:2,toast:n}),n.id},ha=(e,t)=>j0("blank")(e,t);ha.error=j0("error");ha.success=j0("success");ha.loading=j0("loading");ha.custom=j0("custom");ha.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Fm(t)(r):fN(r)};ha.dismissAll=e=>ha.dismiss(void 0,e);ha.remove=(e,t)=>{let r={type:4,toastId:e};t?Fm(t)(r):fN(r)};ha.removeAll=e=>ha.remove(void 0,e);ha.promise=(e,t,r)=>{let n=ha.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let s=t.success?Dp(t.success,a):void 0;return s?ha.success(s,{id:n,...r,...r==null?void 0:r.success}):ha.dismiss(n),a}).catch(a=>{let s=t.error?Dp(t.error,a):void 0;s?ha.error(s,{id:n,...r,...r==null?void 0:r.error}):ha.dismiss(n)}),e};var vk=1e3,yk=(e,t="default")=>{let{toasts:r,pausedAt:n}=gk(e,t),a=G.useRef(new Map).current,s=G.useCallback((p,g=vk)=>{if(a.has(p))return;let d=setTimeout(()=>{a.delete(p),o({type:4,toastId:p})},g);a.set(p,d)},[]);G.useEffect(()=>{if(n)return;let p=Date.now(),g=r.map(d=>{if(d.duration===1/0)return;let y=(d.duration||0)+d.pauseDuration-(p-d.createdAt);if(y<0){d.visible&&ha.dismiss(d.id);return}return setTimeout(()=>ha.dismiss(d.id,t),y)});return()=>{g.forEach(d=>d&&clearTimeout(d))}},[r,n,t]);let o=G.useCallback(Fm(t),[t]),l=G.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=G.useCallback((p,g)=>{o({type:1,toast:{id:p,height:g}})},[o]),u=G.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),f=G.useCallback((p,g)=>{let{reverseOrder:d=!1,gutter:y=8,defaultPosition:x}=g||{},_=r.filter(j=>(j.position||x)===(p.position||x)&&j.height),w=_.findIndex(j=>j.id===p.id),S=_.filter((j,T)=>T<w&&j.visible).length;return _.filter(j=>j.visible).slice(...d?[S+1]:[0,S]).reduce((j,T)=>j+(T.height||0)+y,0)},[r]);return G.useEffect(()=>{r.forEach(p=>{if(p.dismissed)s(p.id,p.removeDelay);else{let g=a.get(p.id);g&&(clearTimeout(g),a.delete(p.id))}})},[r,s]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:f}}},wk=wl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bk=wl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_k=wl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Nk=Cc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_k} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Sk=wl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jk=Cc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Sk} 1s linear infinite;
`,Ak=wl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ek=wl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ck=Cc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ak} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ek} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,kk=Cc("div")`
  position: absolute;
`,Tk=Cc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Pk=wl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Lk=Cc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Pk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Fk=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?G.createElement(Lk,null,t):t:r==="blank"?null:G.createElement(Tk,null,G.createElement(jk,{...n}),r!=="loading"&&G.createElement(kk,null,r==="error"?G.createElement(Nk,{...n}):G.createElement(Ck,{...n})))},Ok=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Rk=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Dk="0%{opacity:0;} 100%{opacity:1;}",Ik="0%{opacity:1;} 100%{opacity:0;}",Mk=Cc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Bk=Cc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Uk=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=oN()?[Dk,Ik]:[Ok(r),Rk(r)];return{animation:t?`${wl(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wl(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},zk=G.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?Uk(e.position||t||"top-center",e.visible):{opacity:0},s=G.createElement(Fk,{toast:e}),o=G.createElement(Bk,{...e.ariaProps},Dp(e.message,e));return G.createElement(Mk,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:s,message:o}):G.createElement(G.Fragment,null,s,o))});uk(G.createElement);var Hk=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let s=G.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return G.createElement("div",{ref:s,className:t,style:r},a)},$k=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:oN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},Wk=Lm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,vh=16,qk=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:s,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=yk(r,s);return G.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:vh,left:vh,right:vh,bottom:vh,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(f=>{let p=f.position||t,g=u.calculateOffset(f,{reverseOrder:e,gutter:n,defaultPosition:t}),d=$k(p,g);return G.createElement(Hk,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?Wk:"",style:d},f.type==="custom"?Dp(f.message,f):a?a(f):G.createElement(zk,{toast:f,position:p}))}))},ct=ha;function dN(e,t){return function(){return e.apply(t,arguments)}}const{toString:Vk}=Object.prototype,{getPrototypeOf:hv}=Object,{iterator:Om,toStringTag:hN}=Symbol,Rm=(e=>t=>{const r=Vk.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),io=e=>(e=e.toLowerCase(),t=>Rm(t)===e),Dm=e=>t=>typeof t===e,{isArray:$f}=Array,Rf=Dm("undefined");function A0(e){return e!==null&&!Rf(e)&&e.constructor!==null&&!Rf(e.constructor)&&ks(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const pN=io("ArrayBuffer");function Gk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&pN(e.buffer),t}const Kk=Dm("string"),ks=Dm("function"),mN=Dm("number"),E0=e=>e!==null&&typeof e=="object",Yk=e=>e===!0||e===!1,Zh=e=>{if(Rm(e)!=="object")return!1;const t=hv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(hN in e)&&!(Om in e)},Xk=e=>{if(!E0(e)||A0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Jk=io("Date"),Qk=io("File"),Zk=io("Blob"),eT=io("FileList"),tT=e=>E0(e)&&ks(e.pipe),rT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ks(e.append)&&((t=Rm(e))==="formdata"||t==="object"&&ks(e.toString)&&e.toString()==="[object FormData]"))},nT=io("URLSearchParams"),[aT,sT,iT,oT]=["ReadableStream","Request","Response","Headers"].map(io),lT=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function C0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),$f(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(A0(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function gN(e,t){if(A0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Qc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xN=e=>!Rf(e)&&e!==Qc;function Ux(){const{caseless:e,skipUndefined:t}=xN(this)&&this||{},r={},n=(a,s)=>{if(s==="__proto__"||s==="constructor"||s==="prototype")return;const o=e&&gN(r,s)||s;Zh(r[o])&&Zh(a)?r[o]=Ux(r[o],a):Zh(a)?r[o]=Ux({},a):$f(a)?r[o]=a.slice():(!t||!Rf(a))&&(r[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&C0(arguments[a],n);return r}const cT=(e,t,r,{allOwnKeys:n}={})=>(C0(t,(a,s)=>{r&&ks(a)?Object.defineProperty(e,s,{value:dN(a,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,s,{value:a,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),uT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fT=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},dT=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&hv(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},hT=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},pT=e=>{if(!e)return null;if($f(e))return e;let t=e.length;if(!mN(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},mT=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hv(Uint8Array)),gT=(e,t)=>{const n=(e&&e[Om]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},xT=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},vT=io("HTMLFormElement"),yT=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),F5=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),wT=io("RegExp"),vN=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};C0(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},bT=e=>{vN(e,(t,r)=>{if(ks(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ks(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_T=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return $f(e)?n(e):n(String(e).split(t)),r},NT=()=>{},ST=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function jT(e){return!!(e&&ks(e.append)&&e[hN]==="FormData"&&e[Om])}const AT=e=>{const t=new Array(10),r=(n,a)=>{if(E0(n)){if(t.indexOf(n)>=0)return;if(A0(n))return n;if(!("toJSON"in n)){t[a]=n;const s=$f(n)?[]:{};return C0(n,(o,l)=>{const c=r(o,a+1);!Rf(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},ET=io("AsyncFunction"),CT=e=>e&&(E0(e)||ks(e))&&ks(e.then)&&ks(e.catch),yN=((e,t)=>e?setImmediate:t?((r,n)=>(Qc.addEventListener("message",({source:a,data:s})=>{a===Qc&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Qc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ks(Qc.postMessage)),kT=typeof queueMicrotask<"u"?queueMicrotask.bind(Qc):typeof process<"u"&&process.nextTick||yN,TT=e=>e!=null&&ks(e[Om]),rt={isArray:$f,isArrayBuffer:pN,isBuffer:A0,isFormData:rT,isArrayBufferView:Gk,isString:Kk,isNumber:mN,isBoolean:Yk,isObject:E0,isPlainObject:Zh,isEmptyObject:Xk,isReadableStream:aT,isRequest:sT,isResponse:iT,isHeaders:oT,isUndefined:Rf,isDate:Jk,isFile:Qk,isBlob:Zk,isRegExp:wT,isFunction:ks,isStream:tT,isURLSearchParams:nT,isTypedArray:mT,isFileList:eT,forEach:C0,merge:Ux,extend:cT,trim:lT,stripBOM:uT,inherits:fT,toFlatObject:dT,kindOf:Rm,kindOfTest:io,endsWith:hT,toArray:pT,forEachEntry:gT,matchAll:xT,isHTMLForm:vT,hasOwnProperty:F5,hasOwnProp:F5,reduceDescriptors:vN,freezeMethods:bT,toObjectSet:_T,toCamelCase:yT,noop:NT,toFiniteNumber:ST,findKey:gN,global:Qc,isContextDefined:xN,isSpecCompliantForm:jT,toJSONObject:AT,isAsyncFn:ET,isThenable:CT,setImmediate:yN,asap:kT,isIterable:TT};let xr=class wN extends Error{static from(t,r,n,a,s,o){const l=new wN(t.message,r||t.code,n,a,s);return l.cause=t,l.name=t.name,o&&Object.assign(l,o),l}constructor(t,r,n,a,s){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.status}}};xr.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";xr.ERR_BAD_OPTION="ERR_BAD_OPTION";xr.ECONNABORTED="ECONNABORTED";xr.ETIMEDOUT="ETIMEDOUT";xr.ERR_NETWORK="ERR_NETWORK";xr.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";xr.ERR_DEPRECATED="ERR_DEPRECATED";xr.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";xr.ERR_BAD_REQUEST="ERR_BAD_REQUEST";xr.ERR_CANCELED="ERR_CANCELED";xr.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";xr.ERR_INVALID_URL="ERR_INVALID_URL";const PT=null;function zx(e){return rt.isPlainObject(e)||rt.isArray(e)}function bN(e){return rt.endsWith(e,"[]")?e.slice(0,-2):e}function O5(e,t,r){return e?e.concat(t).map(function(a,s){return a=bN(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function LT(e){return rt.isArray(e)&&!e.some(zx)}const FT=rt.toFlatObject(rt,{},null,function(t){return/^is[A-Z]/.test(t)});function Im(e,t,r){if(!rt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=rt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,_){return!rt.isUndefined(_[x])});const n=r.metaTokens,a=r.visitor||f,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&rt.isSpecCompliantForm(t);if(!rt.isFunction(a))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(rt.isDate(y))return y.toISOString();if(rt.isBoolean(y))return y.toString();if(!c&&rt.isBlob(y))throw new xr("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(y)||rt.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,x,_){let w=y;if(y&&!_&&typeof y=="object"){if(rt.endsWith(x,"{}"))x=n?x:x.slice(0,-2),y=JSON.stringify(y);else if(rt.isArray(y)&&LT(y)||(rt.isFileList(y)||rt.endsWith(x,"[]"))&&(w=rt.toArray(y)))return x=bN(x),w.forEach(function(j,T){!(rt.isUndefined(j)||j===null)&&t.append(o===!0?O5([x],T,s):o===null?x:x+"[]",u(j))}),!1}return zx(y)?!0:(t.append(O5(_,x,s),u(y)),!1)}const p=[],g=Object.assign(FT,{defaultVisitor:f,convertValue:u,isVisitable:zx});function d(y,x){if(!rt.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(y),rt.forEach(y,function(w,S){(!(rt.isUndefined(w)||w===null)&&a.call(t,w,rt.isString(S)?S.trim():S,x,g))===!0&&d(w,x?x.concat(S):[S])}),p.pop()}}if(!rt.isObject(e))throw new TypeError("data must be an object");return d(e),t}function R5(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function pv(e,t){this._pairs=[],e&&Im(e,this,t)}const _N=pv.prototype;_N.append=function(t,r){this._pairs.push([t,r])};_N.toString=function(t){const r=t?function(n){return t.call(this,n,R5)}:R5;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function OT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function NN(e,t,r){if(!t)return e;const n=r&&r.encode||OT,a=rt.isFunction(r)?{serialize:r}:r,s=a&&a.serialize;let o;if(s?o=s(t,a):o=rt.isURLSearchParams(t)?t.toString():new pv(t,a).toString(n),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class D5{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){rt.forEach(this.handlers,function(n){n!==null&&t(n)})}}const mv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},RT=typeof URLSearchParams<"u"?URLSearchParams:pv,DT=typeof FormData<"u"?FormData:null,IT=typeof Blob<"u"?Blob:null,MT={isBrowser:!0,classes:{URLSearchParams:RT,FormData:DT,Blob:IT},protocols:["http","https","file","blob","url","data"]},gv=typeof window<"u"&&typeof document<"u",Hx=typeof navigator=="object"&&navigator||void 0,BT=gv&&(!Hx||["ReactNative","NativeScript","NS"].indexOf(Hx.product)<0),UT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zT=gv&&window.location.href||"http://localhost",HT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gv,hasStandardBrowserEnv:BT,hasStandardBrowserWebWorkerEnv:UT,navigator:Hx,origin:zT},Symbol.toStringTag,{value:"Module"})),Za={...HT,...MT};function $T(e,t){return Im(e,new Za.classes.URLSearchParams,{visitor:function(r,n,a,s){return Za.isNode&&rt.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function WT(e){return rt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qT(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function SN(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&rt.isArray(a)?a.length:o,c?(rt.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!rt.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&rt.isArray(a[o])&&(a[o]=qT(a[o])),!l)}if(rt.isFormData(e)&&rt.isFunction(e.entries)){const r={};return rt.forEachEntry(e,(n,a)=>{t(WT(n),a,r,0)}),r}return null}function VT(e,t,r){if(rt.isString(e))try{return(t||JSON.parse)(e),rt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const k0={transitional:mv,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=rt.isObject(t);if(s&&rt.isHTMLForm(t)&&(t=new FormData(t)),rt.isFormData(t))return a?JSON.stringify(SN(t)):t;if(rt.isArrayBuffer(t)||rt.isBuffer(t)||rt.isStream(t)||rt.isFile(t)||rt.isBlob(t)||rt.isReadableStream(t))return t;if(rt.isArrayBufferView(t))return t.buffer;if(rt.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return $T(t,this.formSerializer).toString();if((l=rt.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Im(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),VT(t)):t}],transformResponse:[function(t){const r=this.transitional||k0.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(rt.isResponse(t)||rt.isReadableStream(t))return t;if(t&&rt.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?xr.from(l,xr.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Za.classes.FormData,Blob:Za.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rt.forEach(["delete","get","head","post","put","patch"],e=>{k0.headers[e]={}});const GT=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KT=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&GT[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},I5=Symbol("internals");function dd(e){return e&&String(e).trim().toLowerCase()}function ep(e){return e===!1||e==null?e:rt.isArray(e)?e.map(ep):String(e)}function YT(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const XT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $1(e,t,r,n,a){if(rt.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!rt.isString(t)){if(rt.isString(n))return t.indexOf(n)!==-1;if(rt.isRegExp(n))return n.test(t)}}function JT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function QT(e,t){const r=rt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}let Ts=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const f=dd(c);if(!f)throw new Error("header name must be a non-empty string");const p=rt.findKey(a,f);(!p||a[p]===void 0||u===!0||u===void 0&&a[p]!==!1)&&(a[p||c]=ep(l))}const o=(l,c)=>rt.forEach(l,(u,f)=>s(u,f,c));if(rt.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(rt.isString(t)&&(t=t.trim())&&!XT(t))o(KT(t),r);else if(rt.isObject(t)&&rt.isIterable(t)){let l={},c,u;for(const f of t){if(!rt.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[u=f[0]]=(c=l[u])?rt.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=dd(t),t){const n=rt.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return YT(a);if(rt.isFunction(r))return r.call(this,a,n);if(rt.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=dd(t),t){const n=rt.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||$1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=dd(o),o){const l=rt.findKey(n,o);l&&(!r||$1(n,n[l],l,r))&&(delete n[l],a=!0)}}return rt.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||$1(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return rt.forEach(this,(a,s)=>{const o=rt.findKey(n,s);if(o){r[o]=ep(a),delete r[s];return}const l=t?JT(s):String(s).trim();l!==s&&delete r[s],r[l]=ep(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return rt.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&rt.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[I5]=this[I5]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=dd(o);n[l]||(QT(a,o),n[l]=!0)}return rt.isArray(t)?t.forEach(s):s(t),this}};Ts.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rt.reduceDescriptors(Ts.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});rt.freezeMethods(Ts);function W1(e,t){const r=this||k0,n=t||r,a=Ts.from(n.headers);let s=n.data;return rt.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function jN(e){return!!(e&&e.__CANCEL__)}let T0=class extends xr{constructor(t,r,n){super(t??"canceled",xr.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function AN(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new xr("Request failed with status code "+r.status,[xr.ERR_BAD_REQUEST,xr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ZT(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function e7(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=n[s];o||(o=u),r[a]=c,n[a]=u;let p=s,g=0;for(;p!==a;)g+=r[p++],p=p%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-o<t)return;const d=f&&u-f;return d?Math.round(g*1e3/d):void 0}}function t7(e,t){let r=0,n=1e3/t,a,s;const o=(u,f=Date.now())=>{r=f,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const f=Date.now(),p=f-r;p>=n?o(u,f):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},n-p)))},()=>a&&o(a)]}const Ip=(e,t,r=3)=>{let n=0;const a=e7(50,250);return t7(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,u=a(c),f=o<=l;n=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&f?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},r)},M5=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},B5=e=>(...t)=>rt.asap(()=>e(...t)),r7=Za.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Za.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Za.origin),Za.navigator&&/(msie|trident)/i.test(Za.navigator.userAgent)):()=>!0,n7=Za.hasStandardBrowserEnv?{write(e,t,r,n,a,s,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];rt.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),rt.isString(n)&&l.push(`path=${n}`),rt.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),rt.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function a7(e){return typeof e!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function s7(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function EN(e,t,r){let n=!a7(t);return e&&(n||r==!1)?s7(e,t):t}const U5=e=>e instanceof Ts?{...e}:e;function uu(e,t){t=t||{};const r={};function n(u,f,p,g){return rt.isPlainObject(u)&&rt.isPlainObject(f)?rt.merge.call({caseless:g},u,f):rt.isPlainObject(f)?rt.merge({},f):rt.isArray(f)?f.slice():f}function a(u,f,p,g){if(rt.isUndefined(f)){if(!rt.isUndefined(u))return n(void 0,u,p,g)}else return n(u,f,p,g)}function s(u,f){if(!rt.isUndefined(f))return n(void 0,f)}function o(u,f){if(rt.isUndefined(f)){if(!rt.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function l(u,f,p){if(p in t)return n(u,f);if(p in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,f,p)=>a(U5(u),U5(f),p,!0)};return rt.forEach(Object.keys({...e,...t}),function(f){if(f==="__proto__"||f==="constructor"||f==="prototype")return;const p=rt.hasOwnProp(c,f)?c[f]:a,g=p(e[f],t[f],f);rt.isUndefined(g)&&p!==l||(r[f]=g)}),r}const CN=e=>{const t=uu({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Ts.from(o),t.url=NN(EN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),rt.isFormData(r)){if(Za.hasStandardBrowserEnv||Za.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(rt.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([f,p])=>{u.includes(f.toLowerCase())&&o.set(f,p)})}}if(Za.hasStandardBrowserEnv&&(n&&rt.isFunction(n)&&(n=n(t)),n||n!==!1&&r7(t.url))){const c=a&&s&&n7.read(s);c&&o.set(a,c)}return t},i7=typeof XMLHttpRequest<"u",o7=i7&&function(e){return new Promise(function(r,n){const a=CN(e);let s=a.data;const o=Ts.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,f,p,g,d,y;function x(){d&&d(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function w(){if(!_)return;const j=Ts.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),q={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:j,config:e,request:_};AN(function(L){r(L),x()},function(L){n(L),x()},q),_=null}"onloadend"in _?_.onloadend=w:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(w)},_.onabort=function(){_&&(n(new xr("Request aborted",xr.ECONNABORTED,e,_)),_=null)},_.onerror=function(T){const q=T&&T.message?T.message:"Network Error",se=new xr(q,xr.ERR_NETWORK,e,_);se.event=T||null,n(se),_=null},_.ontimeout=function(){let T=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const q=a.transitional||mv;a.timeoutErrorMessage&&(T=a.timeoutErrorMessage),n(new xr(T,q.clarifyTimeoutError?xr.ETIMEDOUT:xr.ECONNABORTED,e,_)),_=null},s===void 0&&o.setContentType(null),"setRequestHeader"in _&&rt.forEach(o.toJSON(),function(T,q){_.setRequestHeader(q,T)}),rt.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),l&&l!=="json"&&(_.responseType=a.responseType),u&&([g,y]=Ip(u,!0),_.addEventListener("progress",g)),c&&_.upload&&([p,d]=Ip(c),_.upload.addEventListener("progress",p),_.upload.addEventListener("loadend",d)),(a.cancelToken||a.signal)&&(f=j=>{_&&(n(!j||j.type?new T0(null,e,_):j),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const S=ZT(a.url);if(S&&Za.protocols.indexOf(S)===-1){n(new xr("Unsupported protocol "+S+":",xr.ERR_BAD_REQUEST,e));return}_.send(s||null)})},l7=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const f=u instanceof Error?u:this.reason;n.abort(f instanceof xr?f:new T0(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,s(new xr(`timeout of ${t}ms exceeded`,xr.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>rt.asap(l),c}},c7=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},u7=async function*(e,t){for await(const r of f7(e))yield*c7(r,t)},f7=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},z5=(e,t,r,n)=>{const a=u7(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await a.next();if(u){l(),c.close();return}let p=f.byteLength;if(r){let g=s+=p;r(g)}c.enqueue(new Uint8Array(f))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},H5=64*1024,{isFunction:yh}=rt,d7=(({Request:e,Response:t})=>({Request:e,Response:t}))(rt.global),{ReadableStream:$5,TextEncoder:W5}=rt.global,q5=(e,...t)=>{try{return!!e(...t)}catch{return!1}},h7=e=>{e=rt.merge.call({skipUndefined:!0},d7,e);const{fetch:t,Request:r,Response:n}=e,a=t?yh(t):typeof fetch=="function",s=yh(r),o=yh(n);if(!a)return!1;const l=a&&yh($5),c=a&&(typeof W5=="function"?(y=>x=>y.encode(x))(new W5):async y=>new Uint8Array(await new r(y).arrayBuffer())),u=s&&l&&q5(()=>{let y=!1;const x=new r(Za.origin,{body:new $5,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!x}),f=o&&l&&q5(()=>rt.isReadableStream(new n("").body)),p={stream:f&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!p[y]&&(p[y]=(x,_)=>{let w=x&&x[y];if(w)return w.call(x);throw new xr(`Response type '${y}' is not supported`,xr.ERR_NOT_SUPPORT,_)})});const g=async y=>{if(y==null)return 0;if(rt.isBlob(y))return y.size;if(rt.isSpecCompliantForm(y))return(await new r(Za.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(rt.isArrayBufferView(y)||rt.isArrayBuffer(y))return y.byteLength;if(rt.isURLSearchParams(y)&&(y=y+""),rt.isString(y))return(await c(y)).byteLength},d=async(y,x)=>{const _=rt.toFiniteNumber(y.getContentLength());return _??g(x)};return async y=>{let{url:x,method:_,data:w,signal:S,cancelToken:j,timeout:T,onDownloadProgress:q,onUploadProgress:se,responseType:L,headers:k,withCredentials:R="same-origin",fetchOptions:Y}=CN(y),P=t||fetch;L=L?(L+"").toLowerCase():"text";let B=l7([S,j&&j.toAbortSignal()],T),z=null;const te=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let de;try{if(se&&u&&_!=="get"&&_!=="head"&&(de=await d(k,w))!==0){let le=new r(x,{method:"POST",body:w,duplex:"half"}),A;if(rt.isFormData(w)&&(A=le.headers.get("content-type"))&&k.setContentType(A),le.body){const[H,D]=M5(de,Ip(B5(se)));w=z5(le.body,H5,H,D)}}rt.isString(R)||(R=R?"include":"omit");const X=s&&"credentials"in r.prototype,W={...Y,signal:B,method:_.toUpperCase(),headers:k.normalize().toJSON(),body:w,duplex:"half",credentials:X?R:void 0};z=s&&new r(x,W);let M=await(s?P(z,Y):P(x,W));const he=f&&(L==="stream"||L==="response");if(f&&(q||he&&te)){const le={};["status","statusText","headers"].forEach(I=>{le[I]=M[I]});const A=rt.toFiniteNumber(M.headers.get("content-length")),[H,D]=q&&M5(A,Ip(B5(q),!0))||[];M=new n(z5(M.body,H5,H,()=>{D&&D(),te&&te()}),le)}L=L||"text";let Se=await p[rt.findKey(p,L)||"text"](M,y);return!he&&te&&te(),await new Promise((le,A)=>{AN(le,A,{data:Se,headers:Ts.from(M.headers),status:M.status,statusText:M.statusText,config:y,request:z})})}catch(X){throw te&&te(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new xr("Network Error",xr.ERR_NETWORK,y,z,X&&X.response),{cause:X.cause||X}):xr.from(X,X&&X.code,y,z,X&&X.response)}}},p7=new Map,kN=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let o=s.length,l=o,c,u,f=p7;for(;l--;)c=s[l],u=f.get(c),u===void 0&&f.set(c,u=l?new Map:h7(t)),f=u;return u};kN();const xv={http:PT,xhr:o7,fetch:{get:kN}};rt.forEach(xv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const V5=e=>`- ${e}`,m7=e=>rt.isFunction(e)||e===null||e===!1;function g7(e,t){e=rt.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!m7(n)&&(a=xv[(l=String(n)).toLowerCase()],a===void 0))throw new xr(`Unknown adapter '${l}'`);if(a&&(rt.isFunction(a)||(a=a.get(t))))break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(V5).join(`
`):" "+V5(o[0]):"as no adapter specified";throw new xr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const TN={getAdapter:g7,adapters:xv};function q1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new T0(null,e)}function G5(e){return q1(e),e.headers=Ts.from(e.headers),e.data=W1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),TN.getAdapter(e.adapter||k0.adapter,e)(e).then(function(n){return q1(e),n.data=W1.call(e,e.transformResponse,n),n.headers=Ts.from(n.headers),n},function(n){return jN(n)||(q1(e),n&&n.response&&(n.response.data=W1.call(e,e.transformResponse,n.response),n.response.headers=Ts.from(n.response.headers))),Promise.reject(n)})}const PN="1.13.5",Mm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mm[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const K5={};Mm.transitional=function(t,r,n){function a(s,o){return"[Axios v"+PN+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new xr(a(o," has been removed"+(r?" in "+r:"")),xr.ERR_DEPRECATED);return r&&!K5[o]&&(K5[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};Mm.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function x7(e,t,r){if(typeof e!="object")throw new xr("options must be an object",xr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new xr("option "+s+" must be "+c,xr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new xr("Unknown option "+s,xr.ERR_BAD_OPTION)}}const tp={assertOptions:x7,validators:Mm},xi=tp.validators;let ru=class{constructor(t){this.defaults=t||{},this.interceptors={request:new D5,response:new D5}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=uu(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&tp.assertOptions(n,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean),legacyInterceptorReqResOrdering:xi.transitional(xi.boolean)},!1),a!=null&&(rt.isFunction(a)?r.paramsSerializer={serialize:a}:tp.assertOptions(a,{encode:xi.function,serialize:xi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),tp.assertOptions(r,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&rt.merge(s.common,s[r.method]);s&&rt.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),r.headers=Ts.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(x){if(typeof x.runWhen=="function"&&x.runWhen(r)===!1)return;c=c&&x.synchronous;const _=r.transitional||mv;_&&_.legacyInterceptorReqResOrdering?l.unshift(x.fulfilled,x.rejected):l.push(x.fulfilled,x.rejected)});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let f,p=0,g;if(!c){const y=[G5.bind(this),void 0];for(y.unshift(...l),y.push(...u),g=y.length,f=Promise.resolve(r);p<g;)f=f.then(y[p++],y[p++]);return f}g=l.length;let d=r;for(;p<g;){const y=l[p++],x=l[p++];try{d=y(d)}catch(_){x.call(this,_);break}}try{f=G5.call(this,d)}catch(y){return Promise.reject(y)}for(p=0,g=u.length;p<g;)f=f.then(u[p++],u[p++]);return f}getUri(t){t=uu(this.defaults,t);const r=EN(t.baseURL,t.url,t.allowAbsoluteUrls);return NN(r,t.params,t.paramsSerializer)}};rt.forEach(["delete","get","head","options"],function(t){ru.prototype[t]=function(r,n){return this.request(uu(n||{},{method:t,url:r,data:(n||{}).data}))}});rt.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(uu(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ru.prototype[t]=r(),ru.prototype[t+"Form"]=r(!0)});let v7=class LN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new T0(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new LN(function(a){t=a}),cancel:t}}};function y7(e){return function(r){return e.apply(null,r)}}function w7(e){return rt.isObject(e)&&e.isAxiosError===!0}const $x={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries($x).forEach(([e,t])=>{$x[t]=e});function FN(e){const t=new ru(e),r=dN(ru.prototype.request,t);return rt.extend(r,ru.prototype,t,{allOwnKeys:!0}),rt.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return FN(uu(e,a))},r}const Mn=FN(k0);Mn.Axios=ru;Mn.CanceledError=T0;Mn.CancelToken=v7;Mn.isCancel=jN;Mn.VERSION=PN;Mn.toFormData=Im;Mn.AxiosError=xr;Mn.Cancel=Mn.CanceledError;Mn.all=function(t){return Promise.all(t)};Mn.spread=y7;Mn.isAxiosError=w7;Mn.mergeConfig=uu;Mn.AxiosHeaders=Ts;Mn.formToJSON=e=>SN(rt.isHTMLForm(e)?new FormData(e):e);Mn.getAdapter=TN.getAdapter;Mn.HttpStatusCode=$x;Mn.default=Mn;const{Axios:VH,AxiosError:GH,CanceledError:KH,isCancel:YH,CancelToken:XH,VERSION:JH,all:QH,Cancel:ZH,isAxiosError:e$,spread:t$,toFormData:r$,AxiosHeaders:n$,HttpStatusCode:a$,formToJSON:s$,getAdapter:i$,mergeConfig:o$}=Mn,ON="/api/v1",es=Mn.create({baseURL:ON,headers:{"Content-Type":"application/json"}}),b7=["TRIAL_EXPIRED","SUBSCRIPTION_EXPIRED","SUBSCRIPTION_SUSPENDED"];es.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));es.interceptors.response.use(e=>{const t=e.headers["x-trial-days-left"],r=e.headers["x-subscription-days-left"],n=e.headers["x-grace-days-left"];return t!==void 0&&sessionStorage.setItem("trial_days_left",t),r!==void 0&&sessionStorage.setItem("subscription_days_left",r),n!==void 0&&sessionStorage.setItem("grace_days_left",n),e},async e=>{var r,n,a;const t=e.config;if(((r=e.response)==null?void 0:r.status)===403){const s=(n=e.response.data)==null?void 0:n.code;if(b7.includes(s)){sessionStorage.setItem("subscription_block",s);const o=window.location.pathname;return!o.includes("/subscription-expired")&&!o.includes("/subscribe")&&!o.includes("/payment")&&(window.location.href="/subscription-expired"),Promise.reject(e)}if(s==="PLAN_LIMIT_REACHED")return Promise.reject(e)}if(((a=e.response)==null?void 0:a.status)===401&&!t._retry){t._retry=!0;const s=localStorage.getItem("refresh_token");if(!s)return localStorage.clear(),window.location.href="/login",Promise.reject(e);try{const{data:o}=await Mn.post(`${ON}/auth/refresh`,{refresh_token:s});return localStorage.setItem("access_token",o.data.access_token),localStorage.setItem("refresh_token",o.data.refresh_token),t.headers.Authorization=`Bearer ${o.data.access_token}`,es(t)}catch(o){return localStorage.clear(),window.location.href="/login",Promise.reject(o)}}return Promise.reject(e)});const Wx=e=>{const t=e.replace("#","");return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16)}},rl=(e,t,r)=>{const n=Wx(e),a=Wx(t),s=Math.round(n.r+(a.r-n.r)*r),o=Math.round(n.g+(a.g-n.g)*r),l=Math.round(n.b+(a.b-n.b)*r);return`#${s.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}${l.toString(16).padStart(2,"0")}`},qx=e=>({50:rl(e,"#ffffff",.93),100:rl(e,"#ffffff",.85),200:rl(e,"#ffffff",.72),300:rl(e,"#ffffff",.52),400:rl(e,"#ffffff",.28),500:e,600:rl(e,"#000000",.12),700:rl(e,"#000000",.26),800:rl(e,"#000000",.42),900:rl(e,"#000000",.58)}),Y5=e=>{const{r:t,g:r,b:n}=Wx(e);return`${t} ${r} ${n}`},_7=[{name:"Inter",value:"Inter",category:"Sans-serif",description:"Modern & clean (default)"},{name:"Poppins",value:"Poppins",category:"Sans-serif",description:"Geometric & friendly"},{name:"Nunito",value:"Nunito",category:"Sans-serif",description:"Rounded & warm"},{name:"Roboto",value:"Roboto",category:"Sans-serif",description:"Google's signature font"},{name:"Open Sans",value:"Open Sans",category:"Sans-serif",description:"Professional & readable"},{name:"Lato",value:"Lato",category:"Sans-serif",description:"Elegant & stable"},{name:"Montserrat",value:"Montserrat",category:"Sans-serif",description:"Bold & impactful"},{name:"Raleway",value:"Raleway",category:"Sans-serif",description:"Stylish & thin"},{name:"Source Sans 3",value:"Source Sans 3",category:"Sans-serif",description:"Adobe's open-source sans"},{name:"DM Sans",value:"DM Sans",category:"Sans-serif",description:"Low-contrast geometric"},{name:"Quicksand",value:"Quicksand",category:"Sans-serif",description:"Playful & rounded"},{name:"Outfit",value:"Outfit",category:"Sans-serif",description:"Contemporary & versatile"}],hd="Inter",pd="normal",N7=[{key:"bold",label:"Bold",icon:"B",css:{fontWeight:"bold"},cssVar:"--font-weight",cssValue:"bold",description:"Make headings bolder"},{key:"italic",label:"Italic",icon:"I",css:{fontStyle:"italic"},cssVar:"--font-style",cssValue:"italic",description:"Add italic emphasis"},{key:"uppercase",label:"Uppercase",icon:"AA",css:{textTransform:"uppercase"},cssVar:"--text-transform",cssValue:"uppercase",description:"MAKE HEADINGS UPPERCASE"}],Vi=e=>!e||e==="normal"?[]:e.split(" ").filter(t=>["bold","italic","uppercase"].includes(t)),S7=e=>!e||e.length===0?"normal":e.join(" "),Vc=(e,t,r,n)=>{const a=document.documentElement;if(e){const s=qx(e);Object.entries(s).forEach(([o,l])=>{a.style.setProperty(`--primary-${o}`,Y5(l))})}if(t){const s=qx(t);Object.entries(s).forEach(([o,l])=>{a.style.setProperty(`--accent-${o}`,Y5(l))})}r&&(a.style.setProperty("--font-family",`'${r}', system-ui, sans-serif`),document.body.style.fontFamily=`'${r}', system-ui, sans-serif`),n!==void 0&&RN(n)},j7=e=>{if(!e)return;document.documentElement.style.setProperty("--font-family",`'${e}', system-ui, sans-serif`),document.body.style.fontFamily=`'${e}', system-ui, sans-serif`},RN=e=>{const t=document.documentElement,r=Vi(e);t.style.setProperty("--heading-font-weight",r.includes("bold")?"800":"600"),t.style.setProperty("--heading-font-style",r.includes("italic")?"italic":"normal"),t.style.setProperty("--heading-text-transform",r.includes("uppercase")?"uppercase":"none")},V1=()=>{const e=document.documentElement;[50,100,200,300,400,500,600,700,800,900].forEach(r=>{e.style.removeProperty(`--primary-${r}`),e.style.removeProperty(`--accent-${r}`)}),e.style.removeProperty("--font-family"),e.style.removeProperty("--heading-font-weight"),e.style.removeProperty("--heading-font-style"),e.style.removeProperty("--heading-text-transform"),document.body.style.fontFamily=""},A7=()=>{try{const e=localStorage.getItem("school_branding");if(e){const{primary_color:t,secondary_color:r,font_family:n,font_style:a}=JSON.parse(e);Vc(t,r,n,a)}}catch{}},Vx=(e,t,r,n)=>{localStorage.setItem("school_branding",JSON.stringify({primary_color:e||null,secondary_color:t||null,font_family:r||null,font_style:n||null})),Vc(e,t,r,n)},E7=[{name:"Royal Blue",primary:"#1e3a5f",accent:"#f0ad4e",emoji:""},{name:"Forest Green",primary:"#1a5632",accent:"#e8a838",emoji:""},{name:"Crimson Red",primary:"#8b1a2b",accent:"#f5c542",emoji:""},{name:"Deep Purple",primary:"#4a1a6b",accent:"#ff9f43",emoji:""},{name:"Ocean Teal",primary:"#0d6e6e",accent:"#ffa94d",emoji:""},{name:"Warm Earth",primary:"#6b3a1a",accent:"#78c257",emoji:""},{name:"Slate Pro",primary:"#334155",accent:"#38bdf8",emoji:""},{name:"Sky Blue",primary:"#0369a1",accent:"#fb923c",emoji:""},{name:"Rose Gold",primary:"#9f1239",accent:"#fbbf24",emoji:""},{name:"Midnight",primary:"#1e1b4b",accent:"#a78bfa",emoji:""}],md="#1e3a5f",gd="#f0ad4e";var DN={exports:{}};(function(e,t){((r,n)=>{e.exports=n()})(py,function(){var r=function(m,b){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(C,F){C.__proto__=F}:function(C,F){for(var U in F)Object.prototype.hasOwnProperty.call(F,U)&&(C[U]=F[U])}))(m,b)},n=function(){return(n=Object.assign||function(m){for(var b,C=1,F=arguments.length;C<F;C++)for(var U in b=arguments[C])Object.prototype.hasOwnProperty.call(b,U)&&(m[U]=b[U]);return m}).apply(this,arguments)};function a(m,b,C){for(var F,U=0,J=b.length;U<J;U++)!F&&U in b||((F=F||Array.prototype.slice.call(b,0,U))[U]=b[U]);return m.concat(F||Array.prototype.slice.call(b))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:py,o=Object.keys,l=Array.isArray;function c(m,b){return typeof b=="object"&&o(b).forEach(function(C){m[C]=b[C]}),m}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var u=Object.getPrototypeOf,f={}.hasOwnProperty;function p(m,b){return f.call(m,b)}function g(m,b){typeof b=="function"&&(b=b(u(m))),(typeof Reflect>"u"?o:Reflect.ownKeys)(b).forEach(function(C){y(m,C,b[C])})}var d=Object.defineProperty;function y(m,b,C,F){d(m,b,c(C&&p(C,"get")&&typeof C.get=="function"?{get:C.get,set:C.set,configurable:!0}:{value:C,configurable:!0,writable:!0},F))}function x(m){return{from:function(b){return m.prototype=Object.create(b.prototype),y(m.prototype,"constructor",m),{extend:g.bind(null,m.prototype)}}}}var _=Object.getOwnPropertyDescriptor,w=[].slice;function S(m,b,C){return w.call(m,b,C)}function j(m,b){return b(m)}function T(m){if(!m)throw new Error("Assertion Failed")}function q(m){s.setImmediate?setImmediate(m):setTimeout(m,0)}function se(m,b){if(typeof b=="string"&&p(m,b))return m[b];if(!b)return m;if(typeof b!="string"){for(var C=[],F=0,U=b.length;F<U;++F){var J=se(m,b[F]);C.push(J)}return C}var oe,me=b.indexOf(".");return me===-1||(oe=m[b.substr(0,me)])==null?void 0:se(oe,b.substr(me+1))}function L(m,b,C){if(m&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(m)))if(typeof b!="string"&&"length"in b){T(typeof C!="string"&&"length"in C);for(var F=0,U=b.length;F<U;++F)L(m,b[F],C[F])}else{var J,oe,me=b.indexOf(".");me!==-1?(J=b.substr(0,me),(me=b.substr(me+1))===""?C===void 0?l(m)&&!isNaN(parseInt(J))?m.splice(J,1):delete m[J]:m[J]=C:L(oe=(oe=m[J])&&p(m,J)?oe:m[J]={},me,C)):C===void 0?l(m)&&!isNaN(parseInt(b))?m.splice(b,1):delete m[b]:m[b]=C}}function k(m){var b,C={};for(b in m)p(m,b)&&(C[b]=m[b]);return C}var R=[].concat;function Y(m){return R.apply([],m)}var A="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Y([8,16,32,64].map(function(m){return["Int","Uint","Float"].map(function(b){return b+m+"Array"})}))).filter(function(m){return s[m]}),P=new Set(A.map(function(m){return s[m]})),B=null;function z(m){return B=new WeakMap,m=function b(C){if(!C||typeof C!="object")return C;var F=B.get(C);if(F)return F;if(l(C)){F=[],B.set(C,F);for(var U=0,J=C.length;U<J;++U)F.push(b(C[U]))}else if(P.has(C.constructor))F=C;else{var oe,me=u(C);for(oe in F=me===Object.prototype?{}:Object.create(me),B.set(C,F),C)p(C,oe)&&(F[oe]=b(C[oe]))}return F}(m),B=null,m}var te={}.toString;function de(m){return te.call(m).slice(8,-1)}var X=typeof Symbol<"u"?Symbol.iterator:"@@iterator",W=typeof X=="symbol"?function(m){var b;return m!=null&&(b=m[X])&&b.apply(m)}:function(){return null};function M(m,b){b=m.indexOf(b),0<=b&&m.splice(b,1)}var he={};function Se(m){var b,C,F,U;if(arguments.length===1){if(l(m))return m.slice();if(this===he&&typeof m=="string")return[m];if(U=W(m))for(C=[];!(F=U.next()).done;)C.push(F.value);else{if(m==null)return[m];if(typeof(b=m.length)!="number")return[m];for(C=new Array(b);b--;)C[b]=m[b]}}else for(b=arguments.length,C=new Array(b);b--;)C[b]=arguments[b];return C}var le=typeof Symbol<"u"?function(m){return m[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},A=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],pe=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(A),H={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function D(m,b){this.name=m,this.message=b}function I(m,b){return m+". Errors: "+Object.keys(b).map(function(C){return b[C].toString()}).filter(function(C,F,U){return U.indexOf(C)===F}).join(`
`)}function ne(m,b,C,F){this.failures=b,this.failedKeys=F,this.successCount=C,this.message=I(m,b)}function ge(m,b){this.name="BulkError",this.failures=Object.keys(b).map(function(C){return b[C]}),this.failuresByPos=b,this.message=I(m,this.failures)}x(D).from(Error).extend({toString:function(){return this.name+": "+this.message}}),x(ne).from(D),x(ge).from(D);var Ee=pe.reduce(function(m,b){return m[b]=b+"Error",m},{}),xe=D,Z=pe.reduce(function(m,b){var C=b+"Error";function F(U,J){this.name=C,U?typeof U=="string"?(this.message="".concat(U).concat(J?`
 `+J:""),this.inner=J||null):typeof U=="object"&&(this.message="".concat(U.name," ").concat(U.message),this.inner=U):(this.message=H[b]||C,this.inner=null)}return x(F).from(xe),m[b]=F,m},{}),Me=(Z.Syntax=SyntaxError,Z.Type=TypeError,Z.Range=RangeError,A.reduce(function(m,b){return m[b+"Error"]=Z[b],m},{}));A=pe.reduce(function(m,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(m[b+"Error"]=Z[b]),m},{});function Ve(){}function it(m){return m}function dt(m,b){return m==null||m===it?b:function(C){return b(m(C))}}function ae(m,b){return function(){m.apply(this,arguments),b.apply(this,arguments)}}function Pe(m,b){return m===Ve?b:function(){var C=m.apply(this,arguments),F=(C!==void 0&&(arguments[0]=C),this.onsuccess),U=this.onerror,J=(this.onsuccess=null,this.onerror=null,b.apply(this,arguments));return F&&(this.onsuccess=this.onsuccess?ae(F,this.onsuccess):F),U&&(this.onerror=this.onerror?ae(U,this.onerror):U),J!==void 0?J:C}}function et(m,b){return m===Ve?b:function(){m.apply(this,arguments);var C=this.onsuccess,F=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?ae(C,this.onsuccess):C),F&&(this.onerror=this.onerror?ae(F,this.onerror):F)}}function yt(m,b){return m===Ve?b:function(U){var F=m.apply(this,arguments),U=(c(U,F),this.onsuccess),J=this.onerror,oe=(this.onsuccess=null,this.onerror=null,b.apply(this,arguments));return U&&(this.onsuccess=this.onsuccess?ae(U,this.onsuccess):U),J&&(this.onerror=this.onerror?ae(J,this.onerror):J),F===void 0?oe===void 0?void 0:oe:c(F,oe)}}function Fe(m,b){return m===Ve?b:function(){return b.apply(this,arguments)!==!1&&m.apply(this,arguments)}}function gt(m,b){return m===Ve?b:function(){var C=m.apply(this,arguments);if(C&&typeof C.then=="function"){for(var F=this,U=arguments.length,J=new Array(U);U--;)J[U]=arguments[U];return C.then(function(){return b.apply(F,J)})}return b.apply(this,arguments)}}A.ModifyError=ne,A.DexieError=D,A.BulkError=ge;var xt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Rt(m){xt=m}var Nt={},je=100,jt=typeof Promise>"u"?[]:(pe=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[jt=crypto.subtle.digest("SHA-512",new Uint8Array([0])),u(jt),pe]:[pe,u(pe),pe]),pe=jt[0],Wa=jt[1],Wa=Wa&&Wa.then,Ze=pe&&pe.constructor,pt=!!jt[2],tt=function(m,b){Vt.push([m,b]),bt&&(queueMicrotask(Cn),bt=!1)},Ct=!0,bt=!0,wr=[],Mt=[],Zt=it,sr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ve,pgp:!1,env:{},finalize:Ve},Tt=sr,Vt=[],ir=0,Xt=[];function at(m){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=Tt;if(typeof m!="function"){if(m!==Nt)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ar(this,this._value)}else this._state=null,this._value=null,++b.ref,function C(F,U){try{U(function(J){if(F._state===null){if(J===F)throw new TypeError("A promise cannot be resolved with itself.");var oe=F._lib&&un();J&&typeof J.then=="function"?C(F,function(me,De){J instanceof at?J._then(me,De):J.then(me,De)}):(F._state=!0,F._value=J,Ar(F)),oe&&mt()}},ar.bind(null,F))}catch(J){ar(F,J)}}(this,m)}var Sr={get:function(){var m=Tt,b=we;function C(F,U){var J=this,oe=!m.global&&(m!==Tt||b!==we),me=oe&&!be(),De=new at(function(Ue,Oe){qn(J,new pr(St(F,m,oe,me),St(U,m,oe,me),Ue,Oe,m))});return this._consoleTask&&(De._consoleTask=this._consoleTask),De}return C.prototype=Nt,C},set:function(m){y(this,"then",m&&m.prototype===Nt?Sr:{get:function(){return m},set:Sr.set})}};function pr(m,b,C,F,U){this.onFulfilled=typeof m=="function"?m:null,this.onRejected=typeof b=="function"?b:null,this.resolve=C,this.reject=F,this.psd=U}function ar(m,b){var C,F;Mt.push(b),m._state===null&&(C=m._lib&&un(),b=Zt(b),m._state=!1,m._value=b,F=m,wr.some(function(U){return U._value===F._value})||wr.push(F),Ar(m),C)&&mt()}function Ar(m){var b=m._listeners;m._listeners=[];for(var C=0,F=b.length;C<F;++C)qn(m,b[C]);var U=m._PSD;--U.ref||U.finalize(),ir===0&&(++ir,tt(function(){--ir==0&&yr()},[]))}function qn(m,b){if(m._state===null)m._listeners.push(b);else{var C=m._state?b.onFulfilled:b.onRejected;if(C===null)return(m._state?b.resolve:b.reject)(m._value);++b.psd.ref,++ir,tt(gr,[C,m,b])}}function gr(m,b,C){try{var F,U=b._value;!b._state&&Mt.length&&(Mt=[]),F=xt&&b._consoleTask?b._consoleTask.run(function(){return m(U)}):m(U),b._state||Mt.indexOf(U)!==-1||(J=>{for(var oe=wr.length;oe;)if(wr[--oe]._value===J._value)return wr.splice(oe,1)})(b),C.resolve(F)}catch(J){C.reject(J)}finally{--ir==0&&yr(),--C.psd.ref||C.psd.finalize()}}function Cn(){Ye(sr,function(){un()&&mt()})}function un(){var m=Ct;return bt=Ct=!1,m}function mt(){var m,b,C;do for(;0<Vt.length;)for(m=Vt,Vt=[],C=m.length,b=0;b<C;++b){var F=m[b];F[0].apply(null,F[1])}while(0<Vt.length);bt=Ct=!0}function yr(){for(var m=wr,b=(wr=[],m.forEach(function(F){F._PSD.onunhandled.call(null,F._value,F)}),Xt.slice(0)),C=b.length;C;)b[--C]()}function Hr(m){return new at(Nt,!1,m)}function mr(m,b){var C=Tt;return function(){var F=un(),U=Tt;try{return $e(C,!0),m.apply(this,arguments)}catch(J){b&&b(J)}finally{$e(U,!1),F&&mt()}}}g(at.prototype,{then:Sr,_then:function(m,b){qn(this,new pr(null,null,m,b,Tt))},catch:function(m){var b,C;return arguments.length===1?this.then(null,m):(b=m,C=arguments[1],typeof b=="function"?this.then(null,function(F){return(F instanceof b?C:Hr)(F)}):this.then(null,function(F){return(F&&F.name===b?C:Hr)(F)}))},finally:function(m){return this.then(function(b){return at.resolve(m()).then(function(){return b})},function(b){return at.resolve(m()).then(function(){return Hr(b)})})},timeout:function(m,b){var C=this;return m<1/0?new at(function(F,U){var J=setTimeout(function(){return U(new Z.Timeout(b))},m);C.then(F,U).finally(clearTimeout.bind(null,J))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&y(at.prototype,Symbol.toStringTag,"Dexie.Promise"),sr.env=Ke(),g(at,{all:function(){var m=Se.apply(null,arguments).map(qe);return new at(function(b,C){m.length===0&&b([]);var F=m.length;m.forEach(function(U,J){return at.resolve(U).then(function(oe){m[J]=oe,--F||b(m)},C)})})},resolve:function(m){return m instanceof at?m:m&&typeof m.then=="function"?new at(function(b,C){m.then(b,C)}):new at(Nt,!0,m)},reject:Hr,race:function(){var m=Se.apply(null,arguments).map(qe);return new at(function(b,C){m.map(function(F){return at.resolve(F).then(b,C)})})},PSD:{get:function(){return Tt},set:function(m){return Tt=m}},totalEchoes:{get:function(){return we}},newPSD:fe,usePSD:Ye,scheduler:{get:function(){return tt},set:function(m){tt=m}},rejectionMapper:{get:function(){return Zt},set:function(m){Zt=m}},follow:function(m,b){return new at(function(C,F){return fe(function(U,J){var oe=Tt;oe.unhandleds=[],oe.onunhandled=J,oe.finalize=ae(function(){var me,De=this;me=function(){De.unhandleds.length===0?U():J(De.unhandleds[0])},Xt.push(function Ue(){me(),Xt.splice(Xt.indexOf(Ue),1)}),++ir,tt(function(){--ir==0&&yr()},[])},oe.finalize),m()},b,C,F)})}}),Ze&&(Ze.allSettled&&y(at,"allSettled",function(){var m=Se.apply(null,arguments).map(qe);return new at(function(b){m.length===0&&b([]);var C=m.length,F=new Array(C);m.forEach(function(U,J){return at.resolve(U).then(function(oe){return F[J]={status:"fulfilled",value:oe}},function(oe){return F[J]={status:"rejected",reason:oe}}).then(function(){return--C||b(F)})})})}),Ze.any&&typeof AggregateError<"u"&&y(at,"any",function(){var m=Se.apply(null,arguments).map(qe);return new at(function(b,C){m.length===0&&C(new AggregateError([]));var F=m.length,U=new Array(F);m.forEach(function(J,oe){return at.resolve(J).then(function(me){return b(me)},function(me){U[oe]=me,--F||C(new AggregateError(U))})})})}),Ze.withResolvers)&&(at.withResolvers=Ze.withResolvers);var Tr={awaits:0,echoes:0,id:0},on=0,yn=[],Q=0,we=0,ce=0;function fe(m,oe,C,F){var U=Tt,J=Object.create(U),oe=(J.parent=U,J.ref=0,J.global=!1,J.id=++ce,sr.env,J.env=pt?{Promise:at,PromiseProp:{value:at,configurable:!0,writable:!0},all:at.all,race:at.race,allSettled:at.allSettled,any:at.any,resolve:at.resolve,reject:at.reject}:{},oe&&c(J,oe),++U.ref,J.finalize=function(){--this.parent.ref||this.parent.finalize()},Ye(J,m,C,F));return J.ref===0&&J.finalize(),oe}function ve(){return Tr.id||(Tr.id=++on),++Tr.awaits,Tr.echoes+=je,Tr.id}function be(){return!!Tr.awaits&&(--Tr.awaits==0&&(Tr.id=0),Tr.echoes=Tr.awaits*je,!0)}function qe(m){return Tr.echoes&&m&&m.constructor===Ze?(ve(),m.then(function(b){return be(),b},function(b){return be(),Lt(b)})):m}function nt(){var m=yn[yn.length-1];yn.pop(),$e(m,!1)}function $e(m,b){var C,F,U=Tt;(b?!Tr.echoes||Q++&&m===Tt:!Q||--Q&&m===Tt)||queueMicrotask(b?(function(J){++we,Tr.echoes&&--Tr.echoes!=0||(Tr.echoes=Tr.awaits=Tr.id=0),yn.push(Tt),$e(J,!0)}).bind(null,m):nt),m!==Tt&&(Tt=m,U===sr&&(sr.env=Ke()),pt)&&(C=sr.env.Promise,F=m.env,U.global||m.global)&&(Object.defineProperty(s,"Promise",F.PromiseProp),C.all=F.all,C.race=F.race,C.resolve=F.resolve,C.reject=F.reject,F.allSettled&&(C.allSettled=F.allSettled),F.any)&&(C.any=F.any)}function Ke(){var m=s.Promise;return pt?{Promise:m,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:m.all,race:m.race,allSettled:m.allSettled,any:m.any,resolve:m.resolve,reject:m.reject}:{}}function Ye(m,b,C,F,U){var J=Tt;try{return $e(m,!0),b(C,F,U)}finally{$e(J,!1)}}function St(m,b,C,F){return typeof m!="function"?m:function(){var U=Tt;C&&ve(),$e(b,!0);try{return m.apply(this,arguments)}finally{$e(U,!1),F&&queueMicrotask(be)}}}function Dt(m){Promise===Ze&&Tr.echoes===0?Q===0?m():enqueueNativeMicroTask(m):setTimeout(m,0)}(""+Wa).indexOf("[native code]")===-1&&(ve=be=Ve);var Lt=at.reject,kt="",It="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",hr="String expected.",Ir=[],Er="__dbnames",hn="readonly",ys="readwrite";function ia(m,b){return m?b?function(){return m.apply(this,arguments)&&b.apply(this,arguments)}:m:b}var Rs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ea(m){return typeof m!="string"||/\./.test(m)?function(b){return b}:function(b){return b[m]===void 0&&m in b&&delete(b=z(b))[m],b}}function Li(){throw Z.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ur(m,b){try{var C=Ro(m),F=Ro(b);if(C!==F)return C==="Array"?1:F==="Array"?-1:C==="binary"?1:F==="binary"?-1:C==="string"?1:F==="string"?-1:C==="Date"?1:F!=="Date"?NaN:-1;switch(C){case"number":case"Date":case"string":return b<m?1:m<b?-1:0;case"binary":for(var U=Au(m),J=Au(b),oe=U.length,me=J.length,De=oe<me?oe:me,Ue=0;Ue<De;++Ue)if(U[Ue]!==J[Ue])return U[Ue]<J[Ue]?-1:1;return oe===me?0:oe<me?-1:1;case"Array":for(var Oe=m,Ae=b,Ce=Oe.length,Le=Ae.length,Te=Ce<Le?Ce:Le,Re=0;Re<Te;++Re){var Ge=ur(Oe[Re],Ae[Re]);if(Ge!==0)return Ge}return Ce===Le?0:Ce<Le?-1:1}}catch{}return NaN}function Ro(m){var b=typeof m;return b=="object"&&(ArrayBuffer.isView(m)||(b=de(m))==="ArrayBuffer")?"binary":b}function Au(m){return m instanceof Uint8Array?m:ArrayBuffer.isView(m)?new Uint8Array(m.buffer,m.byteOffset,m.byteLength):new Uint8Array(m)}function wn(m,b,C){var F=m.schema.yProps;return F?(b&&0<C.numFailures&&(b=b.filter(function(U,J){return!C.failures[J]})),Promise.all(F.map(function(U){return U=U.updatesTable,b?m.db.table(U).where("k").anyOf(b).delete():m.db.table(U).clear()})).then(function(){return C})):C}Ds.prototype.execute=function(m){var b=this["@@propmod"];if(b.add!==void 0){var C=b.add;if(l(C))return a(a([],l(m)?m:[],!0),C).sort();if(typeof C=="number")return(Number(m)||0)+C;if(typeof C=="bigint")try{return BigInt(m)+C}catch{return BigInt(0)+C}throw new TypeError("Invalid term ".concat(C))}if(b.remove!==void 0){var F=b.remove;if(l(F))return l(m)?m.filter(function(U){return!F.includes(U)}).sort():[];if(typeof F=="number")return Number(m)-F;if(typeof F=="bigint")try{return BigInt(m)-F}catch{return BigInt(0)-F}throw new TypeError("Invalid subtrahend ".concat(F))}return C=(C=b.replacePrefix)==null?void 0:C[0],C&&typeof m=="string"&&m.startsWith(C)?b.replacePrefix[1]+m.substring(C.length):m};var uo=Ds;function Ds(m){this["@@propmod"]=m}function Do(m,b){for(var C=o(b),F=C.length,U=!1,J=0;J<F;++J){var oe=C[J],me=b[oe],De=se(m,oe);me instanceof uo?(L(m,oe,me.execute(De)),U=!0):De!==me&&(L(m,oe,me),U=!0)}return U}Lr.prototype._trans=function(m,b,C){var F=this._tx||Tt.trans,U=this.name,J=xt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(m==="readonly"?"read":"write"," ").concat(this.name));function oe(Ue,Oe,Ae){if(Ae.schema[U])return b(Ae.idbtrans,Ae);throw new Z.NotFound("Table "+U+" not part of transaction")}var me=un();try{var De=F&&F.db._novip===this.db._novip?F===Tt.trans?F._promise(m,oe,C):fe(function(){return F._promise(m,oe,C)},{trans:F,transless:Tt.transless||Tt}):function Ue(Oe,Ae,Ce,Le){if(Oe.idbdb&&(Oe._state.openComplete||Tt.letThrough||Oe._vip)){var Te=Oe._createTransaction(Ae,Ce,Oe._dbSchema);try{Te.create(),Oe._state.PR1398_maxLoop=3}catch(Re){return Re.name===Ee.InvalidState&&Oe.isOpen()&&0<--Oe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Oe.close({disableAutoOpen:!1}),Oe.open().then(function(){return Ue(Oe,Ae,Ce,Le)})):Lt(Re)}return Te._promise(Ae,function(Re,Ge){return fe(function(){return Tt.trans=Te,Le(Re,Ge,Te)})}).then(function(Re){if(Ae==="readwrite")try{Te.idbtrans.commit()}catch{}return Ae==="readonly"?Re:Te._completion.then(function(){return Re})})}if(Oe._state.openComplete)return Lt(new Z.DatabaseClosed(Oe._state.dbOpenError));if(!Oe._state.isBeingOpened){if(!Oe._state.autoOpen)return Lt(new Z.DatabaseClosed);Oe.open().catch(Ve)}return Oe._state.dbReadyPromise.then(function(){return Ue(Oe,Ae,Ce,Le)})}(this.db,m,[this.name],oe);return J&&(De._consoleTask=J,De=De.catch(function(Ue){return console.trace(Ue),Lt(Ue)})),De}finally{me&&mt()}},Lr.prototype.get=function(m,b){var C=this;return m&&m.constructor===Object?this.where(m).first(b):m==null?Lt(new Z.Type("Invalid argument to Table.get()")):this._trans("readonly",function(F){return C.core.get({trans:F,key:m}).then(function(U){return C.hook.reading.fire(U)})}).then(b)},Lr.prototype.where=function(m){if(typeof m=="string")return new this.db.WhereClause(this,m);if(l(m))return new this.db.WhereClause(this,"[".concat(m.join("+"),"]"));var b=o(m);if(b.length===1)return this.where(b[0]).equals(m[b[0]]);var C=this.schema.indexes.concat(this.schema.primKey).filter(function(me){if(me.compound&&b.every(function(Ue){return 0<=me.keyPath.indexOf(Ue)})){for(var De=0;De<b.length;++De)if(b.indexOf(me.keyPath[De])===-1)return!1;return!0}return!1}).sort(function(me,De){return me.keyPath.length-De.keyPath.length})[0];if(C&&this.db._maxKey!==kt)return oe=C.keyPath.slice(0,b.length),this.where(oe).equals(oe.map(function(me){return m[me]}));!C&&xt&&console.warn("The query ".concat(JSON.stringify(m)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var F=this.schema.idxByName;function U(me,De){return ur(me,De)===0}var oe=b.reduce(function(Oe,De){var Ue=Oe[0],Oe=Oe[1],Ae=F[De],Ce=m[De];return[Ue||Ae,Ue||!Ae?ia(Oe,Ae&&Ae.multi?function(Le){return Le=se(Le,De),l(Le)&&Le.some(function(Te){return U(Ce,Te)})}:function(Le){return U(Ce,se(Le,De))}):Oe]},[null,null]),J=oe[0],oe=oe[1];return J?this.where(J.name).equals(m[J.keyPath]).filter(oe):C?this.filter(oe):this.where(b).equals("")},Lr.prototype.filter=function(m){return this.toCollection().and(m)},Lr.prototype.count=function(m){return this.toCollection().count(m)},Lr.prototype.offset=function(m){return this.toCollection().offset(m)},Lr.prototype.limit=function(m){return this.toCollection().limit(m)},Lr.prototype.each=function(m){return this.toCollection().each(m)},Lr.prototype.toArray=function(m){return this.toCollection().toArray(m)},Lr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Lr.prototype.orderBy=function(m){return new this.db.Collection(new this.db.WhereClause(this,l(m)?"[".concat(m.join("+"),"]"):m))},Lr.prototype.reverse=function(){return this.toCollection().reverse()},Lr.prototype.mapToClass=function(m){for(var b=this.db,C=this.name,F=((this.schema.mappedClass=m).prototype instanceof Li&&(m=(oe=>{var me=Oe,De=oe;if(typeof De!="function"&&De!==null)throw new TypeError("Class extends value "+String(De)+" is not a constructor or null");function Ue(){this.constructor=me}function Oe(){return oe!==null&&oe.apply(this,arguments)||this}return r(me,De),me.prototype=De===null?Object.create(De):(Ue.prototype=De.prototype,new Ue),Object.defineProperty(Oe.prototype,"db",{get:function(){return b},enumerable:!1,configurable:!0}),Oe.prototype.table=function(){return C},Oe})(m)),new Set),U=m.prototype;U;U=u(U))Object.getOwnPropertyNames(U).forEach(function(oe){return F.add(oe)});function J(oe){if(!oe)return oe;var me,De=Object.create(m.prototype);for(me in oe)if(!F.has(me))try{De[me]=oe[me]}catch{}return De}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=J,this.hook("reading",J),m},Lr.prototype.defineClass=function(){return this.mapToClass(function(m){c(this,m)})},Lr.prototype.add=function(m,b){var C=this,F=this.schema.primKey,U=F.auto,J=F.keyPath,oe=m;return J&&U&&(oe=Ea(J)(m)),this._trans("readwrite",function(me){return C.core.mutate({trans:me,type:"add",keys:b!=null?[b]:null,values:[oe]})}).then(function(me){return me.numFailures?at.reject(me.failures[0]):me.lastResult}).then(function(me){if(J)try{L(m,J,me)}catch{}return me})},Lr.prototype.upsert=function(m,b){var C=this,F=this.schema.primKey.keyPath;return this._trans("readwrite",function(U){return C.core.get({trans:U,key:m}).then(function(J){var oe=J??{};return Do(oe,b),F&&L(oe,F,m),C.core.mutate({trans:U,type:"put",values:[oe],keys:[m],upsert:!0,updates:{keys:[m],changeSpecs:[b]}}).then(function(me){return me.numFailures?at.reject(me.failures[0]):!!J})})})},Lr.prototype.update=function(m,b){return typeof m!="object"||l(m)?this.where(":id").equals(m).modify(b):(m=se(m,this.schema.primKey.keyPath))===void 0?Lt(new Z.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(m).modify(b)},Lr.prototype.put=function(m,b){var C=this,F=this.schema.primKey,U=F.auto,J=F.keyPath,oe=m;return J&&U&&(oe=Ea(J)(m)),this._trans("readwrite",function(me){return C.core.mutate({trans:me,type:"put",values:[oe],keys:b!=null?[b]:null})}).then(function(me){return me.numFailures?at.reject(me.failures[0]):me.lastResult}).then(function(me){if(J)try{L(m,J,me)}catch{}return me})},Lr.prototype.delete=function(m){var b=this;return this._trans("readwrite",function(C){return b.core.mutate({trans:C,type:"delete",keys:[m]}).then(function(F){return wn(b,[m],F)}).then(function(F){return F.numFailures?at.reject(F.failures[0]):void 0})})},Lr.prototype.clear=function(){var m=this;return this._trans("readwrite",function(b){return m.core.mutate({trans:b,type:"deleteRange",range:Rs}).then(function(C){return wn(m,null,C)})}).then(function(b){return b.numFailures?at.reject(b.failures[0]):void 0})},Lr.prototype.bulkGet=function(m){var b=this;return this._trans("readonly",function(C){return b.core.getMany({keys:m,trans:C}).then(function(F){return F.map(function(U){return b.hook.reading.fire(U)})})})},Lr.prototype.bulkAdd=function(m,b,C){var F=this,U=Array.isArray(b)?b:void 0,J=(C=C||(U?void 0:b))?C.allKeys:void 0;return this._trans("readwrite",function(oe){var me=F.schema.primKey,Ue=me.auto,me=me.keyPath;if(me&&U)throw new Z.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(U&&U.length!==m.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");var De=m.length,Ue=me&&Ue?m.map(Ea(me)):m;return F.core.mutate({trans:oe,type:"add",keys:U,values:Ue,wantResults:J}).then(function(Oe){var Ae=Oe.numFailures,Ce=Oe.failures;if(Ae===0)return J?Oe.results:Oe.lastResult;throw new ge("".concat(F.name,".bulkAdd(): ").concat(Ae," of ").concat(De," operations failed"),Ce)})})},Lr.prototype.bulkPut=function(m,b,C){var F=this,U=Array.isArray(b)?b:void 0,J=(C=C||(U?void 0:b))?C.allKeys:void 0;return this._trans("readwrite",function(oe){var me=F.schema.primKey,Ue=me.auto,me=me.keyPath;if(me&&U)throw new Z.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(U&&U.length!==m.length)throw new Z.InvalidArgument("Arguments objects and keys must have the same length");var De=m.length,Ue=me&&Ue?m.map(Ea(me)):m;return F.core.mutate({trans:oe,type:"put",keys:U,values:Ue,wantResults:J}).then(function(Oe){var Ae=Oe.numFailures,Ce=Oe.failures;if(Ae===0)return J?Oe.results:Oe.lastResult;throw new ge("".concat(F.name,".bulkPut(): ").concat(Ae," of ").concat(De," operations failed"),Ce)})})},Lr.prototype.bulkUpdate=function(m){var b=this,C=this.core,F=m.map(function(oe){return oe.key}),U=m.map(function(oe){return oe.changes}),J=[];return this._trans("readwrite",function(oe){return C.getMany({trans:oe,keys:F,cache:"clone"}).then(function(me){var De=[],Ue=[],Oe=(m.forEach(function(Ae,Ce){var Le=Ae.key,Te=Ae.changes,Re=me[Ce];if(Re){for(var Ge=0,Je=Object.keys(Te);Ge<Je.length;Ge++){var He=Je[Ge],lt=Te[He];if(He===b.schema.primKey.keyPath){if(ur(lt,Le)!==0)throw new Z.Constraint("Cannot update primary key in bulkUpdate()")}else L(Re,He,lt)}J.push(Ce),De.push(Le),Ue.push(Re)}}),De.length);return C.mutate({trans:oe,type:"put",keys:De,values:Ue,updates:{keys:F,changeSpecs:U}}).then(function(Ae){var Ce=Ae.numFailures,Le=Ae.failures;if(Ce===0)return Oe;for(var Te=0,Re=Object.keys(Le);Te<Re.length;Te++){var Ge,Je=Re[Te],He=J[Number(Je)];He!=null&&(Ge=Le[Je],delete Le[Je],Le[He]=Ge)}throw new ge("".concat(b.name,".bulkUpdate(): ").concat(Ce," of ").concat(Oe," operations failed"),Le)})})})},Lr.prototype.bulkDelete=function(m){var b=this,C=m.length;return this._trans("readwrite",function(F){return b.core.mutate({trans:F,type:"delete",keys:m}).then(function(U){return wn(b,m,U)})}).then(function(F){var U=F.numFailures,J=F.failures;if(U===0)return F.lastResult;throw new ge("".concat(b.name,".bulkDelete(): ").concat(U," of ").concat(C," operations failed"),J)})};var Pc=Lr;function Lr(){}function bn(m){function b(oe,me){if(me){for(var De=arguments.length,Ue=new Array(De-1);--De;)Ue[De-1]=arguments[De];return C[oe].subscribe.apply(null,Ue),m}if(typeof oe=="string")return C[oe]}var C={};b.addEventType=J;for(var F=1,U=arguments.length;F<U;++F)J(arguments[F]);return b;function J(oe,me,De){var Ue,Oe;if(typeof oe!="object")return me=me||Fe,Oe={subscribers:[],fire:De=De||Ve,subscribe:function(Ae){Oe.subscribers.indexOf(Ae)===-1&&(Oe.subscribers.push(Ae),Oe.fire=me(Oe.fire,Ae))},unsubscribe:function(Ae){Oe.subscribers=Oe.subscribers.filter(function(Ce){return Ce!==Ae}),Oe.fire=Oe.subscribers.reduce(me,De)}},C[oe]=b[oe]=Oe;o(Ue=oe).forEach(function(Ae){var Ce=Ue[Ae];if(l(Ce))J(Ae,Ue[Ae][0],Ue[Ae][1]);else{if(Ce!=="asap")throw new Z.InvalidArgument("Invalid event config");var Le=J(Ae,it,function(){for(var Te=arguments.length,Re=new Array(Te);Te--;)Re[Te]=arguments[Te];Le.subscribers.forEach(function(Ge){q(function(){Ge.apply(null,Re)})})})}})}}function as(m,b){return x(b).from({prototype:m}),b}function Fi(m,b){return!(m.filter||m.algorithm||m.or)&&(b?m.justLimit:!m.replayFilter)}function Lc(m,b){m.filter=ia(m.filter,b)}function Fc(m,b,C){var F=m.replayFilter;m.replayFilter=F?function(){return ia(F(),b())}:b,m.justLimit=C&&!F}function ss(m,b){if(m.isPrimKey)return b.primaryKey;var C=b.getIndexByKeyPath(m.index);if(C)return C;throw new Z.Schema("KeyPath "+m.index+" on object store "+b.name+" is not indexed")}function Oc(m,b,C){var F=ss(m,b.schema);return b.openCursor({trans:C,values:!m.keysOnly,reverse:m.dir==="prev",unique:!!m.unique,query:{index:F,range:m.range}})}function Io(m,b,C,F){var U,J,oe=m.replayFilter?ia(m.filter,m.replayFilter()):m.filter;return m.or?(U={},J=function(me,De,Ue){var Oe,Ae;oe&&!oe(De,Ue,function(Ce){return De.stop(Ce)},function(Ce){return De.fail(Ce)})||((Ae=""+(Oe=De.primaryKey))=="[object ArrayBuffer]"&&(Ae=""+new Uint8Array(Oe)),p(U,Ae))||(U[Ae]=!0,b(me,De,Ue))},Promise.all([m.or._iterate(J,C),Mo(Oc(m,F,C),m.algorithm,J,!m.keysOnly&&m.valueMapper)])):Mo(Oc(m,F,C),ia(m.algorithm,oe),b,!m.keysOnly&&m.valueMapper)}function Mo(m,b,C,F){var U=mr(F?function(J,oe,me){return C(F(J),oe,me)}:C);return m.then(function(J){if(J)return J.start(function(){var oe=function(){return J.continue()};b&&!b(J,function(me){return oe=me},function(me){J.stop(me),oe=Ve},function(me){J.fail(me),oe=Ve})||U(J.value,J,function(me){return oe=me}),oe()})})}Dr.prototype._read=function(m,b){var C=this._ctx;return C.error?C.table._trans(null,Lt.bind(null,C.error)):C.table._trans("readonly",m).then(b)},Dr.prototype._write=function(m){var b=this._ctx;return b.error?b.table._trans(null,Lt.bind(null,b.error)):b.table._trans("readwrite",m,"locked")},Dr.prototype._addAlgorithm=function(m){var b=this._ctx;b.algorithm=ia(b.algorithm,m)},Dr.prototype._iterate=function(m,b){return Io(this._ctx,m,b,this._ctx.table.core)},Dr.prototype.clone=function(m){var b=Object.create(this.constructor.prototype),C=Object.create(this._ctx);return m&&c(C,m),b._ctx=C,b},Dr.prototype.raw=function(){return this._ctx.valueMapper=null,this},Dr.prototype.each=function(m){var b=this._ctx;return this._read(function(C){return Io(b,m,C,b.table.core)})},Dr.prototype.count=function(m){var b=this;return this._read(function(C){var F,U=b._ctx,J=U.table.core;return Fi(U,!0)?J.count({trans:C,query:{index:ss(U,J.schema),range:U.range}}).then(function(oe){return Math.min(oe,U.limit)}):(F=0,Io(U,function(){return++F,!1},C,J).then(function(){return F}))}).then(m)},Dr.prototype.sortBy=function(m,b){var C=m.split(".").reverse(),F=C[0],U=C.length-1;function J(De,Ue){return Ue?J(De[C[Ue]],Ue-1):De[F]}var oe=this._ctx.dir==="next"?1:-1;function me(De,Ue){return ur(J(De,U),J(Ue,U))*oe}return this.toArray(function(De){return De.sort(me)}).then(b)},Dr.prototype.toArray=function(m){var b=this;return this._read(function(C){var F,U,J,oe=b._ctx;return oe.dir==="next"&&Fi(oe,!0)&&0<oe.limit?(F=oe.valueMapper,U=ss(oe,oe.table.core.schema),oe.table.core.query({trans:C,limit:oe.limit,values:!0,query:{index:U,range:oe.range}}).then(function(me){return me=me.result,F?me.map(F):me})):(J=[],Io(oe,function(me){return J.push(me)},C,oe.table.core).then(function(){return J}))},m)},Dr.prototype.offset=function(m){var b=this._ctx;return m<=0||(b.offset+=m,Fi(b)?Fc(b,function(){var C=m;return function(F,U){return C===0||(C===1?--C:U(function(){F.advance(C),C=0}),!1)}}):Fc(b,function(){var C=m;return function(){return--C<0}})),this},Dr.prototype.limit=function(m){return this._ctx.limit=Math.min(this._ctx.limit,m),Fc(this._ctx,function(){var b=m;return function(C,F,U){return--b<=0&&F(U),0<=b}},!0),this},Dr.prototype.until=function(m,b){return Lc(this._ctx,function(C,F,U){return!m(C.value)||(F(U),b)}),this},Dr.prototype.first=function(m){return this.limit(1).toArray(function(b){return b[0]}).then(m)},Dr.prototype.last=function(m){return this.reverse().first(m)},Dr.prototype.filter=function(m){var b;return Lc(this._ctx,function(C){return m(C.value)}),(b=this._ctx).isMatch=ia(b.isMatch,m),this},Dr.prototype.and=function(m){return this.filter(m)},Dr.prototype.or=function(m){return new this.db.WhereClause(this._ctx.table,m,this)},Dr.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Dr.prototype.desc=function(){return this.reverse()},Dr.prototype.eachKey=function(m){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(C,F){m(F.key,F)})},Dr.prototype.eachUniqueKey=function(m){return this._ctx.unique="unique",this.eachKey(m)},Dr.prototype.eachPrimaryKey=function(m){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(C,F){m(F.primaryKey,F)})},Dr.prototype.keys=function(m){var b=this._ctx,C=(b.keysOnly=!b.isMatch,[]);return this.each(function(F,U){C.push(U.key)}).then(function(){return C}).then(m)},Dr.prototype.primaryKeys=function(m){var b=this._ctx;if(b.dir==="next"&&Fi(b,!0)&&0<b.limit)return this._read(function(F){var U=ss(b,b.table.core.schema);return b.table.core.query({trans:F,values:!1,limit:b.limit,query:{index:U,range:b.range}})}).then(function(F){return F.result}).then(m);b.keysOnly=!b.isMatch;var C=[];return this.each(function(F,U){C.push(U.primaryKey)}).then(function(){return C}).then(m)},Dr.prototype.uniqueKeys=function(m){return this._ctx.unique="unique",this.keys(m)},Dr.prototype.firstKey=function(m){return this.limit(1).keys(function(b){return b[0]}).then(m)},Dr.prototype.lastKey=function(m){return this.reverse().firstKey(m)},Dr.prototype.distinct=function(){var m,b=this._ctx,b=b.index&&b.table.schema.idxByName[b.index];return b&&b.multi&&(m={},Lc(this._ctx,function(F){var F=F.primaryKey.toString(),U=p(m,F);return m[F]=!0,!U})),this},Dr.prototype.modify=function(m){var b=this,C=this._ctx;return this._write(function(F){function U(Re,Ge){var Je=Ge.failures;Ce+=Re-Ge.numFailures;for(var He=0,lt=o(Je);He<lt.length;He++){var At=lt[He];Ae.push(Je[At])}}var J=typeof m=="function"?m:function(Re){return Do(Re,m)},oe=C.table.core,Oe=oe.schema.primaryKey,me=Oe.outbound,De=Oe.extractKey,Ue=200,Oe=b.db._options.modifyChunkSize,Ae=(Oe&&(Ue=typeof Oe=="object"?Oe[oe.name]||Oe["*"]||200:Oe),[]),Ce=0,Le=[],Te=m===Eu;return b.clone().primaryKeys().then(function(Re){function Ge(He){var lt=Math.min(Ue,Re.length-He),At=Re.slice(He,He+lt);return(Te?Promise.resolve([]):oe.getMany({trans:F,keys:At,cache:"immutable"})).then(function(Bt){var Ut=[],Et=[],Gt=me?[]:null,Wt=Te?At:[];if(!Te)for(var Ot=0;Ot<lt;++Ot){var Jt=Bt[Ot],Or={value:z(Jt),primKey:Re[He+Ot]};J.call(Or,Or.value,Or)!==!1&&(Or.value==null?Wt.push(Re[He+Ot]):me||ur(De(Jt),De(Or.value))===0?(Et.push(Or.value),me&&Gt.push(Re[He+Ot])):(Wt.push(Re[He+Ot]),Ut.push(Or.value)))}return Promise.resolve(0<Ut.length&&oe.mutate({trans:F,type:"add",values:Ut}).then(function(Br){for(var fr in Br.failures)Wt.splice(parseInt(fr),1);U(Ut.length,Br)})).then(function(){return(0<Et.length||Je&&typeof m=="object")&&oe.mutate({trans:F,type:"put",keys:Gt,values:Et,criteria:Je,changeSpec:typeof m!="function"&&m,isAdditionalChunk:0<He}).then(function(Br){return U(Et.length,Br)})}).then(function(){return(0<Wt.length||Je&&Te)&&oe.mutate({trans:F,type:"delete",keys:Wt,criteria:Je,isAdditionalChunk:0<He}).then(function(Br){return wn(C.table,Wt,Br)}).then(function(Br){return U(Wt.length,Br)})}).then(function(){return Re.length>He+lt&&Ge(He+Ue)})})}var Je=Fi(C)&&C.limit===1/0&&(typeof m!="function"||Te)&&{index:C.index,range:C.range};return Ge(0).then(function(){if(0<Ae.length)throw new ne("Error modifying one or more objects",Ae,Ce,Le);return Re.length})})})},Dr.prototype.delete=function(){var m=this._ctx,b=m.range;return!Fi(m)||m.table.schema.yProps||!m.isPrimKey&&b.type!==3?this.modify(Eu):this._write(function(C){var F=m.table.core.schema.primaryKey,U=b;return m.table.core.count({trans:C,query:{index:F,range:U}}).then(function(J){return m.table.core.mutate({trans:C,type:"deleteRange",range:U}).then(function(De){var me=De.failures,De=De.numFailures;if(De)throw new ne("Could not delete some values",Object.keys(me).map(function(Ue){return me[Ue]}),J-De);return J-De})})})};var Bo=Dr;function Dr(){}var Eu=function(m,b){return b.value=null};function Jf(m,b){return m<b?-1:m===b?0:1}function Rc(m,b){return b<m?-1:m===b?0:1}function ma(m,b,C){return m=m instanceof Cu?new m.Collection(m):m,m._ctx.error=new(C||TypeError)(b),m}function ga(m){return new m.Collection(m,function(){return kl("")}).limit(0)}function Cl(Le,b,C,F){var U,J,oe,me,De,Ue,Oe,Ae=C.length;if(!C.every(function(Re){return typeof Re=="string"}))return ma(Le,hr);function Ce(Re){U=Re==="next"?function(Je){return Je.toUpperCase()}:function(Je){return Je.toLowerCase()},J=Re==="next"?function(Je){return Je.toLowerCase()}:function(Je){return Je.toUpperCase()},oe=Re==="next"?Jf:Rc;var Ge=C.map(function(Je){return{lower:J(Je),upper:U(Je)}}).sort(function(Je,He){return oe(Je.lower,He.lower)});me=Ge.map(function(Je){return Je.upper}),De=Ge.map(function(Je){return Je.lower}),Oe=(Ue=Re)==="next"?"":F}Ce("next");var Le=new Le.Collection(Le,function(){return Ha(me[0],De[Ae-1]+F)}),Te=(Le._ondirectionchange=function(Re){Ce(Re)},0);return Le._addAlgorithm(function(Re,Ge,Je){var He=Re.key;if(typeof He=="string"){var lt=J(He);if(b(lt,De,Te))return!0;for(var At=null,Bt=Te;Bt<Ae;++Bt){var Ut=((Et,Gt,Wt,Ot,Jt,Or)=>{for(var Br=Math.min(Et.length,Ot.length),fr=-1,jr=0;jr<Br;++jr){var mn=Gt[jr];if(mn!==Ot[jr])return Jt(Et[jr],Wt[jr])<0?Et.substr(0,jr)+Wt[jr]+Wt.substr(jr+1):Jt(Et[jr],Ot[jr])<0?Et.substr(0,jr)+Ot[jr]+Wt.substr(jr+1):0<=fr?Et.substr(0,fr)+Gt[fr]+Wt.substr(fr+1):null;Jt(Et[jr],mn)<0&&(fr=jr)}return Br<Ot.length&&Or==="next"?Et+Wt.substr(Et.length):Br<Et.length&&Or==="prev"?Et.substr(0,Wt.length):fr<0?null:Et.substr(0,fr)+Ot[fr]+Wt.substr(fr+1)})(He,lt,me[Bt],De[Bt],oe,Ue);Ut===null&&At===null?Te=Bt+1:(At===null||0<oe(At,Ut))&&(At=Ut)}Ge(At!==null?function(){Re.continue(At+Oe)}:Je)}return!1}),Le}function Ha(m,b,C,F){return{type:2,lower:m,upper:b,lowerOpen:C,upperOpen:F}}function kl(m){return{type:1,lower:m,upper:m}}Object.defineProperty(rr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),rr.prototype.between=function(m,b,C,F){C=C!==!1,F=F===!0;try{return 0<this._cmp(m,b)||this._cmp(m,b)===0&&(C||F)&&(!C||!F)?ga(this):new this.Collection(this,function(){return Ha(m,b,!C,!F)})}catch{return ma(this,It)}},rr.prototype.equals=function(m){return m==null?ma(this,It):new this.Collection(this,function(){return kl(m)})},rr.prototype.above=function(m){return m==null?ma(this,It):new this.Collection(this,function(){return Ha(m,void 0,!0)})},rr.prototype.aboveOrEqual=function(m){return m==null?ma(this,It):new this.Collection(this,function(){return Ha(m,void 0,!1)})},rr.prototype.below=function(m){return m==null?ma(this,It):new this.Collection(this,function(){return Ha(void 0,m,!1,!0)})},rr.prototype.belowOrEqual=function(m){return m==null?ma(this,It):new this.Collection(this,function(){return Ha(void 0,m)})},rr.prototype.startsWith=function(m){return typeof m!="string"?ma(this,hr):this.between(m,m+kt,!0,!0)},rr.prototype.startsWithIgnoreCase=function(m){return m===""?this.startsWith(m):Cl(this,function(b,C){return b.indexOf(C[0])===0},[m],kt)},rr.prototype.equalsIgnoreCase=function(m){return Cl(this,function(b,C){return b===C[0]},[m],"")},rr.prototype.anyOfIgnoreCase=function(){var m=Se.apply(he,arguments);return m.length===0?ga(this):Cl(this,function(b,C){return C.indexOf(b)!==-1},m,"")},rr.prototype.startsWithAnyOfIgnoreCase=function(){var m=Se.apply(he,arguments);return m.length===0?ga(this):Cl(this,function(b,C){return C.some(function(F){return b.indexOf(F)===0})},m,kt)},rr.prototype.anyOf=function(){var m,b,C=this,F=Se.apply(he,arguments),U=this._cmp;try{F.sort(U)}catch{return ma(this,It)}return F.length===0?ga(this):((m=new this.Collection(this,function(){return Ha(F[0],F[F.length-1])}))._ondirectionchange=function(J){U=J==="next"?C._ascending:C._descending,F.sort(U)},b=0,m._addAlgorithm(function(J,oe,me){for(var De=J.key;0<U(De,F[b]);)if(++b===F.length)return oe(me),!1;return U(De,F[b])===0||(oe(function(){J.continue(F[b])}),!1)}),m)},rr.prototype.notEqual=function(m){return this.inAnyRange([[-1/0,m],[m,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},rr.prototype.noneOf=function(){var m=Se.apply(he,arguments);if(m.length===0)return new this.Collection(this);try{m.sort(this._ascending)}catch{return ma(this,It)}var b=m.reduce(function(C,F){return C?C.concat([[C[C.length-1][1],F]]):[[-1/0,F]]},null);return b.push([m[m.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},rr.prototype.inAnyRange=function(m,Je){var C=this,F=this._cmp,U=this._ascending,J=this._descending,oe=this._min,me=this._max;if(m.length===0)return ga(this);if(!m.every(function(He){return He[0]!==void 0&&He[1]!==void 0&&U(He[0],He[1])<=0}))return ma(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Z.InvalidArgument);var De=!Je||Je.includeLowers!==!1,Ue=Je&&Je.includeUppers===!0,Oe,Ae=U;function Ce(He,lt){return Ae(He[0],lt[0])}try{(Oe=m.reduce(function(He,lt){for(var At=0,Bt=He.length;At<Bt;++At){var Ut=He[At];if(F(lt[0],Ut[1])<0&&0<F(lt[1],Ut[0])){Ut[0]=oe(Ut[0],lt[0]),Ut[1]=me(Ut[1],lt[1]);break}}return At===Bt&&He.push(lt),He},[])).sort(Ce)}catch{return ma(this,It)}var Le=0,Te=Ue?function(He){return 0<U(He,Oe[Le][1])}:function(He){return 0<=U(He,Oe[Le][1])},Re=De?function(He){return 0<J(He,Oe[Le][0])}:function(He){return 0<=J(He,Oe[Le][0])},Ge=Te,Je=new this.Collection(this,function(){return Ha(Oe[0][0],Oe[Oe.length-1][1],!De,!Ue)});return Je._ondirectionchange=function(He){Ae=He==="next"?(Ge=Te,U):(Ge=Re,J),Oe.sort(Ce)},Je._addAlgorithm(function(He,lt,At){for(var Bt,Ut=He.key;Ge(Ut);)if(++Le===Oe.length)return lt(At),!1;return!Te(Bt=Ut)&&!Re(Bt)||(C._cmp(Ut,Oe[Le][1])===0||C._cmp(Ut,Oe[Le][0])===0||lt(function(){Ae===U?He.continue(Oe[Le][0]):He.continue(Oe[Le][1])}),!1)}),Je},rr.prototype.startsWithAnyOf=function(){var m=Se.apply(he,arguments);return m.every(function(b){return typeof b=="string"})?m.length===0?ga(this):this.inAnyRange(m.map(function(b){return[b,b+kt]})):ma(this,"startsWithAnyOf() only works with strings")};var Cu=rr;function rr(){}function ws(m){return mr(function(b){return Uo(b),m(b.target.error),!1})}function Uo(m){m.stopPropagation&&m.stopPropagation(),m.preventDefault&&m.preventDefault()}var zo="storagemutated",Is="x-storagemutated-1",xa=bn(null,zo),Qf=(bs.prototype._lock=function(){return T(!Tt.global),++this._reculock,this._reculock!==1||Tt.global||(Tt.lockOwnerFor=this),this},bs.prototype._unlock=function(){if(T(!Tt.global),--this._reculock==0)for(Tt.global||(Tt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var m=this._blockedFuncs.shift();try{Ye(m[1],m[0])}catch{}}return this},bs.prototype._locked=function(){return this._reculock&&Tt.lockOwnerFor!==this},bs.prototype.create=function(m){var b=this;if(this.mode){var C=this.db.idbdb,F=this.db._state.dbOpenError;if(T(!this.idbtrans),!m&&!C)switch(F&&F.name){case"DatabaseClosedError":throw new Z.DatabaseClosed(F);case"MissingAPIError":throw new Z.MissingAPI(F.message,F);default:throw new Z.OpenFailed(F)}if(!this.active)throw new Z.TransactionInactive;T(this._completion._state===null),(m=this.idbtrans=m||(this.db.core||C).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=mr(function(U){Uo(U),b._reject(m.error)}),m.onabort=mr(function(U){Uo(U),b.active&&b._reject(new Z.Abort(m.error)),b.active=!1,b.on("abort").fire(U)}),m.oncomplete=mr(function(){b.active=!1,b._resolve(),"mutatedParts"in m&&xa.storagemutated.fire(m.mutatedParts)})}return this},bs.prototype._promise=function(m,b,C){var F,U=this;return m==="readwrite"&&this.mode!=="readwrite"?Lt(new Z.ReadOnly("Transaction is readonly")):this.active?this._locked()?new at(function(J,oe){U._blockedFuncs.push([function(){U._promise(m,b,C).then(J,oe)},Tt])}):C?fe(function(){var J=new at(function(oe,me){U._lock();var De=b(oe,me,U);De&&De.then&&De.then(oe,me)});return J.finally(function(){return U._unlock()}),J._lib=!0,J}):((F=new at(function(J,oe){var me=b(J,oe,U);me&&me.then&&me.then(J,oe)}))._lib=!0,F):Lt(new Z.TransactionInactive)},bs.prototype._root=function(){return this.parent?this.parent._root():this},bs.prototype.waitFor=function(m){var b,C=this._root(),F=at.resolve(m),U=(C._waitingFor?C._waitingFor=C._waitingFor.then(function(){return F}):(C._waitingFor=F,C._waitingQueue=[],b=C.idbtrans.objectStore(C.storeNames[0]),function J(){for(++C._spinCount;C._waitingQueue.length;)C._waitingQueue.shift()();C._waitingFor&&(b.get(-1/0).onsuccess=J)}()),C._waitingFor);return new at(function(J,oe){F.then(function(me){return C._waitingQueue.push(mr(J.bind(null,me)))},function(me){return C._waitingQueue.push(mr(oe.bind(null,me)))}).finally(function(){C._waitingFor===U&&(C._waitingFor=null)})})},bs.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Z.Abort))},bs.prototype.table=function(m){var b=this._memoizedTables||(this._memoizedTables={});if(p(b,m))return b[m];var C=this.schema[m];if(C)return(C=new this.db.Table(m,C,this)).core=this.db.core.table(m),b[m]=C;throw new Z.NotFound("Table "+m+" not part of transaction")},bs);function bs(){}function fo(m,b,C,F,U,J,oe,me){return{name:m,keyPath:b,unique:C,multi:F,auto:U,compound:J,src:(C&&!oe?"&":"")+(F?"*":"")+(U?"++":"")+Tl(b),type:me}}function Tl(m){return typeof m=="string"?m:m?"["+[].join.call(m,"+")+"]":""}function Oi(m,b,C){return{name:m,primKey:b,indexes:C,mappedClass:null,idxByName:(F=function(U){return[U.name,U]},C.reduce(function(U,J,oe){return J=F(J,oe),J&&(U[J[0]]=J[1]),U},{}))};var F}var Ho=function(m){try{return m.only([[]]),Ho=function(){return[[]]},[[]]}catch{return Ho=function(){return kt},kt}};function Ms(m){return m==null?function(){}:typeof m=="string"?(b=m).split(".").length===1?function(C){return C[b]}:function(C){return se(C,b)}:function(C){return se(C,m)};var b}function ku(m){return[].slice.call(m)}var Dc=0;function Ri(m){return m==null?":id":typeof m=="string"?m:"[".concat(m.join("+"),"]")}function Tu(m,b,De){function F(Te){if(Te.type===3)return null;if(Te.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Ae=Te.lower,Ce=Te.upper,Le=Te.lowerOpen,Te=Te.upperOpen;return Ae===void 0?Ce===void 0?null:b.upperBound(Ce,!!Te):Ce===void 0?b.lowerBound(Ae,!!Le):b.bound(Ae,Ce,!!Le,!!Te)}function U(Oe){var Ae,Ce=Oe.name;return{name:Ce,schema:Oe,mutate:function(Le){var Te=Le.trans,Re=Le.type,Ge=Le.keys,Je=Le.values,He=Le.range;return new Promise(function(lt,At){lt=mr(lt);var Bt=Te.objectStore(Ce),Ut=Bt.keyPath==null,Et=Re==="put"||Re==="add";if(!Et&&Re!=="delete"&&Re!=="deleteRange")throw new Error("Invalid operation type: "+Re);var Gt,Wt=(Ge||Je||{length:1}).length;if(Ge&&Je&&Ge.length!==Je.length)throw new Error("Given keys array must have same length as given values array.");if(Wt===0)return lt({numFailures:0,failures:{},results:[],lastResult:void 0});function Ot(gn){++Br,Uo(gn)}var Jt=[],Or=[],Br=0;if(Re==="deleteRange"){if(He.type===4)return lt({numFailures:Br,failures:Or,results:[],lastResult:void 0});He.type===3?Jt.push(Gt=Bt.clear()):Jt.push(Gt=Bt.delete(F(He)))}else{var Ut=Et?Ut?[Je,Ge]:[Je,null]:[Ge,null],fr=Ut[0],jr=Ut[1];if(Et)for(var mn=0;mn<Wt;++mn)Jt.push(Gt=jr&&jr[mn]!==void 0?Bt[Re](fr[mn],jr[mn]):Bt[Re](fr[mn])),Gt.onerror=Ot;else for(mn=0;mn<Wt;++mn)Jt.push(Gt=Bt[Re](fr[mn])),Gt.onerror=Ot}function os(gn){gn=gn.target.result,Jt.forEach(function(pi,ka){return pi.error!=null&&(Or[ka]=pi.error)}),lt({numFailures:Br,failures:Or,results:Re==="delete"?Ge:Jt.map(function(pi){return pi.result}),lastResult:gn})}Gt.onerror=function(gn){Ot(gn),os(gn)},Gt.onsuccess=os})},getMany:function(Le){var Te=Le.trans,Re=Le.keys;return new Promise(function(Ge,Je){Ge=mr(Ge);for(var He,lt=Te.objectStore(Ce),At=Re.length,Bt=new Array(At),Ut=0,Et=0,Gt=function(Jt){Jt=Jt.target,Bt[Jt._pos]=Jt.result,++Et===Ut&&Ge(Bt)},Wt=ws(Je),Ot=0;Ot<At;++Ot)Re[Ot]!=null&&((He=lt.get(Re[Ot]))._pos=Ot,He.onsuccess=Gt,He.onerror=Wt,++Ut);Ut===0&&Ge(Bt)})},get:function(Le){var Te=Le.trans,Re=Le.key;return new Promise(function(Ge,Je){Ge=mr(Ge);var He=Te.objectStore(Ce).get(Re);He.onsuccess=function(lt){return Ge(lt.target.result)},He.onerror=ws(Je)})},query:(Ae=me,function(Le){return new Promise(function(Te,Re){Te=mr(Te);var Ge,Je,He,Et=Le.trans,lt=Le.values,At=Le.limit,Ut=Le.query,Bt=At===1/0?void 0:At,Gt=Ut.index,Ut=Ut.range,Et=Et.objectStore(Ce),Et=Gt.isPrimaryKey?Et:Et.index(Gt.name),Gt=F(Ut);if(At===0)return Te({result:[]});Ae?((Ut=lt?Et.getAll(Gt,Bt):Et.getAllKeys(Gt,Bt)).onsuccess=function(Wt){return Te({result:Wt.target.result})},Ut.onerror=ws(Re)):(Ge=0,Je=!lt&&"openKeyCursor"in Et?Et.openKeyCursor(Gt):Et.openCursor(Gt),He=[],Je.onsuccess=function(Wt){var Ot=Je.result;return!Ot||(He.push(lt?Ot.value:Ot.primaryKey),++Ge===At)?Te({result:He}):void Ot.continue()},Je.onerror=ws(Re))})}),openCursor:function(Le){var Te=Le.trans,Re=Le.values,Ge=Le.query,Je=Le.reverse,He=Le.unique;return new Promise(function(lt,At){lt=mr(lt);var Et=Ge.index,Bt=Ge.range,Ut=Te.objectStore(Ce),Ut=Et.isPrimaryKey?Ut:Ut.index(Et.name),Et=Je?He?"prevunique":"prev":He?"nextunique":"next",Gt=!Re&&"openKeyCursor"in Ut?Ut.openKeyCursor(F(Bt),Et):Ut.openCursor(F(Bt),Et);Gt.onerror=ws(At),Gt.onsuccess=mr(function(Wt){var Ot,Jt,Or,Br,fr=Gt.result;fr?(fr.___id=++Dc,fr.done=!1,Ot=fr.continue.bind(fr),Jt=(Jt=fr.continuePrimaryKey)&&Jt.bind(fr),Or=fr.advance.bind(fr),Br=function(){throw new Error("Cursor not stopped")},fr.trans=Te,fr.stop=fr.continue=fr.continuePrimaryKey=fr.advance=function(){throw new Error("Cursor not started")},fr.fail=mr(At),fr.next=function(){var jr=this,mn=1;return this.start(function(){return mn--?jr.continue():jr.stop()}).then(function(){return jr})},fr.start=function(jr){function mn(){if(Gt.result)try{jr()}catch(gn){fr.fail(gn)}else fr.done=!0,fr.start=function(){throw new Error("Cursor behind last entry")},fr.stop()}var os=new Promise(function(gn,pi){gn=mr(gn),Gt.onerror=ws(pi),fr.fail=pi,fr.stop=function(ka){fr.stop=fr.continue=fr.continuePrimaryKey=fr.advance=Br,gn(ka)}});return Gt.onsuccess=mr(function(gn){Gt.onsuccess=mn,mn()}),fr.continue=Ot,fr.continuePrimaryKey=Jt,fr.advance=Or,mn(),os},lt(fr)):lt(null)},At)})},count:function(Le){var Te=Le.query,Re=Le.trans,Ge=Te.index,Je=Te.range;return new Promise(function(He,lt){var At=Re.objectStore(Ce),At=Ge.isPrimaryKey?At:At.index(Ge.name),Bt=F(Je),Bt=Bt?At.count(Bt):At.count();Bt.onsuccess=mr(function(Ut){return He(Ut.target.result)}),Bt.onerror=ws(lt)})}}}J=De,oe=ku((De=m).objectStoreNames);var J,De={schema:{name:De.name,tables:oe.map(function(Oe){return J.objectStore(Oe)}).map(function(Oe){var Ae=Oe.keyPath,Ce=Oe.autoIncrement,Te=l(Ae),Le={},Te={name:Oe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Ae==null,compound:Te,keyPath:Ae,autoIncrement:Ce,unique:!0,extractKey:Ms(Ae)},indexes:ku(Oe.indexNames).map(function(Re){return Oe.index(Re)}).map(function(He){var lt=He.name,Ge=He.unique,Je=He.multiEntry,He=He.keyPath,lt={name:lt,compound:l(He),keyPath:He,unique:Ge,multiEntry:Je,extractKey:Ms(He)};return Le[Ri(He)]=lt}),getIndexByKeyPath:function(Re){return Le[Ri(Re)]}};return Le[":id"]=Te.primaryKey,Ae!=null&&(Le[Ri(Ae)]=Te.primaryKey),Te})},hasGetAll:0<oe.length&&"getAll"in J.objectStore(oe[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},oe=De.schema,me=De.hasGetAll,De=oe.tables.map(U),Ue={};return De.forEach(function(Oe){return Ue[Oe.name]=Oe}),{stack:"dbcore",transaction:m.transaction.bind(m),table:function(Oe){if(Ue[Oe])return Ue[Oe];throw new Error("Table '".concat(Oe,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Ho(b),schema:oe}}function Di(m,b,C,F){return C=C.IDBKeyRange,b=Tu(b,C,F),{dbcore:m.dbcore.reduce(function(U,J){return J=J.create,n(n({},U),J(U))},b)}}function ho(m,b){var C=b.db,C=Di(m._middlewares,C,m._deps,b);m.core=C.dbcore,m.tables.forEach(function(F){var U=F.name;m.core.schema.tables.some(function(J){return J.name===U})&&(F.core=m.core.table(U),m[U]instanceof m.Table)&&(m[U].core=F.core)})}function Ii(m,b,C,F){C.forEach(function(U){var J=F[U];b.forEach(function(oe){var me=function De(Ue,Oe){return _(Ue,Oe)||(Ue=u(Ue))&&De(Ue,Oe)}(oe,U);(!me||"value"in me&&me.value===void 0)&&(oe===m.Transaction.prototype||oe instanceof m.Transaction?y(oe,U,{get:function(){return this.table(U)},set:function(De){d(this,U,{value:De,writable:!0,configurable:!0,enumerable:!0})}}):oe[U]=new m.Table(U,J))})})}function $o(m,b){b.forEach(function(C){for(var F in C)C[F]instanceof m.Table&&delete C[F]})}function Wo(m,b){return m._cfg.version-b._cfg.version}function Ic(m,b,C,F){var U=m._dbSchema,J=(C.objectStoreNames.contains("$meta")&&!U.$meta&&(U.$meta=Oi("$meta",N("")[0],[]),m._storeNames.push("$meta")),m._createTransaction("readwrite",m._storeNames,U)),oe=(J.create(C),J._completion.catch(F),J._reject.bind(J)),me=Tt.transless||Tt;fe(function(){if(Tt.trans=J,Tt.transless=me,b!==0)return ho(m,C),Ue=b,((De=J).storeNames.includes("$meta")?De.table("$meta").get("version").then(function(Oe){return Oe??Ue}):at.resolve(Ue)).then(function(Ge){var Ae=m,Ce=Ge,Le=J,Te=C,Re=[],Ge=Ae._versions,Je=Ae._dbSchema=ci(0,Ae.idbdb,Te);return(Ge=Ge.filter(function(He){return He._cfg.version>=Ce})).length===0?at.resolve():(Ge.forEach(function(He){Re.push(function(){var lt,At,Bt,Ut=Je,Et=He._cfg.dbschema,Gt=(Vo(Ae,Ut,Te),Vo(Ae,Et,Te),Je=Ae._dbSchema=Et,Pl(Ut,Et)),Wt=(Gt.add.forEach(function(Ot){Bs(Te,Ot[0],Ot[1].primKey,Ot[1].indexes)}),Gt.change.forEach(function(Ot){if(Ot.recreate)throw new Z.Upgrade("Not yet support for changing primary key");var Jt=Te.objectStore(Ot.name);Ot.add.forEach(function(Or){return qo(Jt,Or)}),Ot.change.forEach(function(Or){Jt.deleteIndex(Or.name),qo(Jt,Or)}),Ot.del.forEach(function(Or){return Jt.deleteIndex(Or)})}),He._cfg.contentUpgrade);if(Wt&&He._cfg.version>Ce)return ho(Ae,Te),Le._memoizedTables={},lt=k(Et),Gt.del.forEach(function(Ot){lt[Ot]=Ut[Ot]}),$o(Ae,[Ae.Transaction.prototype]),Ii(Ae,[Ae.Transaction.prototype],o(lt),lt),Le.schema=lt,(At=le(Wt))&&ve(),Et=at.follow(function(){var Ot;(Bt=Wt(Le))&&At&&(Ot=be.bind(null,null),Bt.then(Ot,Ot))}),Bt&&typeof Bt.then=="function"?at.resolve(Bt):Et.then(function(){return Bt})}),Re.push(function(lt){var At,Bt,Ut=He._cfg.dbschema;At=Ut,Bt=lt,[].slice.call(Bt.db.objectStoreNames).forEach(function(Et){return At[Et]==null&&Bt.db.deleteObjectStore(Et)}),$o(Ae,[Ae.Transaction.prototype]),Ii(Ae,[Ae.Transaction.prototype],Ae._storeNames,Ae._dbSchema),Le.schema=Ae._dbSchema}),Re.push(function(lt){Ae.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ae.idbdb.version/10)===He._cfg.version?(Ae.idbdb.deleteObjectStore("$meta"),delete Ae._dbSchema.$meta,Ae._storeNames=Ae._storeNames.filter(function(At){return At!=="$meta"})):lt.objectStore("$meta").put(He._cfg.version,"version"))})}),function He(){return Re.length?at.resolve(Re.shift()(Le.idbtrans)).then(He):at.resolve()}().then(function(){li(Je,Te)}))}).catch(oe);var De,Ue;o(U).forEach(function(Oe){Bs(C,Oe,U[Oe].primKey,U[Oe].indexes)}),ho(m,C),at.follow(function(){return m.on.populate.fire(J)}).catch(oe)})}function Pu(m,b){li(m._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var C=ci(0,m.idbdb,b);Vo(m,m._dbSchema,b);for(var F=0,U=Pl(C,m._dbSchema).change;F<U.length;F++){var J=(oe=>{if(oe.change.length||oe.recreate)return console.warn("Unable to patch indexes of table ".concat(oe.name," because it has changes on the type of index or primary key.")),{value:void 0};var me=b.objectStore(oe.name);oe.add.forEach(function(De){xt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(oe.name,".").concat(De.src)),qo(me,De)})})(U[F]);if(typeof J=="object")return J.value}}function Pl(m,b){var C,F={del:[],add:[],change:[]};for(C in m)b[C]||F.del.push(C);for(C in b){var U=m[C],J=b[C];if(U){var oe={name:C,def:J,recreate:!1,del:[],add:[],change:[]};if(""+(U.primKey.keyPath||"")!=""+(J.primKey.keyPath||"")||U.primKey.auto!==J.primKey.auto)oe.recreate=!0,F.change.push(oe);else{var me=U.idxByName,De=J.idxByName,Ue=void 0;for(Ue in me)De[Ue]||oe.del.push(Ue);for(Ue in De){var Oe=me[Ue],Ae=De[Ue];Oe?Oe.src!==Ae.src&&oe.change.push(Ae):oe.add.push(Ae)}(0<oe.del.length||0<oe.add.length||0<oe.change.length)&&F.change.push(oe)}}else F.add.push([C,J])}return F}function Bs(m,b,C,F){var U=m.db.createObjectStore(b,C.keyPath?{keyPath:C.keyPath,autoIncrement:C.auto}:{autoIncrement:C.auto});F.forEach(function(J){return qo(U,J)})}function li(m,b){o(m).forEach(function(C){b.db.objectStoreNames.contains(C)||(xt&&console.debug("Dexie: Creating missing table",C),Bs(b,C,m[C].primKey,m[C].indexes))})}function qo(m,b){m.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function ci(m,b,C){var F={};return S(b.objectStoreNames,0).forEach(function(U){for(var J=C.objectStore(U),oe=fo(Tl(Ue=J.keyPath),Ue||"",!0,!1,!!J.autoIncrement,Ue&&typeof Ue!="string",!0),me=[],De=0;De<J.indexNames.length;++De){var Oe=J.index(J.indexNames[De]),Ue=Oe.keyPath,Oe=fo(Oe.name,Ue,!!Oe.unique,!!Oe.multiEntry,!1,Ue&&typeof Ue!="string",!1);me.push(Oe)}F[U]=Oi(U,oe,me)}),F}function Vo(m,b,C){for(var F=C.db.objectStoreNames,U=0;U<F.length;++U){var J=F[U],oe=C.objectStore(J);m._hasGetAll="getAll"in oe;for(var me=0;me<oe.indexNames.length;++me){var De,Ue=oe.indexNames[me],Oe=oe.index(Ue).keyPath,Oe=typeof Oe=="string"?Oe:"["+S(Oe).join("+")+"]";b[J]&&(De=b[J].idxByName[Oe])&&(De.name=Ue,delete b[J].idxByName[Oe],b[J].idxByName[Ue]=De)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(m._hasGetAll=!1)}function N(m){return m.split(",").map(function(b,C){var U=b.split(":"),F=(F=U[1])==null?void 0:F.trim(),U=(b=U[0].trim()).replace(/([&*]|\+\+)/g,""),J=/^\[/.test(U)?U.match(/^\[(.*)\]$/)[1].split("+"):U;return fo(U,J||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),l(J),C===0,F)})}ye.prototype._createTableSchema=Oi,ye.prototype._parseIndexSyntax=N,ye.prototype._parseStoresSpec=function(m,b){var C=this;o(m).forEach(function(F){if(m[F]!==null){var U=C._parseIndexSyntax(m[F]),J=U.shift();if(!J)throw new Z.Schema("Invalid schema for table "+F+": "+m[F]);if(J.unique=!0,J.multi)throw new Z.Schema("Primary key cannot be multiEntry*");U.forEach(function(oe){if(oe.auto)throw new Z.Schema("Only primary key can be marked as autoIncrement (++)");if(!oe.keyPath)throw new Z.Schema("Index must have a name and cannot be an empty string")}),J=C._createTableSchema(F,J,U),b[F]=J}})},ye.prototype.stores=function(C){var b=this.db,C=(this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,C):C,b._versions),F={},U={};return C.forEach(function(J){c(F,J._cfg.storesSource),U=J._cfg.dbschema={},J._parseStoresSpec(F,U)}),b._dbSchema=U,$o(b,[b._allTables,b,b.Transaction.prototype]),Ii(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],o(U),U),b._storeNames=o(U),this},ye.prototype.upgrade=function(m){return this._cfg.contentUpgrade=gt(this._cfg.contentUpgrade||Ve,m),this};var V=ye;function ye(){}function ke(m,b){var C=m._dbNamesDB;return C||(C=m._dbNamesDB=new Fn(Er,{addons:[],indexedDB:m,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),C.table("dbnames")}function ze(m){return m&&typeof m.databases=="function"}function ut(m){return fe(function(){return Tt.letThrough=!0,m()})}function vt(m){return!("from"in m)}var $t=function(m,b){var C;if(!this)return C=new $t,m&&"d"in m&&c(C,m),C;c(this,arguments.length?{d:1,from:m,to:1<arguments.length?b:m}:{d:0})};function er(m,b,C){var F=ur(b,C);if(!isNaN(F)){if(0<F)throw RangeError();if(vt(m))return c(m,{from:b,to:C,d:1});var F=m.l,U=m.r;if(ur(C,m.from)<0)return F?er(F,b,C):m.l={from:b,to:C,d:1,l:null,r:null},pn(m);if(0<ur(b,m.to))return U?er(U,b,C):m.r={from:b,to:C,d:1,l:null,r:null},pn(m);ur(b,m.from)<0&&(m.from=b,m.l=null,m.d=U?U.d+1:1),0<ur(C,m.to)&&(m.to=C,m.r=null,m.d=m.l?m.l.d+1:1),b=!m.r,F&&!m.l&&dr(m,F),U&&b&&dr(m,U)}}function dr(m,b){vt(b)||function C(F,U){var J=U.from,oe=U.l,me=U.r;er(F,J,U.to),oe&&C(F,oe),me&&C(F,me)}(m,b)}function br(m,b){var C=Fr(b),F=C.next();if(!F.done)for(var U=F.value,J=Fr(m),oe=J.next(U.from),me=oe.value;!F.done&&!oe.done;){if(ur(me.from,U.to)<=0&&0<=ur(me.to,U.from))return!0;ur(U.from,me.from)<0?U=(F=C.next(me.from)).value:me=(oe=J.next(U.from)).value}return!1}function Fr(m){var b=vt(m)?null:{s:0,n:m};return{next:function(C){for(var F=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,F)for(;b.n.l&&ur(C,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!F||ur(C,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function pn(m){var b,C,F,U=(((U=m.r)==null?void 0:U.d)||0)-(((U=m.l)==null?void 0:U.d)||0),U=1<U?"r":U<-1?"l":"";U&&(b=U=="r"?"l":"r",C=n({},m),F=m[U],m.from=F.from,m.to=F.to,m[U]=F[U],C[U]=F[b],(m[b]=C).d=Pn(C)),m.d=Pn(m)}function Pn(C){var b=C.r,C=C.l;return(b?C?Math.max(b.d,C.d):b.d:C?C.d:0)+1}function Vr(m,b){return o(b).forEach(function(C){m[C]?dr(m[C],b[C]):m[C]=function F(U){var J,oe,me={};for(J in U)p(U,J)&&(oe=U[J],me[J]=!oe||typeof oe!="object"||P.has(oe.constructor)?oe:F(oe));return me}(b[C])}),m}function Ln(m,b){return m.all||b.all||Object.keys(m).some(function(C){return b[C]&&br(b[C],m[C])})}g($t.prototype,((pe={add:function(m){return dr(this,m),this},addKey:function(m){return er(this,m,m),this},addKeys:function(m){var b=this;return m.forEach(function(C){return er(b,C,C)}),this},hasKey:function(m){var b=Fr(this).next(m).value;return b&&ur(b.from,m)<=0&&0<=ur(b.to,m)}})[X]=function(){return Fr(this)},pe));var ln={},Vn={},Us=!1;function $a(m){Vr(Vn,m),Us||(Us=!0,setTimeout(function(){Us=!1,zs(Vn,!(Vn={}))},0))}function zs(m,b){b===void 0&&(b=!1);var C=new Set;if(m.all)for(var F=0,U=Object.values(ln);F<U.length;F++)Ll(me=U[F],m,C,b);else for(var J in m){var oe,me,J=/^idb\:\/\/(.*)\/(.*)\//.exec(J);J&&(oe=J[1],J=J[2],me=ln["idb://".concat(oe,"/").concat(J)])&&Ll(me,m,C,b)}C.forEach(function(De){return De()})}function Ll(m,b,C,F){for(var U=[],J=0,oe=Object.entries(m.queries.query);J<oe.length;J++){for(var me=oe[J],De=me[0],Ue=[],Oe=0,Ae=me[1];Oe<Ae.length;Oe++){var Ce=Ae[Oe];Ln(b,Ce.obsSet)?Ce.subscribers.forEach(function(Ge){return C.add(Ge)}):F&&Ue.push(Ce)}F&&U.push([De,Ue])}if(F)for(var Le=0,Te=U;Le<Te.length;Le++){var Re=Te[Le],De=Re[0],Ue=Re[1];m.queries.query[De]=Ue}}function Fl(m){var b=m._state,C=m._deps.indexedDB;if(b.isBeingOpened||m.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?Lt(b.dbOpenError):m});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var F=b.openCanceller,U=Math.round(10*m.verno),J=!1;function oe(){if(b.openCanceller!==F)throw new Z.DatabaseClosed("db.open() was cancelled")}function me(){return new at(function(Ce,Le){if(oe(),!C)throw new Z.MissingAPI;var Te=m.name,Re=b.autoSchema||!U?C.open(Te):C.open(Te,U);if(!Re)throw new Z.MissingAPI;Re.onerror=ws(Le),Re.onblocked=mr(m._fireOnBlocked),Re.onupgradeneeded=mr(function(Ge){var Je;Oe=Re.transaction,b.autoSchema&&!m._options.allowEmptyDB?(Re.onerror=Uo,Oe.abort(),Re.result.close(),(Je=C.deleteDatabase(Te)).onsuccess=Je.onerror=mr(function(){Le(new Z.NoSuchDatabase("Database ".concat(Te," doesnt exist")))})):(Oe.onerror=ws(Le),Je=Ge.oldVersion>Math.pow(2,62)?0:Ge.oldVersion,Ae=Je<1,m.idbdb=Re.result,J&&Pu(m,Oe),Ic(m,Je/10,Oe,Le))},Le),Re.onsuccess=mr(function(){Oe=null;var Ge,Je,He,lt,At,Bt,Ut=m.idbdb=Re.result,Et=S(Ut.objectStoreNames);if(0<Et.length)try{var Gt=Ut.transaction((At=Et).length===1?At[0]:At,"readonly");if(b.autoSchema)Bt=Ut,lt=Gt,(He=m).verno=Bt.version/10,lt=He._dbSchema=ci(0,Bt,lt),He._storeNames=S(Bt.objectStoreNames,0),Ii(He,[He._allTables],o(lt),lt);else if(Vo(m,m._dbSchema,Gt),Je=Gt,((Je=Pl(ci(0,(Ge=m).idbdb,Je),Ge._dbSchema)).add.length||Je.change.some(function(Wt){return Wt.add.length||Wt.change.length}))&&!J)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ut.close(),U=Ut.version+1,J=!0,Ce(me());ho(m,Gt)}catch{}Ir.push(m),Ut.onversionchange=mr(function(Wt){b.vcFired=!0,m.on("versionchange").fire(Wt)}),Ut.onclose=mr(function(){m.close({disableAutoOpen:!1})}),Ae&&(Et=m._deps,At=Te,ze(Bt=Et.indexedDB)||At===Er||ke(Bt,Et.IDBKeyRange).put({name:At}).catch(Ve)),Ce()},Le)}).catch(function(Ce){switch(Ce==null?void 0:Ce.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),me();break;case"VersionError":if(0<U)return U=0,me()}return at.reject(Ce)})}var De,Ue=b.dbReadyResolve,Oe=null,Ae=!1;return at.race([F,(typeof navigator>"u"?at.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ce){function Le(){return indexedDB.databases().finally(Ce)}De=setInterval(Le,100),Le()}).finally(function(){return clearInterval(De)}):Promise.resolve()).then(me)]).then(function(){return oe(),b.onReadyBeingFired=[],at.resolve(ut(function(){return m.on.ready.fire(m.vip)})).then(function Ce(){var Le;if(0<b.onReadyBeingFired.length)return Le=b.onReadyBeingFired.reduce(gt,Ve),b.onReadyBeingFired=[],at.resolve(ut(function(){return Le(m.vip)})).then(Ce)})}).finally(function(){b.openCanceller===F&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(Ce){b.dbOpenError=Ce;try{Oe&&Oe.abort()}catch{}return F===b.openCanceller&&m._close(),Lt(Ce)}).finally(function(){b.openComplete=!0,Ue()}).then(function(){var Ce;return Ae&&(Ce={},m.tables.forEach(function(Le){Le.schema.indexes.forEach(function(Te){Te.name&&(Ce["idb://".concat(m.name,"/").concat(Le.name,"/").concat(Te.name)]=new $t(-1/0,[[[]]]))}),Ce["idb://".concat(m.name,"/").concat(Le.name,"/")]=Ce["idb://".concat(m.name,"/").concat(Le.name,"/:dels")]=new $t(-1/0,[[[]]])}),xa(zo).fire(Ce),zs(Ce,!0)),m})}function ui(m){function b(J){return m.next(J)}var C=U(b),F=U(function(J){return m.throw(J)});function U(J){return function(me){var me=J(me),De=me.value;return me.done?De:De&&typeof De.then=="function"?De.then(C,F):l(De)?Promise.all(De).then(C,F):C(De)}}return U(b)()}function fi(m,b,C){for(var F=l(m)?m.slice():[m],U=0;U<C;++U)F.push(b);return F}var Go={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(m){return n(n({},m),{table:function(F){var C=m.table(F),F=C.schema,U={},J=[];function oe(Ce,Le,Te){var He=Ri(Ce),Re=U[He]=U[He]||[],Ge=Ce==null?0:typeof Ce=="string"?1:Ce.length,Je=0<Le,He=n(n({},Te),{name:Je?"".concat(He,"(virtual-from:").concat(Te.name,")"):Te.name,lowLevelIndex:Te,isVirtual:Je,keyTail:Le,keyLength:Ge,extractKey:Ms(Ce),unique:!Je&&Te.unique});return Re.push(He),He.isPrimaryKey||J.push(He),1<Ge&&oe(Ge===2?Ce[0]:Ce.slice(0,Ge-1),Le+1,Te),Re.sort(function(lt,At){return lt.keyTail-At.keyTail}),He}var me=oe(F.primaryKey.keyPath,0,F.primaryKey);U[":id"]=[me];for(var De=0,Ue=F.indexes;De<Ue.length;De++){var Oe=Ue[De];oe(Oe.keyPath,0,Oe)}function Ae(Ce){var Le,Te=Ce.query.index;return Te.isVirtual?n(n({},Ce),{query:{index:Te.lowLevelIndex,range:(Le=Ce.query.range,Te=Te.keyTail,{type:Le.type===1?2:Le.type,lower:fi(Le.lower,Le.lowerOpen?m.MAX_KEY:m.MIN_KEY,Te),lowerOpen:!0,upper:fi(Le.upper,Le.upperOpen?m.MIN_KEY:m.MAX_KEY,Te),upperOpen:!0})}}):Ce}return n(n({},C),{schema:n(n({},F),{primaryKey:me,indexes:J,getIndexByKeyPath:function(Ce){return(Ce=U[Ri(Ce)])&&Ce[0]}}),count:function(Ce){return C.count(Ae(Ce))},query:function(Ce){return C.query(Ae(Ce))},openCursor:function(Ce){var Le=Ce.query.index,Te=Le.keyTail,Re=Le.keyLength;return Le.isVirtual?C.openCursor(Ae(Ce)).then(function(Je){return Je&&Ge(Je)}):C.openCursor(Ce);function Ge(Je){return Object.create(Je,{continue:{value:function(He){He!=null?Je.continue(fi(He,Ce.reverse?m.MAX_KEY:m.MIN_KEY,Te)):Ce.unique?Je.continue(Je.key.slice(0,Re).concat(Ce.reverse?m.MIN_KEY:m.MAX_KEY,Te)):Je.continue()}},continuePrimaryKey:{value:function(He,lt){Je.continuePrimaryKey(fi(He,m.MAX_KEY,Te),lt)}},primaryKey:{get:function(){return Je.primaryKey}},key:{get:function(){var He=Je.key;return Re===1?He[0]:He.slice(0,Re)}},value:{get:function(){return Je.value}}})}}})}})}};function di(m,b,C,F){return C=C||{},F=F||"",o(m).forEach(function(U){var J,oe,me;p(b,U)?(J=m[U],oe=b[U],typeof J=="object"&&typeof oe=="object"&&J&&oe?(me=de(J))!==de(oe)?C[F+U]=b[U]:me==="Object"?di(J,oe,C,F+U+"."):J!==oe&&(C[F+U]=b[U]):J!==oe&&(C[F+U]=b[U])):C[F+U]=void 0}),o(b).forEach(function(U){p(m,U)||(C[F+U]=b[U])}),C}function Gn(m,b){return b.type==="delete"?b.keys:b.keys||b.values.map(m.extractKey)}var Ko={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(m){return n(n({},m),{table:function(b){var C=m.table(b),F=C.schema.primaryKey;return n(n({},C),{mutate:function(U){var J=Tt.trans,oe=J.table(b).hook,me=oe.deleting,De=oe.creating,Ue=oe.updating;switch(U.type){case"add":if(De.fire===Ve)break;return J._promise("readwrite",function(){return Oe(U)},!0);case"put":if(De.fire===Ve&&Ue.fire===Ve)break;return J._promise("readwrite",function(){return Oe(U)},!0);case"delete":if(me.fire===Ve)break;return J._promise("readwrite",function(){return Oe(U)},!0);case"deleteRange":if(me.fire===Ve)break;return J._promise("readwrite",function(){return function Ae(Ce,Le,Te){return C.query({trans:Ce,values:!1,query:{index:F,range:Le},limit:Te}).then(function(Re){var Ge=Re.result;return Oe({type:"delete",keys:Ge,trans:Ce}).then(function(Je){return 0<Je.numFailures?Promise.reject(Je.failures[0]):Ge.length<Te?{failures:[],numFailures:0,lastResult:void 0}:Ae(Ce,n(n({},Le),{lower:Ge[Ge.length-1],lowerOpen:!0}),Te)})})}(U.trans,U.range,1e4)},!0)}return C.mutate(U);function Oe(Ae){var Ce,Le,Te,Re=Tt.trans,Ge=Ae.keys||Gn(F,Ae);if(Ge)return(Ae=Ae.type==="add"||Ae.type==="put"?n(n({},Ae),{keys:Ge}):n({},Ae)).type!=="delete"&&(Ae.values=a([],Ae.values)),Ae.keys&&(Ae.keys=a([],Ae.keys)),Ce=C,Te=Ge,((Le=Ae).type==="add"?Promise.resolve([]):Ce.getMany({trans:Le.trans,keys:Te,cache:"immutable"})).then(function(Je){var He=Ge.map(function(lt,At){var Bt,Ut,Et,Gt=Je[At],Wt={onerror:null,onsuccess:null};return Ae.type==="delete"?me.fire.call(Wt,lt,Gt,Re):Ae.type==="add"||Gt===void 0?(Bt=De.fire.call(Wt,lt,Ae.values[At],Re),lt==null&&Bt!=null&&(Ae.keys[At]=lt=Bt,F.outbound||L(Ae.values[At],F.keyPath,lt))):(Bt=di(Gt,Ae.values[At]),(Ut=Ue.fire.call(Wt,Bt,lt,Gt,Re))&&(Et=Ae.values[At],Object.keys(Ut).forEach(function(Ot){p(Et,Ot)?Et[Ot]=Ut[Ot]:L(Et,Ot,Ut[Ot])}))),Wt});return C.mutate(Ae).then(function(lt){for(var At=lt.failures,Bt=lt.results,Ut=lt.numFailures,lt=lt.lastResult,Et=0;Et<Ge.length;++Et){var Gt=(Bt||Ge)[Et],Wt=He[Et];Gt==null?Wt.onerror&&Wt.onerror(At[Et]):Wt.onsuccess&&Wt.onsuccess(Ae.type==="put"&&Je[Et]?Ae.values[Et]:Gt)}return{failures:At,results:Bt,numFailures:Ut,lastResult:lt}}).catch(function(lt){return He.forEach(function(At){return At.onerror&&At.onerror(lt)}),Promise.reject(lt)})});throw new Error("Keys missing")}}})}})}};function po(m,b,C){try{if(!b||b.keys.length<m.length)return null;for(var F=[],U=0,J=0;U<b.keys.length&&J<m.length;++U)ur(b.keys[U],m[J])===0&&(F.push(C?z(b.values[U]):b.values[U]),++J);return F.length===m.length?F:null}catch{return null}}var Mc={stack:"dbcore",level:-1,create:function(m){return{table:function(b){var C=m.table(b);return n(n({},C),{getMany:function(F){var U;return F.cache?(U=po(F.keys,F.trans._cache,F.cache==="clone"))?at.resolve(U):C.getMany(F).then(function(J){return F.trans._cache={keys:F.keys,values:F.cache==="clone"?z(J):J},J}):C.getMany(F)},mutate:function(F){return F.type!=="add"&&(F.trans._cache=null),C.mutate(F)}})}}}};function Ol(m,b){return m.trans.mode==="readonly"&&!!m.subscr&&!m.trans.explicit&&m.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function va(m,b){switch(m){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Mi={stack:"dbcore",level:0,name:"Observability",create:function(m){var b=m.schema.name,C=new $t(m.MIN_KEY,m.MAX_KEY);return n(n({},m),{transaction:function(F,U,J){if(Tt.subscr&&U!=="readonly")throw new Z.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Tt.querier));return m.transaction(F,U,J)},table:function(F){function U(Ge){var Re,Ge=Ge.query;return[Re=Ge.index,new $t((Re=(Ge=Ge.range).lower)!=null?Re:m.MIN_KEY,(Re=Ge.upper)!=null?Re:m.MAX_KEY)]}var J=m.table(F),oe=J.schema,me=oe.primaryKey,De=oe.indexes,Ue=me.extractKey,Oe=me.outbound,Ae=me.autoIncrement&&De.filter(function(Te){return Te.compound&&Te.keyPath.includes(me.keyPath)}),Ce=n(n({},J),{mutate:function(Te){function Re(Jt){return Jt="idb://".concat(b,"/").concat(F,"/").concat(Jt),At[Jt]||(At[Jt]=new $t)}var Ge,Je,He,lt=Te.trans,At=Te.mutatedParts||(Te.mutatedParts={}),Bt=Re(""),Ut=Re(":dels"),Et=Te.type,Wt=Te.type==="deleteRange"?[Te.range]:Te.type==="delete"?[Te.keys]:Te.values.length<50?[Gn(me,Te).filter(function(Jt){return Jt}),Te.values]:[],Gt=Wt[0],Wt=Wt[1],Ot=Te.trans._cache;return l(Gt)?(Bt.addKeys(Gt),(Et=Et==="delete"||Gt.length===Wt.length?po(Gt,Ot):null)||Ut.addKeys(Gt),(Et||Wt)&&(Ge=Re,Je=Et,He=Wt,oe.indexes.forEach(function(Jt){var Or=Ge(Jt.name||"");function Br(jr){return jr!=null?Jt.extractKey(jr):null}function fr(jr){Jt.multiEntry&&l(jr)?jr.forEach(function(mn){return Or.addKey(mn)}):Or.addKey(jr)}(Je||He).forEach(function(jr,gn){var os=Je&&Br(Je[gn]),gn=He&&Br(He[gn]);ur(os,gn)!==0&&(os!=null&&fr(os),gn!=null)&&fr(gn)})}))):Gt?(Wt={from:(Ot=Gt.lower)!=null?Ot:m.MIN_KEY,to:(Et=Gt.upper)!=null?Et:m.MAX_KEY},Ut.add(Wt),Bt.add(Wt)):(Bt.add(C),Ut.add(C),oe.indexes.forEach(function(Jt){return Re(Jt.name).add(C)})),J.mutate(Te).then(function(Jt){return!Gt||Te.type!=="add"&&Te.type!=="put"||(Bt.addKeys(Jt.results),Ae&&Ae.forEach(function(Or){for(var Br=Te.values.map(function(os){return Or.extractKey(os)}),fr=Or.keyPath.findIndex(function(os){return os===me.keyPath}),jr=0,mn=Jt.results.length;jr<mn;++jr)Br[jr][fr]=Jt.results[jr];Re(Or.name).addKeys(Br)})),lt.mutatedParts=Vr(lt.mutatedParts||{},At),Jt})}}),Le={get:function(Te){return[me,new $t(Te.key)]},getMany:function(Te){return[me,new $t().addKeys(Te.keys)]},count:U,query:U,openCursor:U};return o(Le).forEach(function(Te){Ce[Te]=function(Re){var Ge=Tt.subscr,Je=!!Ge,He=Ol(Tt,J)&&va(Te,Re)?Re.obsSet={}:Ge;if(Je){var lt,Ge=function(Wt){return Wt="idb://".concat(b,"/").concat(F,"/").concat(Wt),He[Wt]||(He[Wt]=new $t)},At=Ge(""),Bt=Ge(":dels"),Je=Le[Te](Re),Ut=Je[0],Je=Je[1];if((Te==="query"&&Ut.isPrimaryKey&&!Re.values?Bt:Ge(Ut.name||"")).add(Je),!Ut.isPrimaryKey){if(Te!=="count")return lt=Te==="query"&&Oe&&Re.values&&J.query(n(n({},Re),{values:!1})),J[Te].apply(this,arguments).then(function(Wt){if(Te==="query"){if(Oe&&Re.values)return lt.then(function(Br){return Br=Br.result,At.addKeys(Br),Wt});var Ot=Re.values?Wt.result.map(Ue):Wt.result;(Re.values?At:Bt).addKeys(Ot)}else{var Jt,Or;if(Te==="openCursor")return Or=Re.values,(Jt=Wt)&&Object.create(Jt,{key:{get:function(){return Bt.addKey(Jt.primaryKey),Jt.key}},primaryKey:{get:function(){var Br=Jt.primaryKey;return Bt.addKey(Br),Br}},value:{get:function(){return Or&&At.addKey(Jt.primaryKey),Jt.value}}})}return Wt});Bt.add(C)}}return J[Te].apply(this,arguments)}}),Ce}})}};function Yo(m,b,C){var F;return C.numFailures===0?b:b.type==="deleteRange"||(F=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1,C.numFailures===F)?null:(F=n({},b),l(F.keys)&&(F.keys=F.keys.filter(function(U,J){return!(J in C.failures)})),"values"in F&&l(F.values)&&(F.values=F.values.filter(function(U,J){return!(J in C.failures)})),F)}function Rl(m,b){return C=m,((F=b).lower===void 0||(F.lowerOpen?0<ur(C,F.lower):0<=ur(C,F.lower)))&&(C=m,(F=b).upper===void 0||(F.upperOpen?ur(C,F.upper)<0:ur(C,F.upper)<=0));var C,F}function is(m,b,C,F,U,J){var oe,me,De,Ue,Oe,Ae;return!C||C.length===0||(oe=b.query.index,me=oe.multiEntry,De=b.query.range,Ue=F.schema.primaryKey.extractKey,Oe=oe.extractKey,Ae=(oe.lowLevelIndex||oe).extractKey,(F=C.reduce(function(Ce,Le){var Te=Ce,Re=[];if(Le.type==="add"||Le.type==="put")for(var Ge=new $t,Je=Le.values.length-1;0<=Je;--Je){var He,lt=Le.values[Je],At=Ue(lt);!Ge.hasKey(At)&&(He=Oe(lt),me&&l(He)?He.some(function(Wt){return Rl(Wt,De)}):Rl(He,De))&&(Ge.addKey(At),Re.push(lt))}switch(Le.type){case"add":var Bt=new $t().addKeys(b.values?Ce.map(function(Ot){return Ue(Ot)}):Ce),Te=Ce.concat(b.values?Re.filter(function(Ot){return Ot=Ue(Ot),!Bt.hasKey(Ot)&&(Bt.addKey(Ot),!0)}):Re.map(function(Ot){return Ue(Ot)}).filter(function(Ot){return!Bt.hasKey(Ot)&&(Bt.addKey(Ot),!0)}));break;case"put":var Ut=new $t().addKeys(Le.values.map(function(Ot){return Ue(Ot)}));Te=Ce.filter(function(Ot){return!Ut.hasKey(b.values?Ue(Ot):Ot)}).concat(b.values?Re:Re.map(function(Ot){return Ue(Ot)}));break;case"delete":var Et=new $t().addKeys(Le.keys);Te=Ce.filter(function(Ot){return!Et.hasKey(b.values?Ue(Ot):Ot)});break;case"deleteRange":var Gt=Le.range;Te=Ce.filter(function(Ot){return!Rl(Ue(Ot),Gt)})}return Te},m))===m)?m:(F.sort(function(Ce,Le){return ur(Ae(Ce),Ae(Le))||ur(Ue(Ce),Ue(Le))}),b.limit&&b.limit<1/0&&(F.length>b.limit?F.length=b.limit:m.length===b.limit&&F.length<b.limit&&(U.dirty=!0)),J?Object.freeze(F):F)}function mo(m,b){return ur(m.lower,b.lower)===0&&ur(m.upper,b.upper)===0&&!!m.lowerOpen==!!b.lowerOpen&&!!m.upperOpen==!!b.upperOpen}function Bc(m,b){return((C,F,U,J)=>{if(C===void 0)return F!==void 0?-1:0;if(F===void 0)return 1;if((C=ur(C,F))===0){if(U&&J)return 0;if(U)return 1;if(J)return-1}return C})(m.lower,b.lower,m.lowerOpen,b.lowerOpen)<=0&&0<=((C,F,U,J)=>{if(C===void 0)return F!==void 0?1:0;if(F===void 0)return-1;if((C=ur(C,F))===0){if(U&&J)return 0;if(U)return-1;if(J)return 1}return C})(m.upper,b.upper,m.upperOpen,b.upperOpen)}function Uc(m,b,C,F){m.subscribers.add(C),F.addEventListener("abort",function(){var U,J;m.subscribers.delete(C),m.subscribers.size===0&&(U=m,J=b,setTimeout(function(){U.subscribers.size===0&&M(J,U)},3e3))})}var go={stack:"dbcore",level:0,name:"Cache",create:function(m){var b=m.schema.name;return n(n({},m),{transaction:function(C,F,U){var J,oe,me=m.transaction(C,F,U);return F==="readwrite"&&(U=(J=new AbortController).signal,me.addEventListener("abort",(oe=function(De){return function(){if(J.abort(),F==="readwrite"){for(var Ue=new Set,Oe=0,Ae=C;Oe<Ae.length;Oe++){var Ce=Ae[Oe],Le=ln["idb://".concat(b,"/").concat(Ce)];if(Le){var Te=m.table(Ce),Re=Le.optimisticOps.filter(function(Jt){return Jt.trans===me});if(me._explicit&&De&&me.mutatedParts)for(var Ge=0,Je=Object.values(Le.queries.query);Ge<Je.length;Ge++)for(var He=0,lt=(Ut=Je[Ge]).slice();He<lt.length;He++)Ln((Et=lt[He]).obsSet,me.mutatedParts)&&(M(Ut,Et),Et.subscribers.forEach(function(Jt){return Ue.add(Jt)}));else if(0<Re.length){Le.optimisticOps=Le.optimisticOps.filter(function(Jt){return Jt.trans!==me});for(var At=0,Bt=Object.values(Le.queries.query);At<Bt.length;At++)for(var Ut,Et,Gt,Wt=0,Ot=(Ut=Bt[At]).slice();Wt<Ot.length;Wt++)(Et=Ot[Wt]).res!=null&&me.mutatedParts&&(De&&!Et.dirty?(Gt=Object.isFrozen(Et.res),Gt=is(Et.res,Et.req,Re,Te,Et,Gt),Et.dirty?(M(Ut,Et),Et.subscribers.forEach(function(Jt){return Ue.add(Jt)})):Gt!==Et.res&&(Et.res=Gt,Et.promise=at.resolve({result:Gt}))):(Et.dirty&&M(Ut,Et),Et.subscribers.forEach(function(Jt){return Ue.add(Jt)})))}}}Ue.forEach(function(Jt){return Jt()})}}})(!1),{signal:U}),me.addEventListener("error",oe(!1),{signal:U}),me.addEventListener("complete",oe(!0),{signal:U})),me},table:function(C){var F=m.table(C),U=F.schema.primaryKey;return n(n({},F),{mutate:function(J){var oe,me=Tt.trans;return!U.outbound&&me.db._options.cache!=="disabled"&&!me.explicit&&me.idbtrans.mode==="readwrite"&&(oe=ln["idb://".concat(b,"/").concat(C)])?(me=F.mutate(J),J.type!=="add"&&J.type!=="put"||!(50<=J.values.length||Gn(U,J).some(function(De){return De==null}))?(oe.optimisticOps.push(J),J.mutatedParts&&$a(J.mutatedParts),me.then(function(De){0<De.numFailures&&(M(oe.optimisticOps,J),(De=Yo(0,J,De))&&oe.optimisticOps.push(De),J.mutatedParts)&&$a(J.mutatedParts)}),me.catch(function(){M(oe.optimisticOps,J),J.mutatedParts&&$a(J.mutatedParts)})):me.then(function(De){var Ue=Yo(0,n(n({},J),{values:J.values.map(function(Oe,Ae){var Ce;return De.failures[Ae]?Oe:(L(Ce=(Ce=U.keyPath)!=null&&Ce.includes(".")?z(Oe):n({},Oe),U.keyPath,De.results[Ae]),Ce)})}),De);oe.optimisticOps.push(Ue),queueMicrotask(function(){return J.mutatedParts&&$a(J.mutatedParts)})}),me):F.mutate(J)},query:function(J){var oe,me,De,Ue,Oe,Ae,Ce;return Ol(Tt,F)&&va("query",J)?(oe=((De=Tt.trans)==null?void 0:De.db._options.cache)==="immutable",me=(De=Tt).requery,De=De.signal,Ae=((Le,Te,Re,Ge)=>{var Je=ln["idb://".concat(Le,"/").concat(Te)];if(!Je)return[];if(!(Le=Je.queries[Re]))return[null,!1,Je,null];var He=Le[(Ge.query?Ge.query.index.name:null)||""];if(!He)return[null,!1,Je,null];switch(Re){case"query":var lt=He.find(function(At){return At.req.limit===Ge.limit&&At.req.values===Ge.values&&mo(At.req.query.range,Ge.query.range)});return lt?[lt,!0,Je,He]:[He.find(function(At){return("limit"in At.req?At.req.limit:1/0)>=Ge.limit&&(!Ge.values||At.req.values)&&Bc(At.req.query.range,Ge.query.range)}),!1,Je,He];case"count":return lt=He.find(function(At){return mo(At.req.query.range,Ge.query.range)}),[lt,!!lt,Je,He]}})(b,C,"query",J),Ce=Ae[0],Ue=Ae[2],Oe=Ae[3],Ce&&Ae[1]?Ce.obsSet=J.obsSet:(Ae=F.query(J).then(function(Le){var Te=Le.result;if(Ce&&(Ce.res=Te),oe){for(var Re=0,Ge=Te.length;Re<Ge;++Re)Object.freeze(Te[Re]);Object.freeze(Te)}else Le.result=z(Te);return Le}).catch(function(Le){return Oe&&Ce&&M(Oe,Ce),Promise.reject(Le)}),Ce={obsSet:J.obsSet,promise:Ae,subscribers:new Set,type:"query",req:J,dirty:!1},Oe?Oe.push(Ce):(Oe=[Ce],(Ue=Ue||(ln["idb://".concat(b,"/").concat(C)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[J.query.index.name||""]=Oe)),Uc(Ce,Oe,me,De),Ce.promise.then(function(Le){return{result:is(Le.result,J,Ue==null?void 0:Ue.optimisticOps,F,Ce,oe)}})):F.query(J)}})}})}};function hi(m,b){return new Proxy(m,{get:function(C,F,U){return F==="db"?b:Reflect.get(C,F,U)}})}Mr.prototype.version=function(m){if(isNaN(m)||m<.1)throw new Z.Type("Given version is not a positive number");if(m=Math.round(10*m)/10,this.idbdb||this._state.isBeingOpened)throw new Z.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,m);var b=this._versions,C=b.filter(function(F){return F._cfg.version===m})[0];return C||(C=new this.Version(m),b.push(C),b.sort(Wo),C.stores({}),this._state.autoSchema=!1),C},Mr.prototype._whenReady=function(m){var b=this;return this.idbdb&&(this._state.openComplete||Tt.letThrough||this._vip)?m():new at(function(C,F){if(b._state.openComplete)return F(new Z.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void F(new Z.DatabaseClosed);b.open().catch(Ve)}b._state.dbReadyPromise.then(C,F)}).then(m)},Mr.prototype.use=function(U){var b=U.stack,C=U.create,F=U.level,U=U.name,J=(U&&this.unuse({stack:b,name:U}),this._middlewares[b]||(this._middlewares[b]=[]));return J.push({stack:b,create:C,level:F??10,name:U}),J.sort(function(oe,me){return oe.level-me.level}),this},Mr.prototype.unuse=function(m){var b=m.stack,C=m.name,F=m.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(U){return F?U.create!==F:!!C&&U.name!==C})),this},Mr.prototype.open=function(){var m=this;return Ye(sr,function(){return Fl(m)})},Mr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var m=this._state,b=Ir.indexOf(this);if(0<=b&&Ir.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}m.isBeingOpened||(m.dbReadyPromise=new at(function(C){m.dbReadyResolve=C}),m.openCanceller=new at(function(C,F){m.cancelOpen=F}))},Mr.prototype.close=function(b){var b=(b===void 0?{disableAutoOpen:!0}:b).disableAutoOpen,C=this._state;b?(C.isBeingOpened&&C.cancelOpen(new Z.DatabaseClosed),this._close(),C.autoOpen=!1,C.dbOpenError=new Z.DatabaseClosed):(this._close(),C.autoOpen=this._options.autoOpen||C.isBeingOpened,C.openComplete=!1,C.dbOpenError=null)},Mr.prototype.delete=function(m){var b=this,C=(m===void 0&&(m={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),F=this._state;return new at(function(U,J){function oe(){b.close(m);var me=b._deps.indexedDB.deleteDatabase(b.name);me.onsuccess=mr(function(){var De,Ue,Oe;De=b._deps,Ue=b.name,ze(Oe=De.indexedDB)||Ue===Er||ke(Oe,De.IDBKeyRange).delete(Ue).catch(Ve),U()}),me.onerror=ws(J),me.onblocked=b._fireOnBlocked}if(C)throw new Z.InvalidArgument("Invalid closeOptions argument to db.delete()");F.isBeingOpened?F.dbReadyPromise.then(oe):oe()})},Mr.prototype.backendDB=function(){return this.idbdb},Mr.prototype.isOpen=function(){return this.idbdb!==null},Mr.prototype.hasBeenClosed=function(){var m=this._state.dbOpenError;return m&&m.name==="DatabaseClosed"},Mr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Mr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Mr.prototype,"tables",{get:function(){var m=this;return o(this._allTables).map(function(b){return m._allTables[b]})},enumerable:!1,configurable:!0}),Mr.prototype.transaction=function(){var m=(function(b,C,F){var U=arguments.length;if(U<2)throw new Z.InvalidArgument("Too few arguments");for(var J=new Array(U-1);--U;)J[U-1]=arguments[U];return F=J.pop(),[b,Y(J),F]}).apply(this,arguments);return this._transaction.apply(this,m)},Mr.prototype._transaction=function(m,b,C){var F,U,J=this,oe=Tt.trans,me=(oe&&oe.db===this&&m.indexOf("!")===-1||(oe=null),m.indexOf("?")!==-1);m=m.replace("!","").replace("?","");try{if(U=b.map(function(Ue){if(Ue=Ue instanceof J.Table?Ue.name:Ue,typeof Ue!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Ue}),m=="r"||m===hn)F=hn;else{if(m!="rw"&&m!=ys)throw new Z.InvalidArgument("Invalid transaction mode: "+m);F=ys}if(oe){if(oe.mode===hn&&F===ys){if(!me)throw new Z.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");oe=null}oe&&U.forEach(function(Ue){if(oe&&oe.storeNames.indexOf(Ue)===-1){if(!me)throw new Z.SubTransaction("Table "+Ue+" not included in parent transaction.");oe=null}}),me&&oe&&!oe.active&&(oe=null)}}catch(Ue){return oe?oe._promise(null,function(Oe,Ae){Ae(Ue)}):Lt(Ue)}var De=(function Ue(Oe,Ae,Ce,Le,Te){return at.resolve().then(function(){var He=Tt.transless||Tt,Re=Oe._createTransaction(Ae,Ce,Oe._dbSchema,Le),He=(Re.explicit=!0,{trans:Re,transless:He});if(Le)Re.idbtrans=Le.idbtrans;else try{Re.create(),Re.idbtrans._explicit=!0,Oe._state.PR1398_maxLoop=3}catch(lt){return lt.name===Ee.InvalidState&&Oe.isOpen()&&0<--Oe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Oe.close({disableAutoOpen:!1}),Oe.open().then(function(){return Ue(Oe,Ae,Ce,null,Te)})):Lt(lt)}var Ge,Je=le(Te),He=(Je&&ve(),at.follow(function(){var lt;(Ge=Te.call(Re,Re))&&(Je?(lt=be.bind(null,null),Ge.then(lt,lt)):typeof Ge.next=="function"&&typeof Ge.throw=="function"&&(Ge=ui(Ge)))},He));return(Ge&&typeof Ge.then=="function"?at.resolve(Ge).then(function(lt){return Re.active?lt:Lt(new Z.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):He.then(function(){return Ge})).then(function(lt){return Le&&Re._resolve(),Re._completion.then(function(){return lt})}).catch(function(lt){return Re._reject(lt),Lt(lt)})})}).bind(null,this,F,U,oe,C);return oe?oe._promise(F,De,"lock"):Tt.trans?Ye(Tt.transless,function(){return J._whenReady(De)}):this._whenReady(De)},Mr.prototype.table=function(m){if(p(this._allTables,m))return this._allTables[m];throw new Z.InvalidTable("Table ".concat(m," does not exist"))};var Fn=Mr;function Mr(m,b){var C,F,U,J,oe,me=this,De=(this._middlewares={},this.verno=0,Mr.dependencies),De=(this._options=b=n({addons:Mr.addons,autoOpen:!0,indexedDB:De.indexedDB,IDBKeyRange:De.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},b.addons),Ue=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ve,dbReadyPromise:null,cancelOpen:Ve,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen}),Oe=(Ue.dbReadyPromise=new at(function(Ae){Ue.dbReadyResolve=Ae}),Ue.openCanceller=new at(function(Ae,Ce){Ue.cancelOpen=Ce}),this._state=Ue,this.name=m,this.on=bn(this,"populate","blocked","versionchange","close",{ready:[gt,Ve]}),this.once=function(Ae,Ce){var Le=function(){for(var Te=[],Re=0;Re<arguments.length;Re++)Te[Re]=arguments[Re];me.on(Ae).unsubscribe(Le),Ce.apply(me,Te)};return me.on(Ae,Le)},this.on.ready.subscribe=j(this.on.ready.subscribe,function(Ae){return function(Ce,Le){Mr.vip(function(){var Te,Re=me._state;Re.openComplete?(Re.dbOpenError||at.resolve().then(Ce),Le&&Ae(Ce)):Re.onReadyBeingFired?(Re.onReadyBeingFired.push(Ce),Le&&Ae(Ce)):(Ae(Ce),Te=me,Le||Ae(function Ge(){Te.on.ready.unsubscribe(Ce),Te.on.ready.unsubscribe(Ge)}))})}}),this.Collection=(C=this,as(Bo.prototype,function(Ge,Re){this.db=C;var Le=Rs,Te=null;if(Re)try{Le=Re()}catch(He){Te=He}var Re=Ge._ctx,Ge=Re.table,Je=Ge.hook.reading.fire;this._ctx={table:Ge,index:Re.index,isPrimKey:!Re.index||Ge.schema.primKey.keyPath&&Re.index===Ge.schema.primKey.name,range:Le,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Te,or:Re.or,valueMapper:Je!==it?Je:null}})),this.Table=(F=this,as(Pc.prototype,function(Ae,Ce,Le){this.db=F,this._tx=Le,this.name=Ae,this.schema=Ce,this.hook=F._allTables[Ae]?F._allTables[Ae].hook:bn(null,{creating:[Pe,Ve],reading:[dt,it],updating:[yt,Ve],deleting:[et,Ve]})})),this.Transaction=(U=this,as(Qf.prototype,function(Ae,Ce,Le,Te,Re){var Ge=this;Ae!=="readonly"&&Ce.forEach(function(Je){Je=(Je=Le[Je])==null?void 0:Je.yProps,Je&&(Ce=Ce.concat(Je.map(function(He){return He.updatesTable})))}),this.db=U,this.mode=Ae,this.storeNames=Ce,this.schema=Le,this.chromeTransactionDurability=Te,this.idbtrans=null,this.on=bn(this,"complete","error","abort"),this.parent=Re||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new at(function(Je,He){Ge._resolve=Je,Ge._reject=He}),this._completion.then(function(){Ge.active=!1,Ge.on.complete.fire()},function(Je){var He=Ge.active;return Ge.active=!1,Ge.on.error.fire(Je),Ge.parent?Ge.parent._reject(Je):He&&Ge.idbtrans&&Ge.idbtrans.abort(),Lt(Je)})})),this.Version=(J=this,as(V.prototype,function(Ae){this.db=J,this._cfg={version:Ae,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(oe=this,as(Cu.prototype,function(Ae,Ce,Le){if(this.db=oe,this._ctx={table:Ae,index:Ce===":id"?null:Ce,or:Le},this._cmp=this._ascending=ur,this._descending=function(Te,Re){return ur(Re,Te)},this._max=function(Te,Re){return 0<ur(Te,Re)?Te:Re},this._min=function(Te,Re){return ur(Te,Re)<0?Te:Re},this._IDBKeyRange=oe._deps.IDBKeyRange,!this._IDBKeyRange)throw new Z.MissingAPI})),this.on("versionchange",function(Ae){0<Ae.newVersion?console.warn("Another connection wants to upgrade database '".concat(me.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(me.name,"'. Closing db now to resume the delete request.")),me.close({disableAutoOpen:!1})}),this.on("blocked",function(Ae){!Ae.newVersion||Ae.newVersion<Ae.oldVersion?console.warn("Dexie.delete('".concat(me.name,"') was blocked")):console.warn("Upgrade '".concat(me.name,"' blocked by other connection holding version ").concat(Ae.oldVersion/10))}),this._maxKey=Ho(b.IDBKeyRange),this._createTransaction=function(Ae,Ce,Le,Te){return new me.Transaction(Ae,Ce,Le,me._options.chromeTransactionDurability,Te)},this._fireOnBlocked=function(Ae){me.on("blocked").fire(Ae),Ir.filter(function(Ce){return Ce.name===me.name&&Ce!==me&&!Ce._state.vcFired}).map(function(Ce){return Ce.on("versionchange").fire(Ae)})},this.use(Mc),this.use(go),this.use(Mi),this.use(Go),this.use(Ko),new Proxy(this,{get:function(Ae,Ce,Le){var Te;return Ce==="_vip"||(Ce==="table"?function(Re){return hi(me.table(Re),Oe)}:(Te=Reflect.get(Ae,Ce,Le))instanceof Pc?hi(Te,Oe):Ce==="tables"?Te.map(function(Re){return hi(Re,Oe)}):Ce==="_createTransaction"?function(){return hi(Te.apply(this,arguments),Oe)}:Te)}}));this.vip=Oe,De.forEach(function(Ae){return Ae(me)})}var Hs,Wa=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",xo=(Xo.prototype.subscribe=function(m,b,C){return this._subscribe(m&&typeof m!="function"?m:{next:m,error:b,complete:C})},Xo.prototype[Wa]=function(){return this},Xo);function Xo(m){this._subscribe=m}try{Hs={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Hs={indexedDB:null,IDBKeyRange:null}}function Jo(m){var b,C=!1,F=new xo(function(U){var J=le(m),oe,me=!1,De={},Ue={},Oe={get closed(){return me},unsubscribe:function(){me||(me=!0,oe&&oe.abort(),Ae&&xa.storagemutated.unsubscribe(Le))}},Ae=(U.start&&U.start(Oe),!1),Ce=function(){return Dt(Te)},Le=function(Re){Vr(De,Re),Ln(Ue,De)&&Ce()},Te=function(){var Re,Ge,Je;!me&&Hs.indexedDB&&(De={},Re={},oe&&oe.abort(),oe=new AbortController,Je=(He=>{var lt=un();try{J&&ve();var At=fe(m,He);return At=J?At.finally(be):At}finally{lt&&mt()}})(Ge={subscr:Re,signal:oe.signal,requery:Ce,querier:m,trans:null}),Promise.resolve(Je).then(function(He){C=!0,b=He,me||Ge.signal.aborted||(De={},(lt=>{for(var At in lt)if(p(lt,At))return;return 1})(Ue=Re)||Ae||(xa(zo,Le),Ae=!0),Dt(function(){return!me&&U.next&&U.next(He)}))},function(He){C=!1,["DatabaseClosedError","AbortError"].includes(He==null?void 0:He.name)||me||Dt(function(){me||U.error&&U.error(He)})}))};return setTimeout(Ce,0),Oe});return F.hasValue=function(){return C},F.getValue=function(){return b},F}var Yr=Fn;function Dl(m){var b=oa;try{oa=!0,xa.storagemutated.fire(m),zs(m,!0)}finally{oa=b}}g(Yr,n(n({},A),{delete:function(m){return new Yr(m,{addons:[]}).delete()},exists:function(m){return new Yr(m,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(m){try{return b=Yr.dependencies,C=b.indexedDB,b=b.IDBKeyRange,(ze(C)?Promise.resolve(C.databases()).then(function(F){return F.map(function(U){return U.name}).filter(function(U){return U!==Er})}):ke(C,b).toCollection().primaryKeys()).then(m)}catch{return Lt(new Z.MissingAPI)}var b,C},defineClass:function(){return function(m){c(this,m)}},ignoreTransaction:function(m){return Tt.trans?Ye(Tt.transless,m):m()},vip:ut,async:function(m){return function(){try{var b=ui(m.apply(this,arguments));return b&&typeof b.then=="function"?b:at.resolve(b)}catch(C){return Lt(C)}}},spawn:function(m,b,C){try{var F=ui(m.apply(C,b||[]));return F&&typeof F.then=="function"?F:at.resolve(F)}catch(U){return Lt(U)}},currentTransaction:{get:function(){return Tt.trans||null}},waitFor:function(m,b){return m=at.resolve(typeof m=="function"?Yr.ignoreTransaction(m):m).timeout(b||6e4),Tt.trans?Tt.trans.waitFor(m):m},Promise:at,debug:{get:function(){return xt},set:function(m){Rt(m)}},derive:x,extend:c,props:g,override:j,Events:bn,on:xa,liveQuery:Jo,extendObservabilitySet:Vr,getByKeyPath:se,setByKeyPath:L,delByKeyPath:function(m,b){typeof b=="string"?L(m,b,void 0):"length"in b&&[].map.call(b,function(C){L(m,C,void 0)})},shallowClone:k,deepClone:z,getObjectDiff:di,cmp:ur,asap:q,minKey:-1/0,addons:[],connections:Ir,errnames:Ee,dependencies:Hs,cache:ln,semVer:"4.3.0",version:"4.3.0".split(".").map(function(m){return parseInt(m)}).reduce(function(m,b,C){return m+b/Math.pow(10,2*C)})})),Yr.maxKey=Ho(Yr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(xa(zo,function(m){oa||(m=new CustomEvent(Is,{detail:m}),oa=!0,dispatchEvent(m),oa=!1)}),addEventListener(Is,function(m){m=m.detail,oa||Dl(m)}));var Ca,oa=!1,Il=function(){};return typeof BroadcastChannel<"u"&&((Il=function(){(Ca=new BroadcastChannel(Is)).onmessage=function(m){return m.data&&Dl(m.data)}})(),typeof Ca.unref=="function"&&Ca.unref(),xa(zo,function(m){oa||Ca.postMessage(m)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(m){if(!Fn.disableBfCache&&m.persisted){xt&&console.debug("Dexie: handling persisted pagehide"),Ca!=null&&Ca.close();for(var b=0,C=Ir;b<C.length;b++)C[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(m){!Fn.disableBfCache&&m.persisted&&(xt&&console.debug("Dexie: handling persisted pageshow"),Il(),Dl({all:new $t(-1/0,[[]])}))})),at.rejectionMapper=function(m,b){return!m||m instanceof D||m instanceof TypeError||m instanceof SyntaxError||!m.name||!Me[m.name]?m:(b=new Me[m.name](b||m.message,m),"stack"in m&&y(b,"stack",{get:function(){return this.inner.stack}}),b)},Rt(xt),n(Fn,Object.freeze({__proto__:null,Dexie:Fn,Entity:Li,PropModification:uo,RangeSet:$t,add:function(m){return new uo({add:m})},cmp:ur,default:Fn,liveQuery:Jo,mergeRanges:dr,rangesOverlap:br,remove:function(m){return new uo({remove:m})},replacePrefix:function(m,b){return new uo({replacePrefix:[m,b]})}}),{default:Fn}),Fn})})(DN);var C7=DN.exports;const Gx=O4(C7),X5=Symbol.for("Dexie"),Mp=globalThis[X5]||(globalThis[X5]=Gx);if(Gx.semVer!==Mp.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Gx.semVer} and ${Mp.semVer}`);const{liveQuery:l$,mergeRanges:c$,rangesOverlap:u$,RangeSet:f$,cmp:d$,Entity:h$,PropModification:p$,replacePrefix:m$,add:g$,remove:x$,DexieYProvider:v$}=Mp,Ti=new Mp("SchoolManagerOffline");Ti.version(1).stores({apiCache:"url, cachedAt",syncQueue:"++id, method, url, createdAt, status",userData:"userId"});const k7=async(e,t)=>{try{await Ti.apiCache.put({url:e,data:t,cachedAt:Date.now()})}catch(r){console.warn("[OfflineDB] Failed to cache response:",r)}},T7=async(e,t=24*60*60*1e3)=>{try{const r=await Ti.apiCache.get(e);return r?(Date.now()-r.cachedAt>t,r.data):null}catch(r){return console.warn("[OfflineDB] Failed to read cache:",r),null}},P7=async()=>{try{await Ti.apiCache.clear()}catch(e){console.warn("[OfflineDB] Failed to clear cache:",e)}},L7=async(e,t,r,n={})=>{try{await Ti.syncQueue.add({method:e,url:t,data:r,headers:n,createdAt:Date.now(),status:"pending",retries:0})}catch(a){console.warn("[OfflineDB] Failed to queue sync item:",a)}},F7=async()=>{try{return await Ti.syncQueue.where("status").equals("pending").sortBy("createdAt")}catch(e){return console.warn("[OfflineDB] Failed to read sync queue:",e),[]}},mf=async()=>{try{return await Ti.syncQueue.where("status").equals("pending").count()}catch{return 0}},J5=async(e,t)=>{try{await Ti.syncQueue.update(e,{status:t})}catch(r){console.warn("[OfflineDB] Failed to update sync item:",r)}},Q5=async e=>{try{await Ti.syncQueue.delete(e)}catch(t){console.warn("[OfflineDB] Failed to remove sync item:",t)}},Z5=async(e,t)=>{try{await Ti.userData.put({userId:e.id,user:e,tokens:t,savedAt:Date.now()})}catch(r){console.warn("[OfflineDB] Failed to save user session:",r)}},O7=async()=>{try{const e=await Ti.userData.toArray();return e.length>0?e[0]:null}catch(e){return console.warn("[OfflineDB] Failed to get user session:",e),null}},R7=async()=>{try{await Ti.userData.clear()}catch(e){console.warn("[OfflineDB] Failed to clear user session:",e)}},IN=G.createContext(null),sn=()=>{const e=G.useContext(IN);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},D7=({children:e})=>{const[t,r]=G.useState(null),[n,a]=G.useState(!0);G.useEffect(()=>{A7()},[]),G.useEffect(()=>{(async()=>{const p=localStorage.getItem("access_token"),g=localStorage.getItem("user");let d=null;if(p&&g)try{d=JSON.parse(g)}catch{localStorage.clear()}if(!d)try{const y=await O7();y!=null&&y.user&&(y!=null&&y.tokens)&&(d=y.user,localStorage.setItem("access_token",y.tokens.access_token),localStorage.setItem("refresh_token",y.tokens.refresh_token),localStorage.setItem("user",JSON.stringify(y.user)))}catch{}d&&(r(d),es.get("/auth/me").then(({data:y})=>{const x=y.data;x&&(r(_=>{const w={..._,...x};return localStorage.setItem("user",JSON.stringify(w)),w}),(x.primary_color||x.secondary_color||x.font_family||x.font_style)&&Vx(x.primary_color,x.secondary_color,x.font_family,x.font_style))}).catch(()=>{})),a(!1)})()},[]);const s=G.useCallback(async f=>{const{data:p}=await es.post("/auth/login",f),{access_token:g,refresh_token:d,user:y}=p.data;return localStorage.setItem("access_token",g),localStorage.setItem("refresh_token",d),localStorage.setItem("user",JSON.stringify(y)),y.primary_color||y.secondary_color||y.font_family||y.font_style?Vx(y.primary_color,y.secondary_color,y.font_family,y.font_style):(V1(),localStorage.removeItem("school_branding")),r(y),Z5(y,{access_token:g,refresh_token:d}),y},[]),o=G.useCallback(async f=>{const{data:p}=await es.post("/auth/register",f),{access_token:g,refresh_token:d,user:y}=p.data;return localStorage.setItem("access_token",g),localStorage.setItem("refresh_token",d),localStorage.setItem("user",JSON.stringify(y)),V1(),localStorage.removeItem("school_branding"),r(y),Z5(y,{access_token:g,refresh_token:d}),p.data},[]),l=G.useCallback(async()=>{try{const f=localStorage.getItem("refresh_token");await es.post("/auth/logout",{refresh_token:f})}catch{}finally{localStorage.clear(),V1(),r(null),R7(),P7()}},[]),c=G.useCallback(f=>{r(p=>{const g={...p,...f};return localStorage.setItem("user",JSON.stringify(g)),g})},[]),u={user:t,loading:n,login:s,register:o,logout:l,updateUser:c,isAuthenticated:!!t,isAdmin:(t==null?void 0:t.role)==="SCHOOL_ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN",isTeacher:(t==null?void 0:t.role)==="TEACHER",isParent:(t==null?void 0:t.role)==="PARENT",isSuperAdmin:(t==null?void 0:t.role)==="SUPER_ADMIN",isPremium:["standard","pro"].includes(t==null?void 0:t.plan_type),planType:(t==null?void 0:t.plan_type)||"starter"};return i.jsx(IN.Provider,{value:u,children:e})};var MN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ew=fl.createContext&&fl.createContext(MN),I7=["attr","size","title"];function M7(e,t){if(e==null)return{};var r=B7(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B7(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(this,arguments)}function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){U7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U7(e,t,r){return t=z7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z7(e){var t=H7(e,"string");return typeof t=="symbol"?t:t+""}function H7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BN(e){return e&&e.map((t,r)=>fl.createElement(t.tag,Up({key:r},t.attr),BN(t.child)))}function Kt(e){return t=>fl.createElement($7,Bp({attr:Up({},e.attr)},t),BN(e.child))}function $7(e){var t=r=>{var{attr:n,size:a,title:s}=e,o=M7(e,I7),l=a||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),fl.createElement("svg",Bp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Up(Up({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&fl.createElement("title",null,s),e.children)};return ew!==void 0?fl.createElement(ew.Consumer,null,r=>t(r)):t(MN)}function na(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M12 14l9-5-9-5-9 5 9 5z"},child:[]},{tag:"path",attr:{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"},child:[]}]})(e)}function W7(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"},child:[]}]})(e)}function G1(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"},child:[]}]})(e)}function UN(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 10l7-7m0 0l7 7m-7-7v18"},child:[]}]})(e)}function q7(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"},child:[]}]})(e)}function V7(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},child:[]}]})(e)}function rw(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},child:[]}]})(e)}function zN(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},child:[]}]})(e)}function _i(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},child:[]}]})(e)}function P0(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"},child:[]}]})(e)}function zp(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},child:[]}]})(e)}function Ni(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function Uu(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(e)}function Bm(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(e)}function HN(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"},child:[]}]})(e)}function G7(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"},child:[]}]})(e)}function ms(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},child:[]}]})(e)}function Wf(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function K7(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"},child:[]}]})(e)}function Y7(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},child:[]}]})(e)}function $N(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"},child:[]}]})(e)}function nw(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"},child:[]}]})(e)}function Zc(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"},child:[]}]})(e)}function ko(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function X7(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"},child:[]}]})(e)}function WN(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(e)}function J7(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"},child:[]}]})(e)}function fu(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(e)}function K1(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(e)}function Um(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"},child:[]}]})(e)}function Q7(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function zm(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function Z7(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},child:[]}]})(e)}function gf(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},child:[]}]})(e)}function gc(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},child:[]}]})(e)}function eP(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"},child:[]}]})(e)}function af(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"},child:[]}]})(e)}function tP(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},child:[]}]})(e)}function Ji(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},child:[]}]})(e)}function zu(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"},child:[]}]})(e)}function c0(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"},child:[]}]})(e)}function Kx(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},child:[]}]})(e)}function Y1(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"},child:[]}]})(e)}function Hm(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},child:[]}]})(e)}function qN(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(e)}function xc(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},child:[]}]})(e)}function rP(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"},child:[]}]})(e)}function X1(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},child:[]}]})(e)}function J1(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"},child:[]}]})(e)}function kc(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(e)}function Hp(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"},child:[]}]})(e)}function oo(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(e)}function wc(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"},child:[]}]})(e)}function L0(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},child:[]}]})(e)}function $m(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},child:[]}]})(e)}function nP(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"},child:[]}]})(e)}function Df(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},child:[]}]})(e)}function aP(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.618 5.984A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016zM12 9v2m0 4h.01"},child:[]}]})(e)}function sP(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"},child:[]}]})(e)}function Si(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"},child:[]}]})(e)}function $p(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},child:[]}]})(e)}function iP(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"},child:[]}]})(e)}function oP(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 18.364a9 9 0 010-12.728m12.728 0a9 9 0 010 12.728m-9.9-2.829a5 5 0 010-7.07m7.072 0a5 5 0 010 7.07M13 12a1 1 0 11-2 0 1 1 0 012 0z"},child:[]}]})(e)}function Q1(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},child:[]}]})(e)}function To(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(e)}function lP(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"},child:[]}]})(e)}function ti(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},child:[]}]})(e)}function xf(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},child:[]}]})(e)}function Wp(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"},child:[]}]})(e)}function u0(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function Aa(e){return Kt({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(e)}const cP="https://lifexschoolmanager.com",uP={SUPER_ADMIN:[{to:"/dashboard",label:"Dashboard",icon:Ji},{to:"/schools",label:"Schools",icon:na},{to:"/subscriptions",label:"Subscriptions",icon:ko},{to:"/broadcasts",label:"Broadcasts",icon:af}],SCHOOL_ADMIN:[{to:"/dashboard",label:"Dashboard",icon:Ji},{to:"/pupils",label:"Pupils/Students",icon:ti},{to:"/classes",label:"Classes",icon:zN},{to:"/subjects",label:"Subjects",icon:$N},{to:"/teachers",label:"Teachers",icon:na},{to:"/parents",label:"Parents",icon:Wp},{to:"/attendance",label:"Attendance",icon:ms},{to:"/performance",label:"Performance",icon:fu},{to:"/fees",label:"Fees & Payments",icon:ko},{to:"/reports",label:"Reports",icon:zp},{label:"Communication",icon:Si,children:[{to:"/announcements",label:"Announcements",icon:Si},{to:"/broadcasts",label:"Broadcasts",icon:af},{to:"/sms",label:"Email Notifications",icon:xc},{to:"/api-keys",label:"API Access",icon:zu}]},{to:"/subscribe",label:"Subscribe",icon:Zc},{to:"/settings",label:"Settings",icon:Y7}],TEACHER:[{to:"/dashboard",label:"Dashboard",icon:Ji},{to:"/pupils",label:"Pupils/Students",icon:ti},{to:"/attendance",label:"Attendance",icon:ms},{to:"/performance",label:"Performance",icon:fu},{to:"/reports",label:"Reports",icon:zp},{label:"Communication",icon:Si,children:[{to:"/announcements",label:"Announcements",icon:Si},{to:"/broadcasts",label:"Broadcasts",icon:af}]}],PARENT:[{to:"/dashboard",label:"Dashboard",icon:Ji},{to:"/announcements",label:"Announcements",icon:Si},{to:"/broadcasts",label:"Broadcasts",icon:af}]},fP=e=>{if(!e||e.role==="SUPER_ADMIN")return null;const t=new Date;return e.subscription_status==="trial"&&e.trial_ends_at?Math.max(0,Math.ceil((new Date(e.trial_ends_at)-t)/864e5)):e.subscription_status==="active"&&e.subscription_expires_at?Math.max(0,Math.ceil((new Date(e.subscription_expires_at)-t)/864e5)):null},dP=({item:e,onClose:t})=>i.jsxs(fv,{to:e.to,onClick:t,className:({isActive:r})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors duration-150 ${r?"bg-primary-400 text-white":"text-primary-100 hover:bg-primary-400/50 hover:text-white"}`,children:[i.jsx(e.icon,{className:"w-5 h-5 flex-shrink-0"}),e.label]}),hP=({group:e,onClose:t,isOpen:r,onToggle:n})=>{const a=Fo(),s=e.children.some(o=>a.pathname.startsWith(o.to));return i.jsxs("div",{children:[i.jsxs("button",{onClick:n,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors duration-150 ${s&&!r?"bg-primary-400 text-white":"text-primary-100 hover:bg-primary-400/50 hover:text-white"}`,children:[i.jsx(e.icon,{className:"w-5 h-5 flex-shrink-0"}),i.jsx("span",{className:"flex-1 text-left",children:e.label}),i.jsx(Bm,{className:`w-4 h-4 transition-transform duration-200 ${r?"rotate-180":""}`})]}),i.jsx("div",{className:`overflow-hidden transition-all duration-200 ease-in-out ${r?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:i.jsx("div",{className:"ml-3 pl-3 mt-1 mb-1 space-y-0.5 border-l-2 border-primary-400/40",children:e.children.map(o=>i.jsxs(fv,{to:o.to,onClick:t,className:({isActive:l})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors duration-150 ${l?"bg-primary-400 text-white font-medium":"text-primary-200 hover:bg-primary-400/30 hover:text-white"}`,children:[i.jsx(o.icon,{className:"w-4 h-4 flex-shrink-0"}),o.label]},o.to))})})]})},pP=({isOpen:e,onClose:t})=>{var u;const{user:r}=sn(),n=uP[r==null?void 0:r.role]||[],a=fP(r),s=Fo(),[o,l]=G.useState(()=>{const f={};return n.forEach(p=>{if(p.children){const g=p.children.some(d=>s.pathname.startsWith(d.to));f[p.label]=g}}),f}),c=f=>{l(p=>({...p,[f]:!p[f]}))};return i.jsxs(i.Fragment,{children:[e&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:t}),i.jsxs("aside",{className:`fixed top-0 left-0 z-50 h-full w-64 bg-primary-500 text-white transform transition-transform duration-300 lg:translate-x-0 flex flex-col ${e?"translate-x-0":"-translate-x-full"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 px-5 py-5 border-b border-primary-400",children:[r!=null&&r.school_badge_url?i.jsx("img",{src:`${cP}${r.school_badge_url}`,alt:"School Badge",className:"w-10 h-10 rounded-full object-cover border-2 border-accent-400 bg-white flex-shrink-0"}):i.jsx("div",{className:"w-10 h-10 bg-accent-400 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx(na,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h1",{className:"text-base font-bold leading-tight truncate",title:(r==null?void 0:r.role)==="SUPER_ADMIN"?"School Manager":(r==null?void 0:r.school_name)||"School Manager",children:(r==null?void 0:r.role)==="SUPER_ADMIN"?"School Manager":(r==null?void 0:r.school_name)||"School Manager"}),i.jsx("p",{className:"text-xs text-primary-200 capitalize",children:(u=r==null?void 0:r.role)==null?void 0:u.replace("_"," ").toLowerCase()})]})]}),i.jsx("nav",{className:"mt-4 px-3 space-y-1 flex-1 overflow-y-auto",children:n.map(f=>f.children?i.jsx(hP,{group:f,onClose:t,isOpen:!!o[f.label],onToggle:()=>c(f.label)},f.label):i.jsx(dP,{item:f,onClose:t},f.to))}),(r==null?void 0:r.role)!=="SUPER_ADMIN"&&i.jsx(fv,{to:"/subscribe",onClick:t,className:"block px-4 py-3 border-t border-primary-400 hover:bg-primary-400/30 transition-colors",children:(r==null?void 0:r.subscription_status)==="active"?i.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary-100",children:[i.jsx("span",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),i.jsxs("span",{className:"capitalize font-medium",children:[r.plan_type," plan"]}),a!==null&&a<=30&&i.jsxs("span",{className:"ml-auto text-primary-200",children:[a,"d left"]})]}):(r==null?void 0:r.subscription_status)==="trial"?i.jsxs("div",{className:`flex items-center gap-2 text-xs font-medium rounded-lg px-3 py-2 ${a!==null&&a<=7?"bg-red-500/30 text-red-100":"bg-amber-500/20 text-amber-100"}`,children:[i.jsx($N,{className:"w-4 h-4 flex-shrink-0"}),i.jsx("span",{children:"Free Trial"}),a!==null&&i.jsxs("span",{className:"ml-auto font-bold",children:[a,"d left"]})]}):i.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-200 bg-red-500/20 rounded-lg px-3 py-2 font-medium",children:[i.jsx("span",{className:"w-2 h-2 bg-red-400 rounded-full"}),(r==null?void 0:r.subscription_status)==="suspended"?"Suspended":"Expired",i.jsx("span",{className:"ml-auto text-amber-200 font-bold",children:"Subscribe "})]})})]})]})},En=()=>{const[e,t]=G.useState(!1),r=G.useCallback(async(l,c,u=null,f={})=>{var g,d;t(!0);const p=l.toLowerCase()==="get";try{const y={method:l,url:c,...f};u&&["post","put","patch"].includes(l.toLowerCase())&&(y.data=u),u&&p&&(y.params=u);const x=await es(y);if(p&&x.data){const _=aw(c,u);k7(_,x.data)}return x.data}catch(y){if(mP(y))if(p){const _=aw(c,u),w=await T7(_);if(w)return f.silent||ct("You're offline  showing cached data",{icon:""}),w;throw f.silent||ct.error("You're offline and no cached data is available"),y}else return await L7(l,c,u),f.silent||ct("Saved offline  will sync when connected",{icon:""}),{success:!0,message:"Queued for sync",data:u,_offline:!0};const x=((d=(g=y.response)==null?void 0:g.data)==null?void 0:d.message)||y.message||"Something went wrong";throw f.silent||ct.error(x),y}finally{t(!1)}},[]),n=G.useCallback((l,c,u)=>r("get",l,c,u),[r]),a=G.useCallback((l,c,u)=>r("post",l,c,u),[r]),s=G.useCallback((l,c,u)=>r("put",l,c,u),[r]),o=G.useCallback((l,c)=>r("delete",l,null,c),[r]);return{loading:e,get:n,post:a,put:s,del:o}};function aw(e,t){if(!t||typeof t!="object")return e;const r=Object.entries(t).filter(([,n])=>n!=null).sort(([n],[a])=>n.localeCompare(a)).map(([n,a])=>`${n}=${a}`).join("&");return r?`${e}?${r}`:e}function mP(e){return!!(!navigator.onLine||e.code==="ERR_NETWORK"||e.message==="Network Error"||!e.response&&e.request)}const Yx=new Set,gP=e=>(Yx.add(e),()=>Yx.delete(e)),sf=e=>{Yx.forEach(t=>{try{t(e)}catch{}})};let rp=!1;const np=async()=>{if(rp||!navigator.onLine)return;const e=await mf();if(e===0)return;rp=!0,sf({type:"sync-start",pending:e});const t=await F7();let r=0,n=0;for(const a of t)try{await J5(a.id,"syncing");const s=localStorage.getItem("access_token"),o={...a.headers,"Content-Type":"application/json"};s&&(o.Authorization=`Bearer ${s}`);const c=a.url.startsWith("http")?a.url:`/api/v1${a.url}`;await Mn({method:a.method,url:c,data:a.data,headers:o,timeout:3e4}),await Q5(a.id),r++,sf({type:"sync-item-done",synced:r,failed:n,total:t.length})}catch(s){s.response&&s.response.status>=400&&s.response.status<500?(console.warn(`[SyncManager] Dropping item ${a.id}  server returned ${s.response.status}:`,s.response.data),await Q5(a.id),n++):(await J5(a.id,"pending"),a.retries=(a.retries||0)+1,n++),sf({type:"sync-item-failed",synced:r,failed:n,total:t.length,error:s.message})}rp=!1,sf({type:"sync-complete",synced:r,failed:n,remaining:await mf()})};let sw=!1;const xP=()=>{sw||(sw=!0,window.addEventListener("online",()=>{sf({type:"online"}),setTimeout(()=>np(),2e3)}),window.addEventListener("offline",()=>{sf({type:"offline"})}),setInterval(async()=>{navigator.onLine&&!rp&&await mf()>0&&np()},6e4),navigator.onLine&&setTimeout(()=>np(),3e3))},vP="https://lifexschoolmanager.com",yP=()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.frequency.value=830,t.type="sine",r.gain.setValueAtTime(.3,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.15),t.start(e.currentTime),t.stop(e.currentTime+.15);const n=e.createOscillator(),a=e.createGain();n.connect(a),a.connect(e.destination),n.frequency.value=1050,n.type="sine",a.gain.setValueAtTime(.25,e.currentTime+.12),a.gain.exponentialRampToValueAtTime(.01,e.currentTime+.35),n.start(e.currentTime+.12),n.stop(e.currentTime+.35),setTimeout(()=>e.close(),500)}catch{}},wP=({onToggleSidebar:e})=>{var P,B;const{user:t,logout:r}=sn(),n=so(),{get:a}=En(),[s,o]=G.useState(!1),[l,c]=G.useState(!1),[u,f]=G.useState([]),[p,g]=G.useState(0),d=G.useRef(-1),y=G.useRef(null),x=G.useRef(null),[_,w]=G.useState(navigator.onLine),[S,j]=G.useState(0),[T,q]=G.useState(!1);G.useEffect(()=>{xP();const z=()=>w(!0),te=()=>w(!1);window.addEventListener("online",z),window.addEventListener("offline",te);const de=gP(W=>{W.type==="online"&&w(!0),W.type==="offline"&&w(!1),W.type==="sync-start"&&q(!0),W.type==="sync-complete"&&(q(!1),j(W.remaining)),(W.type==="sync-item-done"||W.type==="sync-item-failed")&&mf().then(j)});mf().then(j);const X=setInterval(()=>{mf().then(j)},15e3);return()=>{window.removeEventListener("online",z),window.removeEventListener("offline",te),de(),clearInterval(X)}},[]);const se=()=>{!_||T||np()},L=G.useCallback(async()=>{try{let z=[];if((t==null?void 0:t.role)!=="SUPER_ADMIN")try{z=((await a("/announcements",{limit:10},{silent:!0})).data||[]).map(W=>({...W,_type:"announcement"}))}catch{}try{z=[...((await a("/broadcasts",{limit:10},{silent:!0})).data||[]).map(M=>({...M,_type:"broadcast"})),...z]}catch{}z.sort((X,W)=>new Date(W.created_at)-new Date(X.created_at)),f(z);const te=localStorage.getItem("notifications_last_seen");let de=0;te?de=z.filter(X=>new Date(X.created_at)>new Date(te)).length:de=z.length,d.current>=0&&de>d.current&&yP(),d.current=de,g(de)}catch{}},[a,t==null?void 0:t.role]);G.useEffect(()=>{L();const z=setInterval(L,6e4);return()=>clearInterval(z)},[L]),G.useEffect(()=>{const z=te=>{y.current&&!y.current.contains(te.target)&&o(!1),x.current&&!x.current.contains(te.target)&&c(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const k=()=>{const z=!l;c(z),o(!1),z&&(localStorage.setItem("notifications_last_seen",new Date().toISOString()),g(0))},R=async()=>{await r(),n("/login")},Y=z=>{const te=new Date,de=new Date(z),X=te-de,W=Math.floor(X/6e4);if(W<1)return"Just now";if(W<60)return`${W}m ago`;const M=Math.floor(W/60);if(M<24)return`${M}h ago`;const he=Math.floor(M/24);return he<7?`${he}d ago`:de.toLocaleDateString()};return i.jsxs("header",{className:"sticky top-0 z-30 h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 lg:px-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition",children:i.jsx(rP,{className:"w-6 h-6 text-gray-600"})}),i.jsx("h2",{className:"text-sm font-semibold text-gray-500 hidden sm:block",children:(t==null?void 0:t.school_name)||"School Manager"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-[11px] font-medium transition-all ${_?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-500 animate-pulse"}`,title:_?"Connected":"Offline  changes will sync when connected",children:[_?i.jsx(oP,{className:"w-3.5 h-3.5"}):i.jsx(iP,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"hidden sm:inline",children:_?"Online":"Offline"})]}),S>0&&i.jsxs("button",{onClick:se,disabled:!_||T,className:`flex items-center gap-1 px-2 py-1 rounded-full text-[11px] font-medium transition-all ${T?"bg-blue-50 text-blue-500":_?"bg-amber-50 text-amber-600 hover:bg-amber-100 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:T?"Syncing...":_?"Click to sync now":"Will sync when online",children:[i.jsx(L0,{className:`w-3.5 h-3.5 ${T?"animate-spin":""}`}),i.jsx("span",{children:S})]})]}),i.jsxs("div",{className:"relative",ref:x,children:[i.jsxs("button",{onClick:k,className:"relative p-2 rounded-lg hover:bg-gray-100 transition",title:"Notifications",children:[i.jsx(rw,{className:"w-5 h-5 text-gray-500"}),p>0&&i.jsx("span",{className:"absolute top-1 right-1 min-w-[18px] h-[18px] flex items-center justify-center bg-red-500 text-white text-[10px] font-bold rounded-full px-1",children:p>9?"9+":p})]}),l&&i.jsxs("div",{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden z-50",children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 bg-gray-50",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Notifications"}),u.length>0&&i.jsxs("span",{className:"text-xs text-gray-400",children:[u.length," recent"]})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto divide-y divide-gray-50",children:u.length>0?u.map(z=>i.jsxs("div",{className:"flex items-start gap-3 px-4 py-3 hover:bg-gray-50 transition cursor-pointer",onClick:()=>{c(!1),n(z._type==="broadcast"?"/broadcasts":"/announcements")},children:[i.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5 ${z._type==="broadcast"?"bg-red-100":"bg-accent-100"}`,children:i.jsx(Si,{className:`w-4 h-4 ${z._type==="broadcast"?"text-red-600":"text-accent-600"}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:z.title}),i.jsx("p",{className:"text-xs text-gray-500 line-clamp-2 mt-0.5",children:z.body||z.message}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-[11px] text-gray-400",children:Y(z.created_at)}),z._type==="broadcast"?i.jsx("span",{className:"px-1.5 py-0.5 bg-red-50 rounded text-[10px] text-red-500 font-medium",children:"System"}):i.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-[10px] text-gray-500 capitalize",children:z.audience})]})]})]},`${z._type}-${z.id}`)):i.jsxs("div",{className:"px-4 py-8 text-center",children:[i.jsx(rw,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-gray-400",children:"No notifications yet"})]})}),u.length>0&&i.jsx("div",{className:"border-t border-gray-100 px-4 py-2.5 bg-gray-50",children:i.jsx("button",{onClick:()=>{c(!1),n("/announcements")},className:"w-full text-center text-sm font-medium text-primary-500 hover:text-primary-600 transition",children:"View All Announcements "})})]})]}),i.jsxs("div",{className:"relative",ref:y,children:[i.jsxs("button",{onClick:()=>{o(!s),c(!1)},className:"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-100 transition",children:[t!=null&&t.avatar_url?i.jsx("img",{src:`${vP}${t.avatar_url}`,alt:`${t.first_name} ${t.last_name}`,className:"w-8 h-8 rounded-full object-cover border border-gray-200"}):i.jsxs("div",{className:"w-8 h-8 bg-primary-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:[(P=t==null?void 0:t.first_name)==null?void 0:P[0],(B=t==null?void 0:t.last_name)==null?void 0:B[0]]}),i.jsx("span",{className:"text-sm font-medium text-gray-700 hidden sm:block",children:t==null?void 0:t.first_name})]}),s&&i.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-2",children:[i.jsxs("button",{onClick:()=>{n("/profile"),o(!1)},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[i.jsx(xf,{className:"w-4 h-4"})," Edit Profile"]}),i.jsx("hr",{className:"my-1 border-gray-100"}),i.jsxs("button",{onClick:R,className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[i.jsx(qN,{className:"w-4 h-4"})," Log Out"]})]})]})]})]})},bP=e=>{if(!e||e.role==="SUPER_ADMIN")return null;const t=new Date;if(e.subscription_status==="trial"&&e.trial_ends_at){const a=new Date(e.trial_ends_at);return Math.max(0,Math.ceil((a-t)/(1e3*60*60*24)))}if(e.subscription_status==="active"&&e.subscription_expires_at){const a=new Date(e.subscription_expires_at);return Math.max(0,Math.ceil((a-t)/(1e3*60*60*24)))}const r=sessionStorage.getItem("trial_days_left");if(r!==null)return parseInt(r,10);const n=sessionStorage.getItem("subscription_days_left");return n!==null?parseInt(n,10):null},_P=()=>{const[e,t]=G.useState(!1),[r,n]=G.useState(!1),{user:a}=sn(),s=G.useMemo(()=>bP(a),[a]),o=!r&&s!==null&&s<=14&&(a==null?void 0:a.role)!=="SUPER_ADMIN",l=s<=3,c=s<=7,u=(a==null?void 0:a.subscription_status)==="trial";return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(pP,{isOpen:e,onClose:()=>t(!1)}),i.jsxs("div",{className:"lg:ml-64 min-h-screen flex flex-col",children:[i.jsx(wP,{onToggleSidebar:()=>t(!e)}),o&&i.jsxs("div",{className:`relative flex items-center justify-center gap-3 px-4 py-2.5 text-sm font-medium ${l?"bg-red-600 text-white":c?"bg-amber-500 text-white":"bg-amber-50 text-amber-800 border-b border-amber-200"}`,children:[l?i.jsx(zm,{className:"w-5 h-5 flex-shrink-0"}):i.jsx(Wf,{className:"w-5 h-5 flex-shrink-0"}),i.jsxs("span",{children:[s===0?i.jsxs(i.Fragment,{children:["Your ",u?"trial":"subscription"," expires ",i.jsx("strong",{children:"today"}),"!"]}):s===1?i.jsxs(i.Fragment,{children:["Your ",u?"trial":"subscription"," expires ",i.jsx("strong",{children:"tomorrow"}),"!"]}):i.jsxs(i.Fragment,{children:[u?"Free trial":"Subscription"," expires in"," ",i.jsxs("strong",{children:[s," day",s!==1?"s":""]}),"."]})," ",(a==null?void 0:a.role)==="SCHOOL_ADMIN"?i.jsx(ra,{to:"/settings",className:`underline font-bold ${l||c?"text-white":"text-amber-900"}`,children:"Subscribe now "}):i.jsx("span",{children:"Contact your school admin to subscribe."})]}),i.jsx("button",{onClick:()=>n(!0),className:`absolute right-3 p-1 rounded-full transition ${l||c?"hover:bg-white/20":"hover:bg-amber-200"}`,title:"Dismiss",children:i.jsx(Aa,{className:"w-4 h-4"})})]}),i.jsx("main",{className:"flex-1 p-4 lg:p-6",children:i.jsx(zC,{})})]})]})},NP=()=>{const[e,t]=G.useState({email:"",password:""}),[r,n]=G.useState(!1),[a,s]=G.useState(!1),{login:o}=sn(),l=so(),c=f=>t({...e,[f.target.name]:f.target.value}),u=async f=>{var p,g;f.preventDefault(),s(!0);try{const d=await o({email:e.email,password:e.password});ct.success(`Welcome back, ${d.first_name}!`),l("/dashboard")}catch(d){ct.error(((g=(p=d.response)==null?void 0:p.data)==null?void 0:g.message)||"Login failed")}finally{s(!1)}};return i.jsxs("div",{className:"min-h-screen flex",children:[i.jsx("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 items-center justify-center p-12",children:i.jsxs("div",{className:"text-center text-white max-w-md",children:[i.jsx("div",{className:"w-20 h-20 bg-accent-400 rounded-full mx-auto mb-6 flex items-center justify-center",children:i.jsx(na,{className:"w-10 h-10"})}),i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"LIFEX SCHOOL MANAGER"}),i.jsx("p",{className:"text-primary-100 text-lg leading-relaxed",children:"The all-in-one platform for managing schools across the board."}),i.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4 text-sm text-primary-200",children:[i.jsx("div",{className:"bg-primary-400/30 rounded-lg p-3",children:"Pupils/Students"}),i.jsx("div",{className:"bg-primary-400/30 rounded-lg p-3",children:"Attendance"}),i.jsx("div",{className:"bg-primary-400/30 rounded-lg p-3",children:"Fees"}),i.jsx("div",{className:"bg-primary-400/30 rounded-lg p-3",children:"Teachers"}),i.jsx("div",{className:"bg-primary-400/30 rounded-lg p-3",children:"Reports"}),i.jsx("div",{className:"bg-primary-400/30 rounded-lg p-3",children:"Parents"})]})]})}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-gray-50",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"lg:hidden text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-primary-500 rounded-full mx-auto mb-3 flex items-center justify-center",children:i.jsx(na,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-primary-500",children:"LIFEX SCHOOL MANAGER"})]}),i.jsxs("div",{className:"card",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Login"}),i.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your credentials to access your dashboard"}),i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Email or Phone"}),i.jsxs("div",{className:"relative",children:[i.jsx(xc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",name:"email",value:e.email,onChange:c,className:"input-field pl-10",placeholder:"admin@school.com",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Hm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:r?"text":"password",name:"password",value:e.password,onChange:c,className:"input-field pl-10 pr-10",placeholder:"",required:!0}),i.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",tabIndex:-1,children:r?i.jsx(gf,{className:"w-5 h-5"}):i.jsx(gc,{className:"w-5 h-5"})})]})]}),i.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full flex items-center justify-center gap-2",children:a?i.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Log In"})]}),i.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Don't have an account?"," ",i.jsx(ra,{to:"/register",className:"text-primary-500 font-medium hover:underline",children:"Register your school"})]}),i.jsxs("div",{className:"mt-5 pt-5 border-t border-gray-100",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"How to log in"}),i.jsxs("div",{className:"space-y-2 text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"w-5 h-5 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center flex-shrink-0 text-[10px] font-bold mt-0.5",children:"A"}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"School Admin"}),"  Register your school above to get your admin account."]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"w-5 h-5 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center flex-shrink-0 text-[10px] font-bold mt-0.5",children:"T"}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Teacher"}),"  Your school admin creates your account. Log in with your email and the password provided."]})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"w-5 h-5 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center flex-shrink-0 text-[10px] font-bold mt-0.5",children:"P"}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Parent"}),"  Your school admin creates your account. Log in with your email and the password provided."]})]})]})]})]})]})})]})},SP=()=>{const[e,t]=G.useState(1),[r,n]=G.useState({school_name:"",school_email:"",school_phone:"",country:"",district:"",region:"",motto:"",school_address:"",first_name:"",last_name:"",email:"",phone:"",password:"",confirm_password:""}),[a,s]=G.useState(!1),[o,l]=G.useState(!1),[c,u]=G.useState(!1),{register:f}=sn(),p=so(),g=y=>n({...r,[y.target.name]:y.target.value}),d=async y=>{var x,_;if(y.preventDefault(),r.password!==r.confirm_password)return ct.error("Passwords do not match");u(!0);try{const{confirm_password:w,...S}=r,j=Object.fromEntries(Object.entries(S).filter(([,T])=>T!==""));await f(j),ct.success("School registered! Welcome aboard."),p("/dashboard")}catch(w){ct.error(((_=(x=w.response)==null?void 0:x.data)==null?void 0:_.message)||"Registration failed")}finally{u(!1)}};return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"w-full max-w-2xl",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-14 h-14 bg-primary-500 rounded-full mx-auto mb-3 flex items-center justify-center",children:i.jsx(na,{className:"w-7 h-7 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Register Your School"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Start your 30-day free trial"})]}),i.jsx("div",{className:"flex items-center justify-center gap-4 mb-8",children:[1,2].map(y=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${e>=y?"bg-primary-500 text-white":"bg-gray-200 text-gray-500"}`,children:y}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:y===1?"School Info":"Admin Account"}),y===1&&i.jsx("div",{className:"w-12 h-0.5 bg-gray-200 mx-2"})]},y))}),i.jsxs("form",{onSubmit:d,className:"card",children:[e===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"School Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"label",children:"School Name *"}),i.jsx("input",{name:"school_name",value:r.school_name,onChange:g,className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"School Email"}),i.jsx("input",{name:"school_email",type:"email",value:r.school_email,onChange:g,className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"School Phone"}),i.jsx("input",{name:"school_phone",value:r.school_phone,onChange:g,className:"input-field",placeholder:"+256 700 123456"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Country"}),i.jsxs("select",{name:"country",value:r.country,onChange:g,className:"input-field",children:[i.jsx("option",{value:"",children:"Select Country"}),i.jsx("option",{value:"Uganda",children:"Uganda"}),i.jsx("option",{value:"Kenya",children:"Kenya"}),i.jsx("option",{value:"Tanzania",children:"Tanzania"}),i.jsx("option",{value:"Rwanda",children:"Rwanda"}),i.jsx("option",{value:"Burundi",children:"Burundi"}),i.jsx("option",{value:"South Sudan",children:"South Sudan"}),i.jsx("option",{value:"DR Congo",children:"DR Congo"}),i.jsx("option",{value:"Ethiopia",children:"Ethiopia"}),i.jsx("option",{value:"Somalia",children:"Somalia"}),i.jsx("option",{value:"Nigeria",children:"Nigeria"}),i.jsx("option",{value:"Ghana",children:"Ghana"}),i.jsx("option",{value:"South Africa",children:"South Africa"}),i.jsx("option",{value:"Zambia",children:"Zambia"}),i.jsx("option",{value:"Zimbabwe",children:"Zimbabwe"}),i.jsx("option",{value:"Malawi",children:"Malawi"}),i.jsx("option",{value:"Mozambique",children:"Mozambique"}),i.jsx("option",{value:"Cameroon",children:"Cameroon"}),i.jsx("option",{value:"Senegal",children:"Senegal"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"District"}),i.jsx("input",{name:"district",value:r.district,onChange:g,className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Region"}),i.jsx("input",{name:"region",value:r.region,onChange:g,className:"input-field"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"label",children:"Address"}),i.jsx("input",{name:"school_address",value:r.school_address,onChange:g,className:"input-field"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"label",children:"Motto"}),i.jsx("input",{name:"motto",value:r.motto,onChange:g,className:"input-field"})]})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsx("button",{type:"button",onClick:()=>t(2),className:"btn-primary",disabled:!r.school_name,children:"Next: Admin Account "})})]}),e===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Admin Account"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"First Name *"}),i.jsx("input",{name:"first_name",value:r.first_name,onChange:g,className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Last Name *"}),i.jsx("input",{name:"last_name",value:r.last_name,onChange:g,className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Email *"}),i.jsx("input",{name:"email",type:"email",value:r.email,onChange:g,className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Phone"}),i.jsx("input",{name:"phone",value:r.phone,onChange:g,className:"input-field",placeholder:"+256 700 123456"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Password *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{name:"password",type:a?"text":"password",value:r.password,onChange:g,className:"input-field pr-10",required:!0,minLength:8,placeholder:"Min 8 characters"}),i.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",tabIndex:-1,children:a?i.jsx(gf,{className:"w-5 h-5"}):i.jsx(gc,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Confirm Password *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{name:"confirm_password",type:o?"text":"password",value:r.confirm_password,onChange:g,className:"input-field pr-10",required:!0,placeholder:"Re-enter password"}),i.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",tabIndex:-1,children:o?i.jsx(gf,{className:"w-5 h-5"}):i.jsx(gc,{className:"w-5 h-5"})})]})]})]}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx("button",{type:"button",onClick:()=>t(1),className:"btn-secondary",children:" Back"}),i.jsx("button",{type:"submit",disabled:c,className:"btn-primary flex items-center gap-2",children:c?i.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Register School"})]})]})]}),i.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Already have an account? ",i.jsx(ra,{to:"/login",className:"text-primary-500 font-medium hover:underline",children:"Log in"})]})]})})},jP=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx(aP,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),i.jsx("p",{className:"text-gray-500 mb-6",children:"You do not have permission to access this page."}),i.jsx(ra,{to:"/dashboard",className:"btn-primary",children:"Go to Dashboard"})]})}),AP=[{name:"Starter",key:"starter",price:"Free Trial",period:"30 days",icon:$p,color:"gray",features:["Up to 100 pupils","Basic attendance tracking","Simple fee management","Up to 5 teachers","Email support"]},{name:"Standard",key:"standard",price:"UGX 150,000",period:"/ term",icon:c0,color:"blue",popular:!0,features:["Up to 500 pupils","Full attendance & reports","Advanced fee management","Unlimited teachers","Parent portal access","PDF & Excel exports","Theme customization","Priority support"]},{name:"Pro",key:"pro",price:"UGX 300,000",period:"/ term",icon:Ni,color:"purple",features:["Unlimited pupils","Everything in Standard","Custom school branding on reports","SMS notifications","Multi-campus support","API access","Dedicated account manager","24/7 phone support"]}],EP=()=>{const{user:e,logout:t}=sn(),r=so();(e==null?void 0:e.subscription_status)==="trial"||(e==null||e.subscription_status);const n=(e==null?void 0:e.subscription_status)==="suspended",a=async()=>{await t(),r("/login")};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[i.jsxs("header",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 bg-red-100 rounded-lg flex items-center justify-center",children:i.jsx(Hm,{className:"w-5 h-5 text-red-500"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-gray-800",children:(e==null?void 0:e.school_name)||"School Manager"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Account restricted"})]})]}),i.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition",children:[i.jsx(qN,{className:"w-4 h-4"}),"Log Out"]})]}),i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-10",children:[i.jsx("div",{className:`rounded-2xl p-6 mb-10 ${n?"bg-red-50 border border-red-200":"bg-amber-50 border border-amber-200"}`,children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${n?"bg-red-100":"bg-amber-100"}`,children:i.jsx(zm,{className:`w-7 h-7 ${n?"text-red-500":"text-amber-500"}`})}),i.jsxs("div",{children:[i.jsx("h2",{className:`text-xl font-bold ${n?"text-red-800":"text-amber-800"}`,children:n?"Your Subscription Has Been Suspended":"Your Free Trial Has Ended"}),i.jsx("p",{className:`mt-2 text-sm leading-relaxed ${n?"text-red-700":"text-amber-700"}`,children:n?"Your school subscription has been suspended. Please contact the School Manager support team to resolve this issue and restore access.":`Your 30-day free trial for ${(e==null?void 0:e.school_name)||"your school"} has ended. To continue using School Manager  managing pupils, teachers, attendance, fees and more  please subscribe to one of our affordable plans below.`}),(e==null?void 0:e.trial_ends_at)&&i.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Trial ended: ",new Date(e.trial_ends_at).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-10",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"What happens now?"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"mt-0.5 w-1.5 h-1.5 bg-gray-400 rounded-full flex-shrink-0"}),"Your data is safe  we keep everything for ",i.jsx("strong",{children:"90 days"})," after expiry."]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"mt-0.5 w-1.5 h-1.5 bg-gray-400 rounded-full flex-shrink-0"}),"You cannot add new records or access reports until your subscription is active."]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"mt-0.5 w-1.5 h-1.5 bg-gray-400 rounded-full flex-shrink-0"}),"Contact our team below to activate a plan  it only takes a few minutes."]})]})]}),!n&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-center text-2xl font-bold text-gray-800 mb-2",children:"Choose a Plan"}),i.jsx("p",{className:"text-center text-gray-500 text-sm mb-8",children:"All plans include a 7-day money-back guarantee"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:AP.map(s=>i.jsxs("div",{className:`relative bg-white rounded-2xl border-2 p-6 transition-shadow hover:shadow-lg ${s.popular?"border-blue-500 shadow-md":"border-gray-200"}`,children:[s.popular&&i.jsx("span",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-500 text-white text-xs font-bold px-4 py-1 rounded-full",children:"Most Popular"}),i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center mb-4 bg-${s.color}-100`,children:i.jsx(s.icon,{className:`w-5 h-5 text-${s.color}-500`})}),i.jsx("h4",{className:"text-lg font-bold text-gray-800",children:s.name}),i.jsxs("div",{className:"mt-2 mb-4",children:[i.jsx("span",{className:"text-2xl font-extrabold text-gray-900",children:s.price}),i.jsx("span",{className:"text-sm text-gray-500 ml-1",children:s.period})]}),i.jsx("ul",{className:"space-y-2 mb-6",children:s.features.map((o,l)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[i.jsx(Ni,{className:`w-4 h-4 mt-0.5 flex-shrink-0 text-${s.color}-500`}),o]},l))}),s.key!=="starter"&&i.jsxs("button",{onClick:()=>r("/subscribe"),className:`w-full py-3 rounded-xl text-white font-bold text-sm transition-all ${s.key==="pro"?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"}`,children:["Subscribe to ",s.name]})]},s.key))})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl p-8 text-white text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ready to Subscribe?"}),i.jsx("p",{className:"text-blue-100 text-sm mb-6 max-w-lg mx-auto",children:"Subscribe instantly using Mobile Money, Visa, Mastercard, or Bank Transfer via PesaPal  it only takes a few minutes."}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[i.jsxs("button",{onClick:()=>r("/subscribe"),className:"flex items-center gap-2 bg-white text-blue-700 px-8 py-3 rounded-xl font-bold text-sm hover:bg-blue-50 transition shadow-lg",children:[i.jsx(c0,{className:"w-5 h-5"}),"Subscribe Now"]}),i.jsxs("a",{href:"tel:+256700000000",className:"flex items-center gap-2 bg-blue-500 text-white px-6 py-3 rounded-xl font-semibold text-sm hover:bg-blue-400 transition border border-blue-400",children:[i.jsx(Hp,{className:"w-5 h-5"}),"Call: +256 700 000 000"]}),i.jsxs("a",{href:"mailto:support@schoolmanager.com",className:"flex items-center gap-2 bg-blue-500/80 text-white px-6 py-3 rounded-xl font-semibold text-sm hover:bg-blue-400 transition border border-blue-400/50",children:[i.jsx(xc,{className:"w-5 h-5"}),"support@schoolmanager.com"]})]})]}),i.jsxs("p",{className:"text-center text-xs text-gray-400 mt-8",children:["School Manager  ",new Date().getFullYear(),"  Empowering schools across Africa with digital tools."]})]})]})},CP=()=>{const{user:e}=sn(),{get:t}=En(),[r,n]=G.useState([]),[a,s]=G.useState({total:0,active:0,trial:0,expired:0});G.useEffect(()=>{(async()=>{var f,p;try{const g=await t("/schools",{limit:100}),d=((f=g.data)==null?void 0:f.schools)||[];n(d),s({total:((p=g.data)==null?void 0:p.total)||d.length,active:d.filter(y=>y.subscription_status==="active").length,trial:d.filter(y=>y.subscription_status==="trial").length,expired:d.filter(y=>["expired","suspended"].includes(y.subscription_status)).length})}catch{}})()},[t]);const o=[{label:"Total Schools",value:a.total,icon:na,color:"from-blue-500 to-blue-600"},{label:"Active Subscriptions",value:a.active,icon:Df,color:"from-emerald-500 to-emerald-600"},{label:"On Trial",value:a.trial,icon:Wf,color:"from-amber-500 to-amber-600"},{label:"Expired / Suspended",value:a.expired,icon:zm,color:"from-red-500 to-red-600"}],l=u=>{const f={active:"bg-emerald-100 text-emerald-700",trial:"bg-amber-100 text-amber-700",expired:"bg-red-100 text-red-700",suspended:"bg-gray-100 text-gray-700"};return i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium capitalize ${f[u]||"bg-gray-100 text-gray-600"}`,children:u})},c=u=>{const f={starter:"bg-gray-100 text-gray-700",standard:"bg-blue-100 text-blue-700",pro:"bg-purple-100 text-purple-700"};return i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium capitalize ${f[u]||"bg-gray-100 text-gray-600"}`,children:u})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"School Manager Platform"}),i.jsxs("p",{className:"text-primary-100 mt-1",children:["Welcome back, ",e==null?void 0:e.first_name,"! You are logged in as Super Admin."]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map(u=>i.jsx("div",{className:`bg-gradient-to-r ${u.color} rounded-xl p-5 text-white shadow-md`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-white/80",children:u.label}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:u.value})]}),i.jsx(u.icon,{className:"w-10 h-10 text-white/30"})]})},u.label))}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Quick Actions"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsxs(ra,{to:"/schools",className:"card flex items-center gap-4 hover:shadow-md transition-shadow group",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition",children:i.jsx(na,{className:"w-6 h-6 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-800",children:"Manage Schools"}),i.jsx("p",{className:"text-xs text-gray-500",children:"View and manage all schools"})]})]}),i.jsxs(ra,{to:"/subscriptions",className:"card flex items-center gap-4 hover:shadow-md transition-shadow group",children:[i.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center group-hover:bg-emerald-100 transition",children:i.jsx(ko,{className:"w-6 h-6 text-emerald-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-800",children:"Subscriptions"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Manage billing & plans"})]})]}),i.jsxs(ra,{to:"/profile",className:"card flex items-center gap-4 hover:shadow-md transition-shadow group",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-lg flex items-center justify-center group-hover:bg-purple-100 transition",children:i.jsx(ti,{className:"w-6 h-6 text-purple-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-800",children:"My Profile"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Update your account settings"})]})]})]})]}),r.length>0&&i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Schools"}),i.jsx(ra,{to:"/schools",className:"text-sm text-primary-500 hover:text-primary-600 font-medium",children:"View All "})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"table-header",children:[i.jsx("th",{className:"text-left p-3",children:"School Name"}),i.jsx("th",{className:"text-left p-3",children:"District"}),i.jsx("th",{className:"text-center p-3",children:"Plan"}),i.jsx("th",{className:"text-center p-3",children:"Status"}),i.jsx("th",{className:"text-left p-3",children:"Registered"})]})}),i.jsx("tbody",{children:r.slice(0,10).map(u=>i.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[i.jsx("td",{className:"p-3 font-medium text-gray-800",children:u.name}),i.jsx("td",{className:"p-3 text-gray-600",children:u.district||""}),i.jsx("td",{className:"p-3 text-center",children:c(u.plan_type)}),i.jsx("td",{className:"p-3 text-center",children:l(u.subscription_status)}),i.jsx("td",{className:"p-3 text-gray-500 text-xs",children:new Date(u.created_at).toLocaleDateString()})]},u.id))})]})})]})]})},iw=()=>{const{user:e}=sn(),{get:t}=En(),[r,n]=G.useState(null),[a,s]=G.useState([]);G.useEffect(()=>{(async()=>{try{const[u,f]=await Promise.all([t("/reports/summary"),t("/attendance/summary")]);n(u.data),s(f.data)}catch{}})()},[t]);const o=r?[{label:"Total Pupils",value:r.total_pupils,icon:ti,color:"from-blue-500 to-blue-600"},{label:"Total Teachers",value:r.total_teachers,icon:na,color:"from-emerald-500 to-emerald-600"},{label:"Fees Collected",value:`UGX ${Number(r.total_fees_collected).toLocaleString()}`,icon:ko,color:"from-amber-500 to-amber-600"},{label:"Attendance Today",value:a.length>0?`${Math.round(a.reduce((c,u)=>c+(parseInt(u.present_count)||0),0)/Math.max(a.reduce((c,u)=>c+(parseInt(u.total_pupils)||1),0),1)*100)}%`:"",icon:ms,color:"from-purple-500 to-purple-600"}]:[],l=[{to:"/announcements",label:"Add Announcement",icon:Si},{to:"/attendance",label:"Recent Attendance",icon:ms},{to:"/reports",label:"Fee Summary",icon:zp}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:[i.jsx("h1",{className:"text-2xl font-bold",children:(e==null?void 0:e.school_name)||"School"}),i.jsx("p",{className:"text-primary-100 mt-1",children:"Admin Dashboard"})]}),r&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map(c=>i.jsx("div",{className:`bg-gradient-to-r ${c.color} rounded-xl p-5 text-white shadow-md`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-white/80",children:c.label}),i.jsx("p",{className:"text-2xl font-bold mt-1",children:c.value})]}),i.jsx(c.icon,{className:"w-10 h-10 text-white/30"})]})},c.label))}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Quick Actions"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:l.map(c=>i.jsxs(ra,{to:c.to,className:"card flex items-center gap-4 hover:shadow-md transition-shadow group",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-50 rounded-lg flex items-center justify-center group-hover:bg-primary-100 transition",children:i.jsx(c.icon,{className:"w-6 h-6 text-primary-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-800",children:c.label}),i.jsx("p",{className:"text-xs text-gray-500",children:"Click to manage"})]})]},c.to))})]}),a.length>0&&i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Attendance"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"table-header",children:[i.jsx("th",{className:"text-left p-3",children:"Class"}),i.jsx("th",{className:"text-center p-3",children:"Present"}),i.jsx("th",{className:"text-center p-3",children:"Absent"}),i.jsx("th",{className:"text-center p-3",children:"Total"})]})}),i.jsx("tbody",{children:a.map(c=>i.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[i.jsx("td",{className:"p-3 font-medium",children:c.class_name}),i.jsx("td",{className:"p-3 text-center text-emerald-600 font-semibold",children:c.present_count}),i.jsx("td",{className:"p-3 text-center text-red-500 font-semibold",children:c.absent_count}),i.jsx("td",{className:"p-3 text-center text-gray-600",children:c.total_pupils})]},c.class_id))})]})})]})]})},kP=()=>{const{user:e}=sn(),{get:t}=En(),[r,n]=G.useState([]),[a,s]=G.useState([]);G.useEffect(()=>{(async()=>{try{const[c,u]=await Promise.all([t("/attendance/summary"),t("/announcements",{limit:5})]);n(c.data||[]),s(u.data||[])}catch{}})()},[t]);const o=[{to:"/attendance",label:"Log Attendance",description:"Mark daily attendance for your classes",icon:ms,gradient:"from-blue-500 to-blue-600"},{to:"/performance",label:"Record Scores",description:"Enter exam & assessment scores",icon:fu,gradient:"from-emerald-500 to-emerald-600"},{to:"/pupils",label:"View Pupils",description:"Browse pupil/student list & profiles",icon:ti,gradient:"from-violet-500 to-violet-600"},{to:"/reports",label:"View Reports",description:"Attendance & enrollment reports",icon:zp,gradient:"from-amber-500 to-amber-600"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Teacher Dashboard"}),i.jsxs("p",{className:"text-primary-100 mt-1",children:["Welcome, ",e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Quick Actions"}),i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:o.map(l=>i.jsxs(ra,{to:l.to,className:"group relative bg-white rounded-xl border border-gray-100 p-5 hover:shadow-lg transition-all duration-200 overflow-hidden",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${l.gradient} flex items-center justify-center mb-3 group-hover:scale-110 transition-transform`,children:i.jsx(l.icon,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:l.label}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.description}),i.jsx(G1,{className:"absolute top-5 right-5 w-4 h-4 text-gray-300 group-hover:text-primary-500 group-hover:translate-x-1 transition-all"})]},l.to))})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Today's Attendance"}),i.jsxs(ra,{to:"/attendance",className:"text-sm text-primary-500 hover:underline flex items-center gap-1",children:["Take Attendance ",i.jsx(G1,{className:"w-3.5 h-3.5"})]})]}),r.length>0?i.jsx("div",{className:"space-y-3",children:r.slice(0,5).map(l=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-gray-700",children:l.class_name}),i.jsxs("div",{className:"flex gap-3 text-sm",children:[i.jsxs("span",{className:"text-emerald-600",children:[l.present_count," present"]}),i.jsxs("span",{className:"text-red-500",children:[l.absent_count," absent"]})]})]},l.class_id))}):i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx(ms,{className:"w-12 h-12 mx-auto mb-2"}),i.jsx("p",{children:"No attendance recorded today"}),i.jsx(ra,{to:"/attendance",className:"text-sm text-primary-500 hover:underline mt-2 inline-block",children:"Take attendance now "})]})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Announcements"}),i.jsxs(ra,{to:"/announcements",className:"text-sm text-primary-500 hover:underline flex items-center gap-1",children:["View All ",i.jsx(G1,{className:"w-3.5 h-3.5"})]})]}),a.length>0?i.jsx("div",{className:"space-y-3",children:a.map(l=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"font-medium text-gray-800",children:l.title}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:l.body}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(l.created_at).toLocaleDateString()})]},l.id))}):i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx(Si,{className:"w-12 h-12 mx-auto mb-2"}),i.jsx("p",{children:"No announcements yet"})]})]})]})]})},TP=()=>{const{user:e}=sn(),{get:t}=En(),[r,n]=G.useState([]),[a,s]=G.useState([]);return G.useEffect(()=>{(async()=>{try{const[l,c]=await Promise.all([t("/parents/my-children"),t("/announcements",{limit:5})]);n(l.data||[]),s(c.data||[])}catch{}})()},[t]),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-2xl p-6 text-white relative overflow-hidden",children:i.jsxs("div",{className:"relative z-10",children:[i.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",e==null?void 0:e.first_name,"!"]}),i.jsx("p",{className:"text-primary-100 mt-1",children:"Parent Dashboard"})]})}),i.jsxs("div",{className:"space-y-4",children:[r.map(o=>i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"w-14 h-14 bg-primary-100 rounded-full flex items-center justify-center text-primary-600 font-bold text-lg",children:[o.first_name[0],o.last_name[0]]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[o.first_name," ",o.last_name]}),i.jsx("p",{className:"text-sm text-gray-500",children:o.class_name||"Unassigned"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx(ms,{className:"w-8 h-8 text-emerald-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Attendance"}),i.jsx("p",{className:"font-semibold text-gray-800",children:"View Details"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx(ko,{className:"w-8 h-8 text-amber-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Fees Balance"}),i.jsx("p",{className:"font-semibold text-gray-800",children:"Check Balance"})]})]}),i.jsxs(ra,{to:`/report-card/${o.id}`,className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition",children:[i.jsx(fu,{className:"w-8 h-8 text-blue-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Performance"}),i.jsx("p",{className:"font-semibold text-blue-700",children:"View Report Card"})]})]})]})]})]})},o.id)),r.length===0&&i.jsxs("div",{className:"card text-center py-12 text-gray-400",children:[i.jsx("p",{className:"text-lg",children:"No children linked to your account yet."}),i.jsx("p",{className:"text-sm mt-1",children:"Please contact the school administrator."})]})]}),i.jsxs("div",{className:"card",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx(Si,{className:"w-5 h-5 text-primary-500"}),"School Announcements"]}),a.length>0?i.jsx("div",{className:"space-y-3",children:a.map(o=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"font-medium text-gray-800",children:o.title}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.body}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(o.created_at).toLocaleDateString()})]},o.id))}):i.jsx("p",{className:"text-gray-400 text-center py-4",children:"No announcements"})]})]})},PP=()=>{const{user:e}=sn();switch(e==null?void 0:e.role){case"SUPER_ADMIN":return i.jsx(CP,{});case"SCHOOL_ADMIN":return i.jsx(iw,{});case"TEACHER":return i.jsx(kP,{});case"PARENT":return i.jsx(TP,{});default:return i.jsx(iw,{})}},LP="modulepreload",FP=function(e){return"/"+e},ow={},Z1=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=FP(c),c in ow)return;ow[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":LP,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((g,d)=>{p.addEventListener("load",g),p.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function tn(e){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(e)}var no=Uint8Array,ri=Uint16Array,vv=Int32Array,yv=new no([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wv=new no([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lw=new no([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),VN=function(e,t){for(var r=new ri(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new vv(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},GN=VN(yv,2),OP=GN.b,Xx=GN.r;OP[28]=258,Xx[258]=28;var RP=VN(wv,0),cw=RP.r,Jx=new ri(32768);for(var Sn=0;Sn<32768;++Sn){var ql=(Sn&43690)>>1|(Sn&21845)<<1;ql=(ql&52428)>>2|(ql&13107)<<2,ql=(ql&61680)>>4|(ql&3855)<<4,Jx[Sn]=((ql&65280)>>8|(ql&255)<<8)>>1}var Rd=function(e,t,r){for(var n=e.length,a=0,s=new ri(t);a<n;++a)e[a]&&++s[e[a]-1];var o=new ri(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;var l;if(r){l=new ri(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],f=t-e[a],p=o[e[a]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)l[Jx[p]>>c]=u}else for(l=new ri(n),a=0;a<n;++a)e[a]&&(l[a]=Jx[o[e[a]-1]++]>>15-e[a]);return l},du=new no(288);for(var Sn=0;Sn<144;++Sn)du[Sn]=8;for(var Sn=144;Sn<256;++Sn)du[Sn]=9;for(var Sn=256;Sn<280;++Sn)du[Sn]=7;for(var Sn=280;Sn<288;++Sn)du[Sn]=8;var qp=new no(32);for(var Sn=0;Sn<32;++Sn)qp[Sn]=5;var DP=Rd(du,9,0),IP=Rd(qp,5,0),KN=function(e){return(e+7)/8|0},MP=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new no(e.subarray(t,r))},nl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},xd=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},eg=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:XN,l:0};if(a==1){var o=new no(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(q,se){return q.f-se.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,f=1,p=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=a-1;)l=r[r[u].f<r[p].f?u++:p++],c=r[u!=f&&r[u].f<r[p].f?u++:p++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var g=s[0].s,n=1;n<a;++n)s[n].s>g&&(g=s[n].s);var d=new ri(g+1),y=Qx(r[f-1],d,0);if(y>t){var n=0,x=0,_=y-t,w=1<<_;for(s.sort(function(se,L){return d[L.s]-d[se.s]||se.f-L.f});n<a;++n){var S=s[n].s;if(d[S]>t)x+=w-(1<<y-d[S]),d[S]=t;else break}for(x>>=_;x>0;){var j=s[n].s;d[j]<t?x-=1<<t-d[j]++-1:++n}for(;n>=0&&x;--n){var T=s[n].s;d[T]==t&&(--d[T],++x)}y=t}return{t:new no(d),l:y}},Qx=function(e,t,r){return e.s==-1?Math.max(Qx(e.l,t,r+1),Qx(e.r,t,r+1)):t[e.s]=r},uw=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ri(++t),n=0,a=e[0],s=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=e[l]}return{c:r.subarray(0,n),n:t}},vd=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},YN=function(e,t,r){var n=r.length,a=KN(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},fw=function(e,t,r,n,a,s,o,l,c,u,f){nl(t,f++,r),++a[256];for(var p=eg(a,15),g=p.t,d=p.l,y=eg(s,15),x=y.t,_=y.l,w=uw(g),S=w.c,j=w.n,T=uw(x),q=T.c,se=T.n,L=new ri(19),k=0;k<S.length;++k)++L[S[k]&31];for(var k=0;k<q.length;++k)++L[q[k]&31];for(var R=eg(L,7),Y=R.t,P=R.l,B=19;B>4&&!Y[lw[B-1]];--B);var z=u+5<<3,te=vd(a,du)+vd(s,qp)+o,de=vd(a,g)+vd(s,x)+o+14+3*B+vd(L,Y)+2*L[16]+3*L[17]+7*L[18];if(c>=0&&z<=te&&z<=de)return YN(t,f,e.subarray(c,c+u));var X,W,M,he;if(nl(t,f,1+(de<te)),f+=2,de<te){X=Rd(g,d,0),W=g,M=Rd(x,_,0),he=x;var Se=Rd(Y,P,0);nl(t,f,j-257),nl(t,f+5,se-1),nl(t,f+10,B-4),f+=14;for(var k=0;k<B;++k)nl(t,f+3*k,Y[lw[k]]);f+=3*B;for(var le=[S,q],A=0;A<2;++A)for(var H=le[A],k=0;k<H.length;++k){var D=H[k]&31;nl(t,f,Se[D]),f+=Y[D],D>15&&(nl(t,f,H[k]>>5&127),f+=H[k]>>12)}}else X=DP,W=du,M=IP,he=qp;for(var k=0;k<l;++k){var I=n[k];if(I>255){var D=I>>18&31;xd(t,f,X[D+257]),f+=W[D+257],D>7&&(nl(t,f,I>>23&31),f+=yv[D]);var ne=I&31;xd(t,f,M[ne]),f+=he[ne],ne>3&&(xd(t,f,I>>5&8191),f+=wv[ne])}else xd(t,f,X[I]),f+=W[I]}return xd(t,f,X[256]),f+W[256]},BP=new vv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),XN=new no(0),UP=function(e,t,r,n,a,s){var o=s.z||e.length,l=new no(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,f=(s.r||0)&7;if(t){f&&(c[0]=s.r>>3);for(var p=BP[t-1],g=p>>13,d=p&8191,y=(1<<r)-1,x=s.p||new ri(32768),_=s.h||new ri(y+1),w=Math.ceil(r/3),S=2*w,j=function(dt){return(e[dt]^e[dt+1]<<w^e[dt+2]<<S)&y},T=new vv(25e3),q=new ri(288),se=new ri(32),L=0,k=0,R=s.i||0,Y=0,P=s.w||0,B=0;R+2<o;++R){var z=j(R),te=R&32767,de=_[z];if(x[te]=de,_[z]=te,P<=R){var X=o-R;if((L>7e3||Y>24576)&&(X>423||!u)){f=fw(e,c,0,T,q,se,k,Y,B,R-B,f),Y=L=k=0,B=R;for(var W=0;W<286;++W)q[W]=0;for(var W=0;W<30;++W)se[W]=0}var M=2,he=0,Se=d,le=te-de&32767;if(X>2&&z==j(R-le))for(var A=Math.min(g,X)-1,H=Math.min(32767,R),D=Math.min(258,X);le<=H&&--Se&&te!=de;){if(e[R+M]==e[R+M-le]){for(var I=0;I<D&&e[R+I]==e[R+I-le];++I);if(I>M){if(M=I,he=le,I>A)break;for(var ne=Math.min(le,I-2),ge=0,W=0;W<ne;++W){var Ee=R-le+W&32767,xe=x[Ee],Z=Ee-xe&32767;Z>ge&&(ge=Z,de=Ee)}}}te=de,de=x[te],le+=te-de&32767}if(he){T[Y++]=268435456|Xx[M]<<18|cw[he];var Me=Xx[M]&31,Ve=cw[he]&31;k+=yv[Me]+wv[Ve],++q[257+Me],++se[Ve],P=R+M,++L}else T[Y++]=e[R],++q[e[R]]}}for(R=Math.max(R,P);R<o;++R)T[Y++]=e[R],++q[e[R]];f=fw(e,c,u,T,q,se,k,Y,B,R-B,f),u||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=_,s.p=x,s.i=R,s.w=P)}else{for(var R=s.w||0;R<o+u;R+=65535){var it=R+65535;it>=o&&(c[f/8|0]=u,it=o),f=YN(c,f+1,e.subarray(R,it))}s.i=o}return MP(l,0,n+KN(f)+a)},JN=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},zP=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new no(s.length+e.length);o.set(s),o.set(e,s.length),e=o,a.w=s.length}return UP(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},QN=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},HP=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=JN();a.p(t.dictionary),QN(e,2,a.d())}};function Zx(e,t){t||(t={});var r=JN();r.p(e);var n=zP(e,t,t.dictionary?6:2,4);return HP(n,t),QN(n,n.length-4,r.d()),n}var $P=typeof TextDecoder<"u"&&new TextDecoder,WP=0;try{$P.decode(XN,{stream:!0}),WP=1}catch{}function qP(e){if(Array.isArray(e))return e}function VP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function GP(e,t){if(e){if(typeof e=="string")return dw(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dw(e,t):void 0}}function KP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hw(e,t){return qP(e)||VP(e,t)||GP(e,t)||KP()}function pw(e,t="utf8"){return new TextDecoder(t).decode(e)}const YP=new TextEncoder;function XP(e){return YP.encode(e)}const JP=1024*8,QP=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),tg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class bv{constructor(t=JP,r={}){Qr(this,"buffer");Qr(this,"byteLength");Qr(this,"byteOffset");Qr(this,"length");Qr(this,"offset");Qr(this,"lastWrittenByte");Qr(this,"littleEndian");Qr(this,"_data");Qr(this,"_mark");Qr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,s=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof bv)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=tg[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===QP&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new tg[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new tg[r](s);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return pw(this.readBytes(t))}decodeText(t=1,r="utf8"){return pw(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(XP(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function qf(e){let t=e.length;for(;--t>=0;)e[t]=0}const ZP=3,eL=258,ZN=29,tL=256,rL=tL+1+ZN,eS=30,nL=512,aL=new Array((rL+2)*2);qf(aL);const sL=new Array(eS*2);qf(sL);const iL=new Array(nL);qf(iL);const oL=new Array(eL-ZP+1);qf(oL);const lL=new Array(ZN);qf(lL);const cL=new Array(eS);qf(cL);const uL=(e,t,r,n)=>{let a=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0};var e2=uL;const fL=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},dL=new Uint32Array(fL()),hL=(e,t,r,n)=>{const a=dL,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var yo=hL,t2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const pL=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var mL=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)pL(r,n)&&(e[n]=r[n])}}return e},gL=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,s=e.length;n<s;n++){let o=e[n];r.set(o,a),a+=o.length}return r},rS={assign:mL,flattenChunks:gL};let nS=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nS=!1}const f0=new Uint8Array(256);for(let e=0;e<256;e++)f0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;f0[254]=f0[254]=1;var xL=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,s,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),s=0,a=0;s<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const vL=(e,t)=>{if(t<65534&&e.subarray&&nS)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var yL=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const s=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){s[a++]=o;continue}let l=f0[o];if(l>4){s[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){s[a++]=65533;continue}o<65536?s[a++]=o:(o-=65536,s[a++]=55296|o>>10&1023,s[a++]=56320|o&1023)}return vL(s,a)},wL=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+f0[e[r]]>t?r:t},r2={string2buf:xL,buf2string:yL,utf8border:wL};function bL(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _L=bL;const wh=16209,NL=16191;var SL=function(t,r){let n,a,s,o,l,c,u,f,p,g,d,y,x,_,w,S,j,T,q,se,L,k,R,Y;const P=t.state;n=t.next_in,R=t.input,a=n+(t.avail_in-5),s=t.next_out,Y=t.output,o=s-(r-t.avail_out),l=s+(t.avail_out-257),c=P.dmax,u=P.wsize,f=P.whave,p=P.wnext,g=P.window,d=P.hold,y=P.bits,x=P.lencode,_=P.distcode,w=(1<<P.lenbits)-1,S=(1<<P.distbits)-1;e:do{y<15&&(d+=R[n++]<<y,y+=8,d+=R[n++]<<y,y+=8),j=x[d&w];t:for(;;){if(T=j>>>24,d>>>=T,y-=T,T=j>>>16&255,T===0)Y[s++]=j&65535;else if(T&16){q=j&65535,T&=15,T&&(y<T&&(d+=R[n++]<<y,y+=8),q+=d&(1<<T)-1,d>>>=T,y-=T),y<15&&(d+=R[n++]<<y,y+=8,d+=R[n++]<<y,y+=8),j=_[d&S];r:for(;;){if(T=j>>>24,d>>>=T,y-=T,T=j>>>16&255,T&16){if(se=j&65535,T&=15,y<T&&(d+=R[n++]<<y,y+=8,y<T&&(d+=R[n++]<<y,y+=8)),se+=d&(1<<T)-1,se>c){t.msg="invalid distance too far back",P.mode=wh;break e}if(d>>>=T,y-=T,T=s-o,se>T){if(T=se-T,T>f&&P.sane){t.msg="invalid distance too far back",P.mode=wh;break e}if(L=0,k=g,p===0){if(L+=u-T,T<q){q-=T;do Y[s++]=g[L++];while(--T);L=s-se,k=Y}}else if(p<T){if(L+=u+p-T,T-=p,T<q){q-=T;do Y[s++]=g[L++];while(--T);if(L=0,p<q){T=p,q-=T;do Y[s++]=g[L++];while(--T);L=s-se,k=Y}}}else if(L+=p-T,T<q){q-=T;do Y[s++]=g[L++];while(--T);L=s-se,k=Y}for(;q>2;)Y[s++]=k[L++],Y[s++]=k[L++],Y[s++]=k[L++],q-=3;q&&(Y[s++]=k[L++],q>1&&(Y[s++]=k[L++]))}else{L=s-se;do Y[s++]=Y[L++],Y[s++]=Y[L++],Y[s++]=Y[L++],q-=3;while(q>2);q&&(Y[s++]=Y[L++],q>1&&(Y[s++]=Y[L++]))}}else if(T&64){t.msg="invalid distance code",P.mode=wh;break e}else{j=_[(j&65535)+(d&(1<<T)-1)];continue r}break}}else if(T&64)if(T&32){P.mode=NL;break e}else{t.msg="invalid literal/length code",P.mode=wh;break e}else{j=x[(j&65535)+(d&(1<<T)-1)];continue t}break}}while(n<a&&s<l);q=y>>3,n-=q,y-=q<<3,d&=(1<<y)-1,t.next_in=n,t.next_out=s,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=s<l?257+(l-s):257-(s-l),P.hold=d,P.bits=y};const Ou=15,mw=852,gw=592,xw=0,rg=1,vw=2,jL=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),AL=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),EL=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),CL=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kL=(e,t,r,n,a,s,o,l)=>{const c=l.bits;let u=0,f=0,p=0,g=0,d=0,y=0,x=0,_=0,w=0,S=0,j,T,q,se,L,k=null,R;const Y=new Uint16Array(Ou+1),P=new Uint16Array(Ou+1);let B=null,z,te,de;for(u=0;u<=Ou;u++)Y[u]=0;for(f=0;f<n;f++)Y[t[r+f]]++;for(d=c,g=Ou;g>=1&&Y[g]===0;g--);if(d>g&&(d=g),g===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<g&&Y[p]===0;p++);for(d<p&&(d=p),_=1,u=1;u<=Ou;u++)if(_<<=1,_-=Y[u],_<0)return-1;if(_>0&&(e===xw||g!==1))return-1;for(P[1]=0,u=1;u<Ou;u++)P[u+1]=P[u]+Y[u];for(f=0;f<n;f++)t[r+f]!==0&&(o[P[t[r+f]]++]=f);if(e===xw?(k=B=o,R=20):e===rg?(k=jL,B=AL,R=257):(k=EL,B=CL,R=0),S=0,f=0,u=p,L=s,y=d,x=0,q=-1,w=1<<d,se=w-1,e===rg&&w>mw||e===vw&&w>gw)return 1;for(;;){z=u-x,o[f]+1<R?(te=0,de=o[f]):o[f]>=R?(te=B[o[f]-R],de=k[o[f]-R]):(te=96,de=0),j=1<<u-x,T=1<<y,p=T;do T-=j,a[L+(S>>x)+T]=z<<24|te<<16|de|0;while(T!==0);for(j=1<<u-1;S&j;)j>>=1;if(j!==0?(S&=j-1,S+=j):S=0,f++,--Y[u]===0){if(u===g)break;u=t[r+o[f]]}if(u>d&&(S&se)!==q){for(x===0&&(x=d),L+=p,y=u-x,_=1<<y;y+x<g&&(_-=Y[y+x],!(_<=0));)y++,_<<=1;if(w+=1<<y,e===rg&&w>mw||e===vw&&w>gw)return 1;q=S&se,a[q]=d<<24|y<<16|L-s|0}}return S!==0&&(a[L+S]=u-x<<24|64<<16|0),l.bits=d,0};var Dd=kL;const TL=0,aS=1,sS=2,{Z_FINISH:yw,Z_BLOCK:PL,Z_TREES:bh,Z_OK:hu,Z_STREAM_END:LL,Z_NEED_DICT:FL,Z_STREAM_ERROR:ki,Z_DATA_ERROR:iS,Z_MEM_ERROR:oS,Z_BUF_ERROR:OL,Z_DEFLATED:ww}=tS,Wm=16180,bw=16181,_w=16182,Nw=16183,Sw=16184,jw=16185,Aw=16186,Ew=16187,Cw=16188,kw=16189,Vp=16190,al=16191,ng=16192,Tw=16193,ag=16194,Pw=16195,Lw=16196,Fw=16197,Ow=16198,_h=16199,Nh=16200,Rw=16201,Dw=16202,Iw=16203,Mw=16204,Bw=16205,sg=16206,Uw=16207,zw=16208,kn=16209,lS=16210,cS=16211,RL=852,DL=592,IL=15,ML=IL,Hw=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function BL(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Wm||t.mode>cS?1:0},uS=e=>{if(yu(e))return ki;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Wm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(RL),t.distcode=t.distdyn=new Int32Array(DL),t.sane=1,t.back=-1,hu},fS=e=>{if(yu(e))return ki;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,uS(e)},dS=(e,t)=>{let r;if(yu(e))return ki;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ki:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,fS(e))},hS=(e,t)=>{if(!e)return ki;const r=new BL;e.state=r,r.strm=e,r.window=null,r.mode=Wm;const n=dS(e,t);return n!==hu&&(e.state=null),n},UL=e=>hS(e,ML);let $w=!0,ig,og;const zL=e=>{if($w){ig=new Int32Array(512),og=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Dd(aS,e.lens,0,288,ig,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Dd(sS,e.lens,0,32,og,0,e.work,{bits:5}),$w=!1}e.lencode=ig,e.lenbits=9,e.distcode=og,e.distbits=5},pS=(e,t,r,n)=>{let a;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(t.subarray(r-n,r-n+a),s.wnext),n-=a,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},HL=(e,t)=>{let r,n,a,s,o,l,c,u,f,p,g,d,y,x,_=0,w,S,j,T,q,se,L,k;const R=new Uint8Array(4);let Y,P;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yu(e)||!e.output||!e.input&&e.avail_in!==0)return ki;r=e.state,r.mode===al&&(r.mode=ng),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,f=r.bits,p=l,g=c,k=hu;e:for(;;)switch(r.mode){case Wm:if(r.wrap===0){r.mode=ng;break}for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,R[0]=u&255,R[1]=u>>>8&255,r.check=yo(r.check,R,2,0),u=0,f=0,r.mode=bw;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=kn;break}if((u&15)!==ww){e.msg="unknown compression method",r.mode=kn;break}if(u>>>=4,f-=4,L=(u&15)+8,r.wbits===0&&(r.wbits=L),L>15||L>r.wbits){e.msg="invalid window size",r.mode=kn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?kw:al,u=0,f=0;break;case bw:for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.flags=u,(r.flags&255)!==ww){e.msg="unknown compression method",r.mode=kn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=kn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=yo(r.check,R,2,0)),u=0,f=0,r.mode=_w;case _w:for(;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,R[2]=u>>>16&255,R[3]=u>>>24&255,r.check=yo(r.check,R,4,0)),u=0,f=0,r.mode=Nw;case Nw:for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=yo(r.check,R,2,0)),u=0,f=0,r.mode=Sw;case Sw:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,r.check=yo(r.check,R,2,0)),u=0,f=0}else r.head&&(r.head.extra=null);r.mode=jw;case jw:if(r.flags&1024&&(d=r.length,d>l&&(d=l),d&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+d),L)),r.flags&512&&r.wrap&4&&(r.check=yo(r.check,n,d,s)),l-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=Aw;case Aw:if(r.flags&2048){if(l===0)break e;d=0;do L=n[s+d++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L));while(L&&d<l);if(r.flags&512&&r.wrap&4&&(r.check=yo(r.check,n,d,s)),l-=d,s+=d,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Ew;case Ew:if(r.flags&4096){if(l===0)break e;d=0;do L=n[s+d++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L));while(L&&d<l);if(r.flags&512&&r.wrap&4&&(r.check=yo(r.check,n,d,s)),l-=d,s+=d,L)break e}else r.head&&(r.head.comment=null);r.mode=Cw;case Cw:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=kn;break}u=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=al;break;case kw:for(;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}e.adler=r.check=Hw(u),u=0,f=0,r.mode=Vp;case Vp:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=f,FL;e.adler=r.check=1,r.mode=al;case al:if(t===PL||t===bh)break e;case ng:if(r.last){u>>>=f&7,f-=f&7,r.mode=sg;break}for(;f<3;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}switch(r.last=u&1,u>>>=1,f-=1,u&3){case 0:r.mode=Tw;break;case 1:if(zL(r),r.mode=_h,t===bh){u>>>=2,f-=2;break e}break;case 2:r.mode=Lw;break;case 3:e.msg="invalid block type",r.mode=kn}u>>>=2,f-=2;break;case Tw:for(u>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=kn;break}if(r.length=u&65535,u=0,f=0,r.mode=ag,t===bh)break e;case ag:r.mode=Pw;case Pw:if(d=r.length,d){if(d>l&&(d=l),d>c&&(d=c),d===0)break e;a.set(n.subarray(s,s+d),o),l-=d,s+=d,c-=d,o+=d,r.length-=d;break}r.mode=al;break;case Lw:for(;f<14;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.nlen=(u&31)+257,u>>>=5,f-=5,r.ndist=(u&31)+1,u>>>=5,f-=5,r.ncode=(u&15)+4,u>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=kn;break}r.have=0,r.mode=Fw;case Fw:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.lens[B[r.have++]]=u&7,u>>>=3,f-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Y={bits:r.lenbits},k=Dd(TL,r.lens,0,19,r.lencode,0,r.work,Y),r.lenbits=Y.bits,k){e.msg="invalid code lengths set",r.mode=kn;break}r.have=0,r.mode=Ow;case Ow:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[u&(1<<r.lenbits)-1],w=_>>>24,S=_>>>16&255,j=_&65535,!(w<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(j<16)u>>>=w,f-=w,r.lens[r.have++]=j;else{if(j===16){for(P=w+2;f<P;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(u>>>=w,f-=w,r.have===0){e.msg="invalid bit length repeat",r.mode=kn;break}L=r.lens[r.have-1],d=3+(u&3),u>>>=2,f-=2}else if(j===17){for(P=w+3;f<P;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=w,f-=w,L=0,d=3+(u&7),u>>>=3,f-=3}else{for(P=w+7;f<P;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=w,f-=w,L=0,d=11+(u&127),u>>>=7,f-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=kn;break}for(;d--;)r.lens[r.have++]=L}}if(r.mode===kn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=kn;break}if(r.lenbits=9,Y={bits:r.lenbits},k=Dd(aS,r.lens,0,r.nlen,r.lencode,0,r.work,Y),r.lenbits=Y.bits,k){e.msg="invalid literal/lengths set",r.mode=kn;break}if(r.distbits=6,r.distcode=r.distdyn,Y={bits:r.distbits},k=Dd(sS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Y),r.distbits=Y.bits,k){e.msg="invalid distances set",r.mode=kn;break}if(r.mode=_h,t===bh)break e;case _h:r.mode=Nh;case Nh:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=f,SL(e,g),o=e.next_out,a=e.output,c=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,u=r.hold,f=r.bits,r.mode===al&&(r.back=-1);break}for(r.back=0;_=r.lencode[u&(1<<r.lenbits)-1],w=_>>>24,S=_>>>16&255,j=_&65535,!(w<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(S&&!(S&240)){for(T=w,q=S,se=j;_=r.lencode[se+((u&(1<<T+q)-1)>>T)],w=_>>>24,S=_>>>16&255,j=_&65535,!(T+w<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=T,f-=T,r.back+=T}if(u>>>=w,f-=w,r.back+=w,r.length=j,S===0){r.mode=Bw;break}if(S&32){r.back=-1,r.mode=al;break}if(S&64){e.msg="invalid literal/length code",r.mode=kn;break}r.extra=S&15,r.mode=Rw;case Rw:if(r.extra){for(P=r.extra;f<P;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Dw;case Dw:for(;_=r.distcode[u&(1<<r.distbits)-1],w=_>>>24,S=_>>>16&255,j=_&65535,!(w<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(!(S&240)){for(T=w,q=S,se=j;_=r.distcode[se+((u&(1<<T+q)-1)>>T)],w=_>>>24,S=_>>>16&255,j=_&65535,!(T+w<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=T,f-=T,r.back+=T}if(u>>>=w,f-=w,r.back+=w,S&64){e.msg="invalid distance code",r.mode=kn;break}r.offset=j,r.extra=S&15,r.mode=Iw;case Iw:if(r.extra){for(P=r.extra;f<P;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=kn;break}r.mode=Mw;case Mw:if(c===0)break e;if(d=g-c,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=kn;break}d>r.wnext?(d-=r.wnext,y=r.wsize-d):y=r.wnext-d,d>r.length&&(d=r.length),x=r.window}else x=a,y=o-r.offset,d=r.length;d>c&&(d=c),c-=d,r.length-=d;do a[o++]=x[y++];while(--d);r.length===0&&(r.mode=Nh);break;case Bw:if(c===0)break e;a[o++]=r.length,c--,r.mode=Nh;break;case sg:if(r.wrap){for(;f<32;){if(l===0)break e;l--,u|=n[s++]<<f,f+=8}if(g-=c,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?yo(r.check,a,g,o-g):e2(r.check,a,g,o-g)),g=c,r.wrap&4&&(r.flags?u:Hw(u))!==r.check){e.msg="incorrect data check",r.mode=kn;break}u=0,f=0}r.mode=Uw;case Uw:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=kn;break}u=0,f=0}r.mode=zw;case zw:k=LL;break e;case kn:k=iS;break e;case lS:return oS;case cS:default:return ki}return e.next_out=o,e.avail_out=c,e.next_in=s,e.avail_in=l,r.hold=u,r.bits=f,(r.wsize||g!==e.avail_out&&r.mode<kn&&(r.mode<sg||t!==yw))&&pS(e,e.output,e.next_out,g-e.avail_out),p-=e.avail_in,g-=e.avail_out,e.total_in+=p,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?yo(r.check,a,g,e.next_out-g):e2(r.check,a,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===al?128:0)+(r.mode===_h||r.mode===ag?256:0),(p===0&&g===0||t===yw)&&k===hu&&(k=OL),k},$L=e=>{if(yu(e))return ki;let t=e.state;return t.window&&(t.window=null),e.state=null,hu},WL=(e,t)=>{if(yu(e))return ki;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,hu):ki},qL=(e,t)=>{const r=t.length;let n,a,s;return yu(e)||(n=e.state,n.wrap!==0&&n.mode!==Vp)?ki:n.mode===Vp&&(a=1,a=e2(a,t,r,0),a!==n.check)?iS:(s=pS(e,t,r,r),s?(n.mode=lS,oS):(n.havedict=1,hu))};var VL=fS,GL=dS,KL=uS,YL=UL,XL=hS,JL=HL,QL=$L,ZL=WL,eF=qL,tF="pako inflate (from Nodeca project)",ol={inflateReset:VL,inflateReset2:GL,inflateResetKeep:KL,inflateInit:YL,inflateInit2:XL,inflate:JL,inflateEnd:QL,inflateGetHeader:ZL,inflateSetDictionary:eF,inflateInfo:tF};function rF(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nF=rF;const mS=Object.prototype.toString,{Z_NO_FLUSH:aF,Z_FINISH:sF,Z_OK:d0,Z_STREAM_END:lg,Z_NEED_DICT:cg,Z_STREAM_ERROR:iF,Z_DATA_ERROR:Ww,Z_MEM_ERROR:oF}=tS;function F0(e){this.options=rS.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _L,this.strm.avail_out=0;let r=ol.inflateInit2(this.strm,t.windowBits);if(r!==d0)throw new Error(t2[r]);if(this.header=new nF,ol.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=r2.string2buf(t.dictionary):mS.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=ol.inflateSetDictionary(this.strm,t.dictionary),r!==d0)))throw new Error(t2[r])}F0.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?sF:aF,mS.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=ol.inflate(r,o),s===cg&&a&&(s=ol.inflateSetDictionary(r,a),s===d0?s=ol.inflate(r,o):s===Ww&&(s=cg));r.avail_in>0&&s===lg&&r.state.wrap>0&&e[r.next_in]!==0;)ol.inflateReset(r),s=ol.inflate(r,o);switch(s){case iF:case Ww:case cg:case oF:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===lg))if(this.options.to==="string"){let c=r2.utf8border(r.output,r.next_out),u=r.next_out-c,f=r2.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===d0&&l===0)){if(s===lg)return s=ol.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};F0.prototype.onData=function(e){this.chunks.push(e)};F0.prototype.onEnd=function(e){e===d0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rS.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function lF(e,t){const r=new F0(t);if(r.push(e),r.err)throw r.msg||t2[r.err];return r.result}var cF=F0,uF=lF,fF={Inflate:cF,inflate:uF};const{Inflate:dF,inflate:hF}=fF;var qw=dF,pF=hF;const gS=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;gS[e]=t}const Vw=4294967295;function mF(e,t,r){let n=e;for(let a=0;a<r;a++)n=gS[(n^t[a])&255]^n>>>8;return n}function gF(e,t){return(mF(Vw,e,t)^Vw)>>>0}function Gw(e,t,r){const n=e.readUint32(),a=gF(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function xS(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function vS(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function yS(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function wS(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-a]+r[s]>>1)&255}}function bS(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+xF(t[s-a],r[s],r[s-a])&255}}function xF(e,t,r){const n=e+t-r,a=Math.abs(n-e),s=Math.abs(n-t),o=Math.abs(n-r);return a<=s&&a<=o?e:s<=o?t:r}function vF(e,t,r,n,a,s){switch(e){case 0:xS(t,r,a);break;case 1:vS(t,r,a,s);break;case 2:yS(t,r,n,a);break;case 3:wS(t,r,n,a,s);break;case 4:bS(t,r,n,a,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const yF=new Uint16Array([255]),wF=new Uint8Array(yF.buffer),bF=wF[0]===255;function _F(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let f=0;f<7;f++){const p=o[f],g=Math.ceil((r-p.x)/p.xStep),d=Math.ceil((n-p.y)/p.yStep);if(g<=0||d<=0)continue;const y=g*l,x=new Uint8Array(y);for(let _=0;_<d;_++){const w=t[u++],S=t.subarray(u,u+y);u+=y;const j=new Uint8Array(y);vF(w,S,j,x,y,l),x.set(j);for(let T=0;T<g;T++){const q=p.x+T*p.xStep,se=p.y+_*p.yStep;if(!(q>=r||se>=n))for(let L=0;L<l;L++)c[(se*r+q)*l+L]=j[T*l+L]}}}if(s===16){const f=new Uint16Array(c.buffer);if(bF)for(let p=0;p<f.length;p++)f[p]=NF(f[p]);return f}else return c}function NF(e){return(e&255)<<8|e>>8&255}const SF=new Uint16Array([255]),jF=new Uint8Array(SF.buffer),AF=jF[0]===255,EF=new Uint8Array(0);function Kw(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,o=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*r),c=new Uint8Array(n*l);let u=EF,f=0,p,g;for(let d=0;d<n;d++){switch(p=t.subarray(f+1,f+1+l),g=c.subarray(d*l,(d+1)*l),t[f]){case 0:xS(p,g,l);break;case 1:vS(p,g,l,o);break;case 2:yS(p,g,u,l);break;case 3:wS(p,g,u,l,o);break;case 4:bS(p,g,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}u=g,f+=l+1}if(s===16){const d=new Uint16Array(c.buffer);if(AF)for(let y=0;y<d.length;y++)d[y]=CF(d[y]);return d}else return c}function CF(e){return(e&255)<<8|e>>8&255}const ap=Uint8Array.of(137,80,78,71,13,10,26,10);function Yw(e){if(!kF(e.readBytes(ap.length)))throw new Error("wrong PNG signature")}function kF(e){if(e.length<ap.length)return!1;for(let t=0;t<ap.length;t++)if(e[t]!==ap[t])return!1;return!0}const TF="tEXt",PF=0,_S=new TextDecoder("latin1");function LF(e){if(OF(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const FF=/^[\u0000-\u00FF]*$/;function OF(e){if(!FF.test(e))throw new Error("invalid latin1 text")}function RF(e,t,r){const n=NS(t);e[n]=DF(t,r-n.length-1)}function NS(e){for(e.mark();e.readByte()!==PF;);const t=e.offset;e.reset();const r=_S.decode(e.readBytes(t-e.offset-1));return e.skip(1),LF(r),r}function DF(e,t){return _S.decode(e.readBytes(t))}const Ks={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ug={UNKNOWN:-1,DEFLATE:0},Xw={UNKNOWN:-1,ADAPTIVE:0},fg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Sh={NONE:0,BACKGROUND:1,PREVIOUS:2},dg={SOURCE:0,OVER:1};class IF extends bv{constructor(r,n={}){super(r);Qr(this,"_checkCrc");Qr(this,"_inflator");Qr(this,"_png");Qr(this,"_apng");Qr(this,"_end");Qr(this,"_hasPalette");Qr(this,"_palette");Qr(this,"_hasTransparency");Qr(this,"_transparency");Qr(this,"_compressionMethod");Qr(this,"_filterMethod");Qr(this,"_interlaceMethod");Qr(this,"_colorType");Qr(this,"_isAnimated");Qr(this,"_numberOfFrames");Qr(this,"_numberOfPlays");Qr(this,"_frames");Qr(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new qw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ug.UNKNOWN,this._filterMethod=Xw.UNKNOWN,this._interlaceMethod=fg.UNKNOWN,this._colorType=Ks.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Yw(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Yw(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case TF:RF(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Gw(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Gw(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=MF(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Ks.GREYSCALE:a=1;break;case Ks.TRUECOLOUR:a=3;break;case Ks.INDEXED_COLOUR:a=1;break;case Ks.GREYSCALE_ALPHA:a=2;break;case Ks.TRUECOLOUR_ALPHA:a=4;break;case Ks.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==ug.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ks.GREYSCALE:case Ks.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ks.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ks.UNKNOWN:case Ks.GREYSCALE_ALPHA:case Ks.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=NS(this),a=this.readUint8();if(a!==ug.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:pF(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=Kw({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Sh.NONE:break;case Sh.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case Sh.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,s=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case dg.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let f=0;f<this._png.channels;f++)r.data[c+f]=n.data[u+f]}break;case dg.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let f=0;f<this._png.channels;f++){const p=n.data[u+this._png.channels-1]/a,g=f%(this._png.channels-1)===0?1:n.data[u+f],d=Math.floor(p*g+(1-p)*r.data[c+f]);r.data[c+f]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Xw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===fg.NO_INTERLACE)this._png.data=Kw({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===fg.ADAM7)this._png.data=_F({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Sh.NONE,blendOp:dg.SOURCE,data:r}),this._inflator=new qw,this._writingDataChunks=!1}}function MF(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var Jw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(Jw||(Jw={}));function BF(e,t){return new IF(e,t).decode()}var vr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function hg(){vr.console&&typeof vr.console.log=="function"&&vr.console.log.apply(vr.console,arguments)}var dn={log:hg,warn:function(e){vr.console&&(typeof vr.console.warn=="function"?vr.console.warn.apply(vr.console,arguments):hg.call(null,arguments))},error:function(e){vr.console&&(typeof vr.console.error=="function"?vr.console.error.apply(vr.console,arguments):hg(e))}};function pg(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){qc(n.response,t,r)},n.onerror=function(){dn.error("could not download file")},n.send()}function Qw(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function jh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var qc=vr.saveAs||((typeof window>"u"?"undefined":tn(window))!=="object"||window!==vr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=vr.URL||vr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?Qw(a.href)?pg(e,t,r):jh(a,a.target="_blank"):jh(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){jh(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(Qw(e))pg(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){jh(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:tn(s)!=="object"&&(dn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return pg(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(vr.HTMLElement)||vr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":tn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(e)}else{var c=vr.URL||vr.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function SS(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var sp=vr.atob.bind(vr),Zw=vr.btoa.bind(vr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function mg(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=Ka(r,n,a,s,t[0],7,-680876936),s=Ka(s,r,n,a,t[1],12,-389564586),a=Ka(a,s,r,n,t[2],17,606105819),n=Ka(n,a,s,r,t[3],22,-1044525330),r=Ka(r,n,a,s,t[4],7,-176418897),s=Ka(s,r,n,a,t[5],12,1200080426),a=Ka(a,s,r,n,t[6],17,-1473231341),n=Ka(n,a,s,r,t[7],22,-45705983),r=Ka(r,n,a,s,t[8],7,1770035416),s=Ka(s,r,n,a,t[9],12,-1958414417),a=Ka(a,s,r,n,t[10],17,-42063),n=Ka(n,a,s,r,t[11],22,-1990404162),r=Ka(r,n,a,s,t[12],7,1804603682),s=Ka(s,r,n,a,t[13],12,-40341101),a=Ka(a,s,r,n,t[14],17,-1502002290),r=Ya(r,n=Ka(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Ya(s,r,n,a,t[6],9,-1069501632),a=Ya(a,s,r,n,t[11],14,643717713),n=Ya(n,a,s,r,t[0],20,-373897302),r=Ya(r,n,a,s,t[5],5,-701558691),s=Ya(s,r,n,a,t[10],9,38016083),a=Ya(a,s,r,n,t[15],14,-660478335),n=Ya(n,a,s,r,t[4],20,-405537848),r=Ya(r,n,a,s,t[9],5,568446438),s=Ya(s,r,n,a,t[14],9,-1019803690),a=Ya(a,s,r,n,t[3],14,-187363961),n=Ya(n,a,s,r,t[8],20,1163531501),r=Ya(r,n,a,s,t[13],5,-1444681467),s=Ya(s,r,n,a,t[2],9,-51403784),a=Ya(a,s,r,n,t[7],14,1735328473),r=Xa(r,n=Ya(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Xa(s,r,n,a,t[8],11,-2022574463),a=Xa(a,s,r,n,t[11],16,1839030562),n=Xa(n,a,s,r,t[14],23,-35309556),r=Xa(r,n,a,s,t[1],4,-1530992060),s=Xa(s,r,n,a,t[4],11,1272893353),a=Xa(a,s,r,n,t[7],16,-155497632),n=Xa(n,a,s,r,t[10],23,-1094730640),r=Xa(r,n,a,s,t[13],4,681279174),s=Xa(s,r,n,a,t[0],11,-358537222),a=Xa(a,s,r,n,t[3],16,-722521979),n=Xa(n,a,s,r,t[6],23,76029189),r=Xa(r,n,a,s,t[9],4,-640364487),s=Xa(s,r,n,a,t[12],11,-421815835),a=Xa(a,s,r,n,t[15],16,530742520),r=Ja(r,n=Xa(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Ja(s,r,n,a,t[7],10,1126891415),a=Ja(a,s,r,n,t[14],15,-1416354905),n=Ja(n,a,s,r,t[5],21,-57434055),r=Ja(r,n,a,s,t[12],6,1700485571),s=Ja(s,r,n,a,t[3],10,-1894986606),a=Ja(a,s,r,n,t[10],15,-1051523),n=Ja(n,a,s,r,t[1],21,-2054922799),r=Ja(r,n,a,s,t[8],6,1873313359),s=Ja(s,r,n,a,t[15],10,-30611744),a=Ja(a,s,r,n,t[6],15,-1560198380),n=Ja(n,a,s,r,t[13],21,1309151649),r=Ja(r,n,a,s,t[4],6,-145523070),s=Ja(s,r,n,a,t[11],10,-1120210379),a=Ja(a,s,r,n,t[2],15,718787259),n=Ja(n,a,s,r,t[9],21,-343485551),e[0]=ac(r,e[0]),e[1]=ac(n,e[1]),e[2]=ac(a,e[2]),e[3]=ac(s,e[3])}function qm(e,t,r,n,a,s){return t=ac(ac(t,e),ac(n,s)),ac(t<<a|t>>>32-a,r)}function Ka(e,t,r,n,a,s,o){return qm(t&r|~t&n,e,t,a,s,o)}function Ya(e,t,r,n,a,s,o){return qm(t&n|r&~n,e,t,a,s,o)}function Xa(e,t,r,n,a,s,o){return qm(t^r^n,e,t,a,s,o)}function Ja(e,t,r,n,a,s,o){return qm(r^(t|~n),e,t,a,s,o)}function jS(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)mg(n,UF(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(mg(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,mg(n,a),n}function UF(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var eb="0123456789abcdef".split("");function zF(e){for(var t="",r=0;r<4;r++)t+=eb[e>>8*r+4&15]+eb[e>>8*r&15];return t}function HF(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function n2(e){return jS(e).map(HF).join("")}var $F=function(e){for(var t=0;t<e.length;t++)e[t]=zF(e[t]);return e.join("")}(jS("hello"))!="5d41402abc4b2a76b9719d911017c592";function ac(e,t){if($F){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function a2(e,t){var r,n,a,s;if(e!==r){for(var o=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var f=l[c];u=(u+f+o.charCodeAt(c))%256,l[c]=l[u],l[u]=f}r=e,n=l}else l=n;var p=t.length,g=0,d=0,y="";for(c=0;c<p;c++)d=(d+(f=l[g=(g+1)%256]))%256,l[g]=l[d],l[d]=f,o=l[(l[g]+l[d])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tb={print:4,modify:8,copy:16,"annot-forms":32};function Hu(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(tb.perm!==void 0)throw new Error("Invalid permission: "+l);a+=tb[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=n2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=a2(this.encryptionKey,this.padding)}function $u(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function rb(e){if(tn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(l){vr.console&&dn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Gp(e){if(!(this instanceof Gp))return new Gp(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function AS(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Gc(e,t,r,n,a){if(!(this instanceof Gc))return new Gc(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,AS.call(this,n,a)}function of(e,t,r,n,a){if(!(this instanceof of))return new of(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,AS.call(this,n,a)}function Yt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",f=null;tn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},d={internal:{},__private__:{}};d.__private__.PubSub=rb;var y="1.3",x=d.__private__.getPdfVersion=function(){return y};d.__private__.setPdfVersion=function(N){y=N};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return _};var w=d.__private__.getPageFormat=function(N){return _[N]};a=a||"a4";var S="compat",j="advanced",T=S;function q(){this.saveGraphicsState(),ae(new mt(Ct,0,0,-Ct,0,ci()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),u="n",T=j}function se(){this.restoreGraphicsState(),u="S",T=S}var L=d.__private__.combineFontStyleAndFontWeight=function(N,V){if(N=="bold"&&V=="normal"||N=="bold"&&V==400||N=="normal"&&V=="italic"||N=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(N=V==400||V==="normal"?N==="italic"?"italic":"normal":V!=700&&V!=="bold"||N!=="normal"?(V==700?"bold":V)+""+N:"bold"),N};d.advancedAPI=function(N){var V=T===S;return V&&q.call(this),typeof N!="function"||(N(this),V&&se.call(this)),this},d.compatAPI=function(N){var V=T===j;return V&&se.call(this),typeof N!="function"||(N(this),V&&q.call(this)),this},d.isAdvancedAPI=function(){return T===j};var k,R=function(N){if(T!==j)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=d.roundToPrecision=d.__private__.roundToPrecision=function(N,V){var ye=t||V;if(isNaN(N)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(ye).replace(/0+$/,"")};k=d.hpf=d.__private__.hpf=typeof c=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(N,c)}:c==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(N,16)};var P=d.f2=d.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return Y(N,2)},B=d.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return Y(N,3)},z=d.scale=d.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return T===S?N*Ct:T===j?N:void 0},te=function(N){return z(function(V){return T===S?ci()-V:T===j?V:void 0}(N))};d.__private__.setPrecision=d.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var de,X="00000000000000000000000000000000",W=d.__private__.getFileId=function(){return X},M=d.__private__.setFileId=function(N){return X=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(bn=new Hu(f.userPermissions,f.userPassword,f.ownerPassword,X)),X};d.setFileId=function(N){return M(N),this},d.getFileId=function(){return W()};var he=d.__private__.convertDateToPDFDate=function(N){var V=N.getTimezoneOffset(),ye=V<0?"+":"-",ke=Math.floor(Math.abs(V/60)),ze=Math.abs(V%60),ut=[ye,D(ke),"'",D(ze),"'"].join("");return["D:",N.getFullYear(),D(N.getMonth()+1),D(N.getDate()),D(N.getHours()),D(N.getMinutes()),D(N.getSeconds()),ut].join("")},Se=d.__private__.convertPDFDateToDate=function(N){var V=parseInt(N.substr(2,4),10),ye=parseInt(N.substr(6,2),10)-1,ke=parseInt(N.substr(8,2),10),ze=parseInt(N.substr(10,2),10),ut=parseInt(N.substr(12,2),10),vt=parseInt(N.substr(14,2),10);return new Date(V,ye,ke,ze,ut,vt,0)},le=d.__private__.setCreationDate=function(N){var V;if(N===void 0&&(N=new Date),N instanceof Date)V=he(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=N}return de=V},A=d.__private__.getCreationDate=function(N){var V=de;return N==="jsDate"&&(V=Se(de)),V};d.setCreationDate=function(N){return le(N),this},d.getCreationDate=function(N){return A(N)};var H,D=d.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},I=d.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},ne=0,ge=[],Ee=[],xe=0,Z=[],Me=[],Ve=!1,it=Ee;d.__private__.setCustomOutputDestination=function(N){Ve=!0,it=N};var dt=function(N){Ve||(it=N)};d.__private__.resetCustomOutputDestination=function(){Ve=!1,it=Ee};var ae=d.__private__.out=function(N){return N=N.toString(),xe+=N.length+1,it.push(N),it},Pe=d.__private__.write=function(N){return ae(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},et=d.__private__.getArrayBuffer=function(N){for(var V=N.length,ye=new ArrayBuffer(V),ke=new Uint8Array(ye);V--;)ke[V]=N.charCodeAt(V);return ye},yt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return yt};var Fe=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(N){return Fe=T===j?N/Ct:N,this};var gt,xt=d.__private__.getFontSize=d.getFontSize=function(){return T===S?Fe:Fe*Ct},Rt=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(N){return Rt=N,this},d.__private__.getR2L=d.getR2L=function(){return Rt};var Nt,je=d.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))gt=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');gt=N}else gt=parseInt(N,10)};d.__private__.getZoomMode=function(){return gt};var jt,pe=d.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');Nt=N};d.__private__.getPageMode=function(){return Nt};var Ze=d.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');jt=N};d.__private__.getLayoutMode=function(){return jt},d.__private__.setDisplayMode=d.setDisplayMode=function(N,V,ye){return je(N),Ze(V),pe(ye),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(N){if(Object.keys(pt).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[N]},d.__private__.getDocumentProperties=function(){return pt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(N){for(var V in pt)pt.hasOwnProperty(V)&&N[V]&&(pt[V]=N[V]);return this},d.__private__.setDocumentProperty=function(N,V){if(Object.keys(pt).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[N]=V};var tt,Ct,bt,wr,Mt,Zt={},sr={},Tt=[],Vt={},ir={},Xt={},at={},Sr=null,pr=0,ar=[],Ar=new rb(d),qn=e.hotfixes||[],gr={},Cn={},un=[],mt=function N(V,ye,ke,ze,ut,vt){if(!(this instanceof N))return new N(V,ye,ke,ze,ut,vt);isNaN(V)&&(V=1),isNaN(ye)&&(ye=0),isNaN(ke)&&(ke=0),isNaN(ze)&&(ze=1),isNaN(ut)&&(ut=0),isNaN(vt)&&(vt=0),this._matrix=[V,ye,ke,ze,ut,vt]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(N)},mt.prototype.multiply=function(N){var V=N.sx*this.sx+N.shy*this.shx,ye=N.sx*this.shy+N.shy*this.sy,ke=N.shx*this.sx+N.sy*this.shx,ze=N.shx*this.shy+N.sy*this.sy,ut=N.tx*this.sx+N.ty*this.shx+this.tx,vt=N.tx*this.shy+N.ty*this.sy+this.ty;return new mt(V,ye,ke,ze,ut,vt)},mt.prototype.decompose=function(){var N=this.sx,V=this.shy,ye=this.shx,ke=this.sy,ze=this.tx,ut=this.ty,vt=Math.sqrt(N*N+V*V),$t=(N/=vt)*ye+(V/=vt)*ke;ye-=N*$t,ke-=V*$t;var er=Math.sqrt(ye*ye+ke*ke);return $t/=er,N*(ke/=er)<V*(ye/=er)&&(N=-N,V=-V,$t=-$t,vt=-vt),{scale:new mt(vt,0,0,er,0,0),translate:new mt(1,0,0,1,ze,ut),rotate:new mt(N,V,-V,N,0,0),skew:new mt(1,0,$t,1,0,0)}},mt.prototype.toString=function(N){return this.join(" ")},mt.prototype.inversed=function(){var N=this.sx,V=this.shy,ye=this.shx,ke=this.sy,ze=this.tx,ut=this.ty,vt=1/(N*ke-V*ye),$t=ke*vt,er=-V*vt,dr=-ye*vt,br=N*vt;return new mt($t,er,dr,br,-$t*ze-dr*ut,-er*ze-br*ut)},mt.prototype.applyToPoint=function(N){var V=N.x*this.sx+N.y*this.shx+this.tx,ye=N.x*this.shy+N.y*this.sy+this.ty;return new Di(V,ye)},mt.prototype.applyToRectangle=function(N){var V=this.applyToPoint(N),ye=this.applyToPoint(new Di(N.x+N.w,N.y+N.h));return new ho(V.x,V.y,ye.x-V.x,ye.y-V.y)},mt.prototype.clone=function(){var N=this.sx,V=this.shy,ye=this.shx,ke=this.sy,ze=this.tx,ut=this.ty;return new mt(N,V,ye,ke,ze,ut)},d.Matrix=mt;var yr=d.matrixMult=function(N,V){return V.multiply(N)},Hr=new mt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Hr;var mr=function(N,V){if(!ir[N]){var ye=(V instanceof Gc?"Sh":"P")+(Object.keys(Vt).length+1).toString(10);V.id=ye,ir[N]=ye,Vt[ye]=V,Ar.publish("addPattern",V)}};d.ShadingPattern=Gc,d.TilingPattern=of,d.addShadingPattern=function(N,V){return R("addShadingPattern()"),mr(N,V),this},d.beginTilingPattern=function(N){R("beginTilingPattern()"),$o(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},d.endTilingPattern=function(N,V){R("endTilingPattern()"),V.stream=Me[H].join(`
`),mr(N,V),Ar.publish("endTilingPattern",V),un.pop().restore()};var Tr,on=d.__private__.newObject=function(){var N=yn();return Q(N,!0),N},yn=d.__private__.newObjectDeferred=function(){return ne++,ge[ne]=function(){return xe},ne},Q=function(N,V){return V=typeof V=="boolean"&&V,ge[N]=xe,V&&ae(N+" 0 obj"),N},we=d.__private__.newAdditionalObject=function(){var N={objId:yn(),content:""};return Z.push(N),N},ce=yn(),fe=yn(),ve=d.__private__.decodeColorString=function(N){var V=N.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ye=parseFloat(V[0]);V=[ye,ye,ye,"r"]}for(var ke="#",ze=0;ze<3;ze++)ke+=("0"+Math.floor(255*parseFloat(V[ze])).toString(16)).slice(-2);return ke},be=d.__private__.encodeColorString=function(N){var V;typeof N=="string"&&(N={ch1:N});var ye=N.ch1,ke=N.ch2,ze=N.ch3,ut=N.ch4,vt=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ye=="string"&&ye.charAt(0)!=="#"){var $t=new SS(ye);if($t.ok)ye=$t.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if(typeof ye=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),typeof ye=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var er=parseInt(ye.substr(1),16);ye=er>>16&255,ke=er>>8&255,ze=255&er}if(ke===void 0||ut===void 0&&ye===ke&&ke===ze)V=typeof ye=="string"?ye+" "+vt[0]:N.precision===2?P(ye/255)+" "+vt[0]:B(ye/255)+" "+vt[0];else if(ut===void 0||tn(ut)==="object"){if(ut&&!isNaN(ut.a)&&ut.a===0)return["1.","1.","1.",vt[1]].join(" ");V=typeof ye=="string"?[ye,ke,ze,vt[1]].join(" "):N.precision===2?[P(ye/255),P(ke/255),P(ze/255),vt[1]].join(" "):[B(ye/255),B(ke/255),B(ze/255),vt[1]].join(" ")}else V=typeof ye=="string"?[ye,ke,ze,ut,vt[2]].join(" "):N.precision===2?[P(ye),P(ke),P(ze),P(ut),vt[2]].join(" "):[B(ye),B(ke),B(ze),B(ut),vt[2]].join(" ");return V},qe=d.__private__.getFilters=function(){return o},nt=d.__private__.putStream=function(N){var V=(N=N||{}).data||"",ye=N.filters||qe(),ke=N.alreadyAppliedFilters||[],ze=N.addLength1||!1,ut=V.length,vt=N.objectId,$t=function(Ln){return Ln};if(f!==null&&vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&($t=bn.encryptor(vt,0));var er={};ye===!0&&(ye=["FlateEncode"]);var dr=N.additionalKeyValues||[],br=(er=Yt.API.processDataByFilters!==void 0?Yt.API.processDataByFilters(V,ye):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(er.data.length!==0&&(dr.push({key:"Length",value:er.data.length}),ze===!0&&dr.push({key:"Length1",value:ut})),br.length!=0)if(br.split("/").length-1==1)dr.push({key:"Filter",value:br});else{dr.push({key:"Filter",value:"["+br+"]"});for(var Fr=0;Fr<dr.length;Fr+=1)if(dr[Fr].key==="DecodeParms"){for(var pn=[],Pn=0;Pn<er.reverseChain.split("/").length-1;Pn+=1)pn.push("null");pn.push(dr[Fr].value),dr[Fr].value="["+pn.join(" ")+"]"}}ae("<<");for(var Vr=0;Vr<dr.length;Vr++)ae("/"+dr[Vr].key+" "+dr[Vr].value);ae(">>"),er.data.length!==0&&(ae("stream"),ae($t(er.data)),ae("endstream"))},$e=d.__private__.putPage=function(N){var V=N.number,ye=N.data,ke=N.objId,ze=N.contentsObjId;Q(ke,!0),ae("<</Type /Page"),ae("/Parent "+N.rootDictionaryObjId+" 0 R"),ae("/Resources "+N.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(k(N.mediaBox.bottomLeftX))+" "+parseFloat(k(N.mediaBox.bottomLeftY))+" "+k(N.mediaBox.topRightX)+" "+k(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&ae("/CropBox ["+k(N.cropBox.bottomLeftX)+" "+k(N.cropBox.bottomLeftY)+" "+k(N.cropBox.topRightX)+" "+k(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&ae("/BleedBox ["+k(N.bleedBox.bottomLeftX)+" "+k(N.bleedBox.bottomLeftY)+" "+k(N.bleedBox.topRightX)+" "+k(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&ae("/TrimBox ["+k(N.trimBox.bottomLeftX)+" "+k(N.trimBox.bottomLeftY)+" "+k(N.trimBox.topRightX)+" "+k(N.trimBox.topRightY)+"]"),N.artBox!==null&&ae("/ArtBox ["+k(N.artBox.bottomLeftX)+" "+k(N.artBox.bottomLeftY)+" "+k(N.artBox.topRightX)+" "+k(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&ae("/UserUnit "+N.userUnit),Ar.publish("putPage",{objId:ke,pageContext:ar[V],pageNumber:V,page:ye}),ae("/Contents "+ze+" 0 R"),ae(">>"),ae("endobj");var ut=ye.join(`
`);return T===j&&(ut+=`
Q`),Q(ze,!0),nt({data:ut,filters:qe(),objectId:ze}),ae("endobj"),ke},Ke=d.__private__.putPages=function(){var N,V,ye=[];for(N=1;N<=pr;N++)ar[N].objId=yn(),ar[N].contentsObjId=yn();for(N=1;N<=pr;N++)ye.push($e({number:N,data:Me[N],objId:ar[N].objId,contentsObjId:ar[N].contentsObjId,mediaBox:ar[N].mediaBox,cropBox:ar[N].cropBox,bleedBox:ar[N].bleedBox,trimBox:ar[N].trimBox,artBox:ar[N].artBox,userUnit:ar[N].userUnit,rootDictionaryObjId:ce,resourceDictionaryObjId:fe}));Q(ce,!0),ae("<</Type /Pages");var ke="/Kids [";for(V=0;V<pr;V++)ke+=ye[V]+" 0 R ";ae(ke+"]"),ae("/Count "+pr),ae(">>"),ae("endobj"),Ar.publish("postPutPages")},Ye=function(N){Ar.publish("putFont",{font:N,out:ae,newObject:on,putStream:nt}),N.isAlreadyPutted!==!0&&(N.objectNumber=on(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+$u(N.postScriptName)),ae("/Subtype /Type1"),typeof N.encoding=="string"&&ae("/Encoding /"+N.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},St=function(N){N.objectNumber=on();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[k(N.x),k(N.y),k(N.x+N.width),k(N.y+N.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var ye=N.pages[1].join(`
`);nt({data:ye,additionalKeyValues:V,objectId:N.objectNumber}),ae("endobj")},Dt=function(N,V){V||(V=21);var ye=on(),ke=function(vt,$t){var er,dr=[],br=1/($t-1);for(er=0;er<1;er+=br)dr.push(er);if(dr.push(1),vt[0].offset!=0){var Fr={offset:0,color:vt[0].color};vt.unshift(Fr)}if(vt[vt.length-1].offset!=1){var pn={offset:1,color:vt[vt.length-1].color};vt.push(pn)}for(var Pn="",Vr=0,Ln=0;Ln<dr.length;Ln++){for(er=dr[Ln];er>vt[Vr+1].offset;)Vr++;var ln=vt[Vr].offset,Vn=(er-ln)/(vt[Vr+1].offset-ln),Us=vt[Vr].color,$a=vt[Vr+1].color;Pn+=I(Math.round((1-Vn)*Us[0]+Vn*$a[0]).toString(16))+I(Math.round((1-Vn)*Us[1]+Vn*$a[1]).toString(16))+I(Math.round((1-Vn)*Us[2]+Vn*$a[2]).toString(16))}return Pn.trim()}(N.colors,V),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+V+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nt({data:ke,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),ae("endobj"),N.objectNumber=on(),ae("<< /ShadingType "+N.type),ae("/ColorSpace /DeviceRGB");var ut="/Coords ["+k(parseFloat(N.coords[0]))+" "+k(parseFloat(N.coords[1]))+" ";N.type===2?ut+=k(parseFloat(N.coords[2]))+" "+k(parseFloat(N.coords[3])):ut+=k(parseFloat(N.coords[2]))+" "+k(parseFloat(N.coords[3]))+" "+k(parseFloat(N.coords[4]))+" "+k(parseFloat(N.coords[5])),ae(ut+="]"),N.matrix&&ae("/Matrix ["+N.matrix.toString()+"]"),ae("/Function "+ye+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},Lt=function(N,V){var ye=yn(),ke=on();V.push({resourcesOid:ye,objectOid:ke}),N.objectNumber=ke;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+N.boundingBox.map(k).join(" ")+"]"}),ze.push({key:"XStep",value:k(N.xStep)}),ze.push({key:"YStep",value:k(N.yStep)}),ze.push({key:"Resources",value:ye+" 0 R"}),N.matrix&&ze.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),nt({data:N.stream,additionalKeyValues:ze,objectId:N.objectNumber}),ae("endobj")},kt=function(N){for(var V in N.objectNumber=on(),ae("<<"),N)switch(V){case"opacity":ae("/ca "+P(N[V]));break;case"stroke-opacity":ae("/CA "+P(N[V]))}ae(">>"),ae("endobj")},It=function(N){Q(N.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var V in ae("/Font <<"),Zt)Zt.hasOwnProperty(V)&&(p===!1||p===!0&&g.hasOwnProperty(V))&&ae("/"+V+" "+Zt[V].objectNumber+" 0 R");ae(">>")}(),function(){if(Object.keys(Vt).length>0){for(var V in ae("/Shading <<"),Vt)Vt.hasOwnProperty(V)&&Vt[V]instanceof Gc&&Vt[V].objectNumber>=0&&ae("/"+V+" "+Vt[V].objectNumber+" 0 R");Ar.publish("putShadingPatternDict"),ae(">>")}}(),function(V){if(Object.keys(Vt).length>0){for(var ye in ae("/Pattern <<"),Vt)Vt.hasOwnProperty(ye)&&Vt[ye]instanceof d.TilingPattern&&Vt[ye].objectNumber>=0&&Vt[ye].objectNumber<V&&ae("/"+ye+" "+Vt[ye].objectNumber+" 0 R");Ar.publish("putTilingPatternDict"),ae(">>")}}(N.objectOid),function(){if(Object.keys(Xt).length>0){var V;for(V in ae("/ExtGState <<"),Xt)Xt.hasOwnProperty(V)&&Xt[V].objectNumber>=0&&ae("/"+V+" "+Xt[V].objectNumber+" 0 R");Ar.publish("putGStateDict"),ae(">>")}}(),function(){for(var V in ae("/XObject <<"),gr)gr.hasOwnProperty(V)&&gr[V].objectNumber>=0&&ae("/"+V+" "+gr[V].objectNumber+" 0 R");Ar.publish("putXobjectDict"),ae(">>")}(),ae(">>"),ae("endobj")},hr=function(N){sr[N.fontName]=sr[N.fontName]||{},sr[N.fontName][N.fontStyle]=N.id},Ir=function(N,V,ye,ke,ze){var ut={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:N,fontName:V,fontStyle:ye,encoding:ke,isStandardFont:ze||!1,metadata:{}};return Ar.publish("addFont",{font:ut,instance:this}),Zt[ut.id]=ut,hr(ut),ut.id},Er=d.__private__.pdfEscape=d.pdfEscape=function(N,V){return function(ye,ke){var ze,ut,vt,$t,er,dr,br,Fr,pn;if(vt=(ke=ke||{}).sourceEncoding||"Unicode",er=ke.outputEncoding,(ke.autoencode||er)&&Zt[tt].metadata&&Zt[tt].metadata[vt]&&Zt[tt].metadata[vt].encoding&&($t=Zt[tt].metadata[vt].encoding,!er&&Zt[tt].encoding&&(er=Zt[tt].encoding),!er&&$t.codePages&&(er=$t.codePages[0]),typeof er=="string"&&(er=$t[er]),er)){for(br=!1,dr=[],ze=0,ut=ye.length;ze<ut;ze++)(Fr=er[ye.charCodeAt(ze)])?dr.push(String.fromCharCode(Fr)):dr.push(ye[ze]),dr[ze].charCodeAt(0)>>8&&(br=!0);ye=dr.join("")}for(ze=ye.length;br===void 0&&ze!==0;)ye.charCodeAt(ze-1)>>8&&(br=!0),ze--;if(!br)return ye;for(dr=ke.noBOM?[]:[254,255],ze=0,ut=ye.length;ze<ut;ze++){if((pn=(Fr=ye.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+ye+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dr.push(pn),dr.push(Fr-(pn<<8))}return String.fromCharCode.apply(void 0,dr)}(N,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hn=d.__private__.beginPage=function(N){Me[++pr]=[],ar[pr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Rs(pr),dt(Me[H])},ys=function(N,V){var ye,ke,ze;switch(r=V||r,typeof N=="string"&&(ye=w(N.toLowerCase()),Array.isArray(ye)&&(ke=ye[0],ze=ye[1])),Array.isArray(N)&&(ke=N[0]*Ct,ze=N[1]*Ct),isNaN(ke)&&(ke=a[0],ze=a[1]),(ke>14400||ze>14400)&&(dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),ze=Math.min(14400,ze)),a=[ke,ze],r.substr(0,1)){case"l":ze>ke&&(a=[ze,ke]);break;case"p":ke>ze&&(a=[ze,ke])}hn(a),rr(kl),ae(fo),Dc!==0&&ae(Dc+" J"),Ri!==0&&ae(Ri+" j"),Ar.publish("addPage",{pageNumber:pr})},ia=function(N){N>0&&N<=pr&&(Me.splice(N,1),ar.splice(N,1),pr--,H>pr&&(H=pr),this.setPage(H))},Rs=function(N){N>0&&N<=pr&&(H=N)},Ea=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Me.length-1},Li=function(N,V,ye){var ke,ze=void 0;return ye=ye||{},N=N!==void 0?N:Zt[tt].fontName,V=V!==void 0?V:Zt[tt].fontStyle,ke=N.toLowerCase(),sr[ke]!==void 0&&sr[ke][V]!==void 0?ze=sr[ke][V]:sr[N]!==void 0&&sr[N][V]!==void 0?ze=sr[N][V]:ye.disableWarning===!1&&dn.warn("Unable to look up font label for font '"+N+"', '"+V+"'. Refer to getFontList() for available fonts."),ze||ye.noFallback||(ze=sr.times[V])==null&&(ze=sr.times.normal),ze},ur=d.__private__.putInfo=function(){var N=on(),V=function(ke){return ke};for(var ye in f!==null&&(V=bn.encryptor(N,0)),ae("<<"),ae("/Producer ("+Er(V("jsPDF "+Yt.version))+")"),pt)pt.hasOwnProperty(ye)&&pt[ye]&&ae("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+Er(V(pt[ye]))+")");ae("/CreationDate ("+Er(V(de))+")"),ae(">>"),ae("endobj")},Ro=d.__private__.putCatalog=function(N){var V=(N=N||{}).rootDictionaryObjId||ce;switch(on(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+V+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+gt;ye.substr(ye.length-1)==="%"&&(gt=parseInt(gt)/100),typeof gt=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+P(gt)+"]")}switch(jt||(jt="continuous"),jt){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Nt&&ae("/PageMode /"+Nt),Ar.publish("putCatalog"),ae(">>"),ae("endobj")},Au=d.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(ne+1)),ae("/Root "+ne+" 0 R"),ae("/Info "+(ne-1)+" 0 R"),f!==null&&ae("/Encrypt "+bn.oid+" 0 R"),ae("/ID [ <"+X+"> <"+X+"> ]"),ae(">>")},wn=d.__private__.putHeader=function(){ae("%PDF-"+y),ae("%")},uo=d.__private__.putXRef=function(){var N="0000000000";ae("xref"),ae("0 "+(ne+1)),ae("0000000000 65535 f ");for(var V=1;V<=ne;V++)typeof ge[V]=="function"?ae((N+ge[V]()).slice(-10)+" 00000 n "):ge[V]!==void 0?ae((N+ge[V]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},Ds=d.__private__.buildDocument=function(){var N;ne=0,xe=0,Ee=[],ge=[],Z=[],ce=yn(),fe=yn(),dt(Ee),Ar.publish("buildDocument"),wn(),Ke(),function(){Ar.publish("putAdditionalObjects");for(var ye=0;ye<Z.length;ye++){var ke=Z[ye];Q(ke.objId,!0),ae(ke.content),ae("endobj")}Ar.publish("postPutAdditionalObjects")}(),N=[],function(){for(var ye in Zt)Zt.hasOwnProperty(ye)&&(p===!1||p===!0&&g.hasOwnProperty(ye))&&Ye(Zt[ye])}(),function(){var ye;for(ye in Xt)Xt.hasOwnProperty(ye)&&kt(Xt[ye])}(),function(){for(var ye in gr)gr.hasOwnProperty(ye)&&St(gr[ye])}(),function(ye){var ke;for(ke in Vt)Vt.hasOwnProperty(ke)&&(Vt[ke]instanceof Gc?Dt(Vt[ke]):Vt[ke]instanceof of&&Lt(Vt[ke],ye))}(N),Ar.publish("putResources"),N.forEach(It),It({resourcesOid:fe,objectOid:Number.MAX_SAFE_INTEGER}),Ar.publish("postPutResources"),f!==null&&(bn.oid=on(),ae("<<"),ae("/Filter /Standard"),ae("/V "+bn.v),ae("/R "+bn.r),ae("/U <"+bn.toHexString(bn.U)+">"),ae("/O <"+bn.toHexString(bn.O)+">"),ae("/P "+bn.P),ae(">>"),ae("endobj")),ur(),Ro();var V=xe;return uo(),Au(),ae("startxref"),ae(""+V),ae("%%EOF"),dt(Me[H]),Ee.join(`
`)},Do=d.__private__.getBlob=function(N){return new Blob([et(N)],{type:"application/pdf"})},Pc=d.output=d.__private__.output=(Tr=function(N,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",N){case void 0:return Ds();case"save":d.save(V.filename);break;case"arraybuffer":return et(Ds());case"blob":return Do(Ds());case"bloburi":case"bloburl":if(vr.URL!==void 0&&typeof vr.URL.createObjectURL=="function")return vr.URL&&vr.URL.createObjectURL(Do(Ds()))||void 0;dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",ke=Ds();try{ye=Zw(ke)}catch{ye=Zw(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+V.filename+";base64,"+ye;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vr)==="[object Window]"){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(ze=V.pdfObjectUrl,ut="");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",$t=vr.open();return $t!==null&&$t.document.write(vt),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vr)==="[object Window]"){var er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',dr=vr.open();if(dr!==null){dr.document.write(er);var br=this;dr.document.documentElement.querySelector("#pdfViewer").onload=function(){dr.document.title=V.filename,dr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(br.output("bloburl"))}}return dr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',pn=vr.open();if(pn!==null&&(pn.document.write(Fr),pn.document.title=V.filename),pn||typeof safari>"u")return pn;break;case"datauri":case"dataurl":return vr.document.location.href=this.output("datauristring",V);default:return null}},Tr.foo=function(){try{return Tr.apply(this,arguments)}catch(ye){var N=ye.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var V="Error in function "+N.split(`
`)[0].split("<")[0]+": "+ye.message;if(!vr.console)throw new Error(V);vr.console.error(V,ye),vr.alert&&alert(V)}},Tr.foo.bar=Tr,Tr.foo),Lr=function(N){return Array.isArray(qn)===!0&&qn.indexOf(N)>-1};switch(n){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=Lr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ct=n}var bn=null;le(),M();var as=d.__private__.getPageInfo=d.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ar[N].objId,pageNumber:N,pageContext:ar[N]}},Fi=d.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in ar)if(ar[V].objId===N)break;return as(V)},Lc=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ar[H].objId,pageNumber:H,pageContext:ar[H]}};d.addPage=function(){return ys.apply(this,arguments),this},d.setPage=function(){return Rs.apply(this,arguments),dt.call(this,Me[H]),this},d.insertPage=function(N){return this.addPage(),this.movePage(H,N),this},d.movePage=function(N,V){var ye,ke;if(N>V){ye=Me[N],ke=ar[N];for(var ze=N;ze>V;ze--)Me[ze]=Me[ze-1],ar[ze]=ar[ze-1];Me[V]=ye,ar[V]=ke,this.setPage(V)}else if(N<V){ye=Me[N],ke=ar[N];for(var ut=N;ut<V;ut++)Me[ut]=Me[ut+1],ar[ut]=ar[ut+1];Me[V]=ye,ar[V]=ke,this.setPage(V)}return this},d.deletePage=function(){return ia.apply(this,arguments),this},d.__private__.text=d.text=function(N,V,ye,ke,ze){var ut,vt,$t,er,dr,br,Fr,pn,Pn,Vr=(ke=ke||{}).scope||this;if(typeof N=="number"&&typeof V=="number"&&(typeof ye=="string"||Array.isArray(ye))){var Ln=ye;ye=V,V=N,N=Ln}if(arguments[3]instanceof mt==0?($t=arguments[4],er=arguments[5],tn(Fr=arguments[3])==="object"&&Fr!==null||(typeof $t=="string"&&(er=$t,$t=null),typeof Fr=="string"&&(er=Fr,Fr=null),typeof Fr=="number"&&($t=Fr,Fr=null),ke={flags:Fr,angle:$t,align:er})):(R("The transform parameter of text() with a Matrix value"),Pn=ze),isNaN(V)||isNaN(ye)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Vr;var ln,Vn="",Us=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:Ha,$a=Vr.internal.scaleFactor;function zs(Ae){return Ae=Ae.split("	").join(Array(ke.TabLen||9).join(" ")),Er(Ae,Fr)}function Ll(Ae){for(var Ce,Le=Ae.concat(),Te=[],Re=Le.length;Re--;)typeof(Ce=Le.shift())=="string"?Te.push(Ce):Array.isArray(Ae)&&(Ce.length===1||Ce[1]===void 0&&Ce[2]===void 0)?Te.push(Ce[0]):Te.push([Ce[0],Ce[1],Ce[2]]);return Te}function Fl(Ae,Ce){var Le;if(typeof Ae=="string")Le=Ce(Ae)[0];else if(Array.isArray(Ae)){for(var Te,Re,Ge=Ae.concat(),Je=[],He=Ge.length;He--;)typeof(Te=Ge.shift())=="string"?Je.push(Ce(Te)[0]):Array.isArray(Te)&&typeof Te[0]=="string"&&(Re=Ce(Te[0],Te[1],Te[2]),Je.push([Re[0],Re[1],Re[2]]));Le=Je}return Le}var ui=!1,fi=!0;if(typeof N=="string")ui=!0;else if(Array.isArray(N)){var Go=N.concat();vt=[];for(var di,Gn=Go.length;Gn--;)(typeof(di=Go.shift())!="string"||Array.isArray(di)&&typeof di[0]!="string")&&(fi=!1);ui=fi}if(ui===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Ko=Fe/Vr.internal.scaleFactor,po=Ko*(Us-1);switch(ke.baseline){case"bottom":ye-=po;break;case"top":ye+=Ko-po;break;case"hanging":ye+=Ko-2*po;break;case"middle":ye+=Ko/2-po}if((br=ke.maxWidth||0)>0&&(typeof N=="string"?N=Vr.splitTextToSize(N,br):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(Ae,Ce){return Ae.concat(Vr.splitTextToSize(Ce,br))},[]))),ut={text:N,x:V,y:ye,options:ke,mutex:{pdfEscape:Er,activeFontKey:tt,fonts:Zt,activeFontSize:Fe}},Ar.publish("preProcessText",ut),N=ut.text,$t=(ke=ut.options).angle,Pn instanceof mt==0&&$t&&typeof $t=="number"){$t*=Math.PI/180,ke.rotationDirection===0&&($t=-$t),T===j&&($t=-$t);var Mc=Math.cos($t),Ol=Math.sin($t);Pn=new mt(Mc,Ol,-Ol,Mc,0,0)}else $t&&$t instanceof mt&&(Pn=$t);T!==j||Pn||(Pn=Hr),(dr=ke.charSpace||Ms)!==void 0&&(Vn+=k(z(dr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pn=ke.horizontalScale)!==void 0&&(Vn+=k(100*pn)+` Tz
`),ke.lang;var va=-1,Mi=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,Yo=Vr.internal.getCurrentPageInfo().pageContext;switch(Mi){case 0:case!1:case"fill":va=0;break;case 1:case!0:case"stroke":va=1;break;case 2:case"fillThenStroke":va=2;break;case 3:case"invisible":va=3;break;case 4:case"fillAndAddForClipping":va=4;break;case 5:case"strokeAndAddPathForClipping":va=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":va=6;break;case 7:case"addToPathForClipping":va=7}var Rl=Yo.usedRenderingMode!==void 0?Yo.usedRenderingMode:-1;va!==-1?Vn+=va+` Tr
`:Rl!==-1&&(Vn+=`0 Tr
`),va!==-1&&(Yo.usedRenderingMode=va),er=ke.align||"left";var is,mo=Fe*Us,Bc=Vr.internal.pageSize.getWidth(),Uc=Zt[tt];dr=ke.charSpace||Ms,br=ke.maxWidth||0,Fr=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var go=[],hi=function(Ae){return Vr.getStringUnitWidth(Ae,{font:Uc,charSpace:dr,fontSize:Fe,doKerning:!1})*Fe/$a};if(Object.prototype.toString.call(N)==="[object Array]"){var Fn;vt=Ll(N),er!=="left"&&(is=vt.map(hi));var Mr,Hs=0;if(er==="right"){V-=is[0],N=[],Gn=vt.length;for(var Wa=0;Wa<Gn;Wa++)Wa===0?(Mr=Is(V),Fn=xa(ye)):(Mr=z(Hs-is[Wa]),Fn=-mo),N.push([vt[Wa],Mr,Fn]),Hs=is[Wa]}else if(er==="center"){V-=is[0]/2,N=[],Gn=vt.length;for(var xo=0;xo<Gn;xo++)xo===0?(Mr=Is(V),Fn=xa(ye)):(Mr=z((Hs-is[xo])/2),Fn=-mo),N.push([vt[xo],Mr,Fn]),Hs=is[xo]}else if(er==="left"){N=[],Gn=vt.length;for(var Xo=0;Xo<Gn;Xo++)N.push(vt[Xo])}else if(er==="justify"&&Uc.encoding==="Identity-H"){N=[],Gn=vt.length,br=br!==0?br:Bc;for(var Jo=0,Yr=0;Yr<Gn;Yr++)if(Fn=Yr===0?xa(ye):-mo,Mr=Yr===0?Is(V):Jo,Yr<Gn-1){var Dl=z((br-is[Yr])/(vt[Yr].split(" ").length-1)),Ca=vt[Yr].split(" ");N.push([Ca[0]+" ",Mr,Fn]),Jo=0;for(var oa=1;oa<Ca.length;oa++){var Il=(hi(Ca[oa-1]+" "+Ca[oa])-hi(Ca[oa]))*$a+Dl;oa==Ca.length-1?N.push([Ca[oa],Il,0]):N.push([Ca[oa]+" ",Il,0]),Jo-=Il}}else N.push([vt[Yr],Mr,Fn]);N.push(["",Jo,0])}else{if(er!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],Gn=vt.length,br=br!==0?br:Bc,Yr=0;Yr<Gn;Yr++){Fn=Yr===0?xa(ye):-mo,Mr=Yr===0?Is(V):0;var m=vt[Yr].split(" ").length-1,b=m>0?(br-is[Yr])/m:0;Yr<Gn-1?go.push(k(z(b))):go.push(0),N.push([vt[Yr],Mr,Fn])}}}(typeof ke.R2L=="boolean"?ke.R2L:Rt)===!0&&(N=Fl(N,function(Ae,Ce,Le){return[Ae.split("").reverse().join(""),Ce,Le]})),ut={text:N,x:V,y:ye,options:ke,mutex:{pdfEscape:Er,activeFontKey:tt,fonts:Zt,activeFontSize:Fe}},Ar.publish("postProcessText",ut),N=ut.text,ln=ut.mutex.isHex||!1;var C=Zt[tt].encoding;C!=="WinAnsiEncoding"&&C!=="StandardEncoding"||(N=Fl(N,function(Ae,Ce,Le){return[zs(Ae),Ce,Le]})),vt=Ll(N),N=[];for(var F,U,J,oe=Array.isArray(vt[0])?1:0,me="",De=function(Ae,Ce,Le){var Te="";return Le instanceof mt?(Le=typeof ke.angle=="number"?yr(Le,new mt(1,0,0,1,Ae,Ce)):yr(new mt(1,0,0,1,Ae,Ce),Le),T===j&&(Le=yr(new mt(1,0,0,-1,0,0),Le)),Te=Le.join(" ")+` Tm
`):Te=k(Ae)+" "+k(Ce)+` Td
`,Te},Ue=0;Ue<vt.length;Ue++){switch(me="",oe){case 1:J=(ln?"<":"(")+vt[Ue][0]+(ln?">":")"),F=parseFloat(vt[Ue][1]),U=parseFloat(vt[Ue][2]);break;case 0:J=(ln?"<":"(")+vt[Ue]+(ln?">":")"),F=Is(V),U=xa(ye)}go!==void 0&&go[Ue]!==void 0&&(me=go[Ue]+` Tw
`),Ue===0?N.push(me+De(F,U,Pn)+J):oe===0?N.push(me+J):oe===1&&N.push(me+De(F,U,Pn)+J)}N=oe===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Oe=`BT
/`;return Oe+=tt+" "+Fe+` Tf
`,Oe+=k(Fe*Us)+` TL
`,Oe+=Oi+`
`,Oe+=Vn,Oe+=N,ae(Oe+="ET"),g[tt]=!0,Vr};var Fc=d.__private__.clip=d.clip=function(N){return ae(N==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Fc("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ae("n"),this};var ss=d.__private__.isValidStyle=function(N){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(V=!0),V};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(N){return ss(N)&&(u=N),this};var Oc=d.__private__.getStyle=d.getStyle=function(N){var V=u;switch(N){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=N}return V},Io=d.close=function(){return ae("h"),this};d.stroke=function(){return ae("S"),this},d.fill=function(N){return Mo("f",N),this},d.fillEvenOdd=function(N){return Mo("f*",N),this},d.fillStroke=function(N){return Mo("B",N),this},d.fillStrokeEvenOdd=function(N){return Mo("B*",N),this};var Mo=function(N,V){tn(V)==="object"?Eu(V,N):ae(N)},Bo=function(N){N===null||T===j&&N===void 0||(N=Oc(N),ae(N))};function Dr(N,V,ye,ke,ze){var ut=new of(V||this.boundingBox,ye||this.xStep,ke||this.yStep,this.gState,ze||this.matrix);ut.stream=this.stream;var vt=N+"$$"+this.cloneIndex+++"$$";return mr(vt,ut),ut}var Eu=function(N,V){var ye=ir[N.key],ke=Vt[ye];if(ke instanceof Gc)ae("q"),ae(Jf(V)),ke.gState&&d.setGState(ke.gState),ae(N.matrix.toString()+" cm"),ae("/"+ye+" sh"),ae("Q");else if(ke instanceof of){var ze=new mt(1,0,0,-1,0,ci());N.matrix&&(ze=ze.multiply(N.matrix||Hr),ye=Dr.call(ke,N.key,N.boundingBox,N.xStep,N.yStep,ze).id),ae("q"),ae("/Pattern cs"),ae("/"+ye+" scn"),ke.gState&&d.setGState(ke.gState),ae(V),ae("Q")}},Jf=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Rc=d.moveTo=function(N,V){return ae(k(z(N))+" "+k(te(V))+" m"),this},ma=d.lineTo=function(N,V){return ae(k(z(N))+" "+k(te(V))+" l"),this},ga=d.curveTo=function(N,V,ye,ke,ze,ut){return ae([k(z(N)),k(te(V)),k(z(ye)),k(te(ke)),k(z(ze)),k(te(ut)),"c"].join(" ")),this};d.__private__.line=d.line=function(N,V,ye,ke,ze){if(isNaN(N)||isNaN(V)||isNaN(ye)||isNaN(ke)||!ss(ze))throw new Error("Invalid arguments passed to jsPDF.line");return T===S?this.lines([[ye-N,ke-V]],N,V,[1,1],ze||"S"):this.lines([[ye-N,ke-V]],N,V,[1,1]).stroke()},d.__private__.lines=d.lines=function(N,V,ye,ke,ze,ut){var vt,$t,er,dr,br,Fr,pn,Pn,Vr,Ln,ln,Vn;if(typeof N=="number"&&(Vn=ye,ye=V,V=N,N=Vn),ke=ke||[1,1],ut=ut||!1,isNaN(V)||isNaN(ye)||!Array.isArray(N)||!Array.isArray(ke)||!ss(ze)||typeof ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Rc(V,ye),vt=ke[0],$t=ke[1],dr=N.length,Ln=V,ln=ye,er=0;er<dr;er++)(br=N[er]).length===2?(Ln=br[0]*vt+Ln,ln=br[1]*$t+ln,ma(Ln,ln)):(Fr=br[0]*vt+Ln,pn=br[1]*$t+ln,Pn=br[2]*vt+Ln,Vr=br[3]*$t+ln,Ln=br[4]*vt+Ln,ln=br[5]*$t+ln,ga(Fr,pn,Pn,Vr,Ln,ln));return ut&&Io(),Bo(ze),this},d.path=function(N){for(var V=0;V<N.length;V++){var ye=N[V],ke=ye.c;switch(ye.op){case"m":Rc(ke[0],ke[1]);break;case"l":ma(ke[0],ke[1]);break;case"c":ga.apply(this,ke);break;case"h":Io()}}return this},d.__private__.rect=d.rect=function(N,V,ye,ke,ze){if(isNaN(N)||isNaN(V)||isNaN(ye)||isNaN(ke)||!ss(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return T===S&&(ke=-ke),ae([k(z(N)),k(te(V)),k(z(ye)),k(z(ke)),"re"].join(" ")),Bo(ze),this},d.__private__.triangle=d.triangle=function(N,V,ye,ke,ze,ut,vt){if(isNaN(N)||isNaN(V)||isNaN(ye)||isNaN(ke)||isNaN(ze)||isNaN(ut)||!ss(vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-N,ke-V],[ze-ye,ut-ke],[N-ze,V-ut]],N,V,[1,1],vt,!0),this},d.__private__.roundedRect=d.roundedRect=function(N,V,ye,ke,ze,ut,vt){if(isNaN(N)||isNaN(V)||isNaN(ye)||isNaN(ke)||isNaN(ze)||isNaN(ut)||!ss(vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*ye),ut=Math.min(ut,.5*ke),this.lines([[ye-2*ze,0],[ze*$t,0,ze,ut-ut*$t,ze,ut],[0,ke-2*ut],[0,ut*$t,-ze*$t,ut,-ze,ut],[2*ze-ye,0],[-ze*$t,0,-ze,-ut*$t,-ze,-ut],[0,2*ut-ke],[0,-ut*$t,ze*$t,-ut,ze,-ut]],N+ze,V,[1,1],vt,!0),this},d.__private__.ellipse=d.ellipse=function(N,V,ye,ke,ze){if(isNaN(N)||isNaN(V)||isNaN(ye)||isNaN(ke)||!ss(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ut=4/3*(Math.SQRT2-1)*ye,vt=4/3*(Math.SQRT2-1)*ke;return Rc(N+ye,V),ga(N+ye,V-vt,N+ut,V-ke,N,V-ke),ga(N-ut,V-ke,N-ye,V-vt,N-ye,V),ga(N-ye,V+vt,N-ut,V+ke,N,V+ke),ga(N+ut,V+ke,N+ye,V+vt,N+ye,V),Bo(ze),this},d.__private__.circle=d.circle=function(N,V,ye,ke){if(isNaN(N)||isNaN(V)||isNaN(ye)||!ss(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,V,ye,ye,ke)},d.setFont=function(N,V,ye){return ye&&(V=L(V,ye)),tt=Li(N,V,{disableWarning:!1}),this};var Cl=d.__private__.getFont=d.getFont=function(){return Zt[Li.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var N,V,ye={};for(N in sr)if(sr.hasOwnProperty(N))for(V in ye[N]=[],sr[N])sr[N].hasOwnProperty(V)&&ye[N].push(V);return ye},d.addFont=function(N,V,ye,ke,ze){var ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ut.indexOf(arguments[3])!==-1?ze=arguments[3]:arguments[3]&&ut.indexOf(arguments[3])==-1&&(ye=L(ye,ke)),Ir.call(this,N,V,ye,ze=ze||"Identity-H")};var Ha,kl=e.lineWidth||.200025,Cu=d.__private__.getLineWidth=d.getLineWidth=function(){return kl},rr=d.__private__.setLineWidth=d.setLineWidth=function(N){return kl=N,ae(k(z(N))+" w"),this};d.__private__.setLineDash=Yt.API.setLineDash=Yt.API.setLineDashPattern=function(N,V){if(N=N||[],V=V||0,isNaN(V)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(ye){return k(z(ye))}).join(" "),V=k(z(V)),ae("["+N+"] "+V+" d"),this};var ws=d.__private__.getLineHeight=d.getLineHeight=function(){return Fe*Ha};d.__private__.getLineHeight=d.getLineHeight=function(){return Fe*Ha};var Uo=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Ha=N),this},zo=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Ha};Uo(e.lineHeight);var Is=d.__private__.getHorizontalCoordinate=function(N){return z(N)},xa=d.__private__.getVerticalCoordinate=function(N){return T===j?N:ar[H].mediaBox.topRightY-ar[H].mediaBox.bottomLeftY-z(N)},Qf=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(N){return k(Is(N))},bs=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(N){return k(xa(N))},fo=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ve(fo)},d.__private__.setStrokeColor=d.setDrawColor=function(N,V,ye,ke){return fo=be({ch1:N,ch2:V,ch3:ye,ch4:ke,pdfColorType:"draw",precision:2}),ae(fo),this};var Tl=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ve(Tl)},d.__private__.setFillColor=d.setFillColor=function(N,V,ye,ke){return Tl=be({ch1:N,ch2:V,ch3:ye,ch4:ke,pdfColorType:"fill",precision:2}),ae(Tl),this};var Oi=e.textColor||"0 g",Ho=d.__private__.getTextColor=d.getTextColor=function(){return ve(Oi)};d.__private__.setTextColor=d.setTextColor=function(N,V,ye,ke){return Oi=be({ch1:N,ch2:V,ch3:ye,ch4:ke,pdfColorType:"text",precision:3}),this};var Ms=e.charSpace,ku=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ms||0)};d.__private__.setCharSpace=d.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ms=N,this};var Dc=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(N){var V=d.CapJoinStyles[N];if(V===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dc=V,ae(V+" J"),this};var Ri=0;d.__private__.setLineJoin=d.setLineJoin=function(N){var V=d.CapJoinStyles[N];if(V===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ri=V,ae(V+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(k(z(N))+" M"),this},d.GState=Gp,d.setGState=function(N){(N=typeof N=="string"?Xt[at[N]]:Tu(null,N)).equals(Sr)||(ae("/"+N.id+" gs"),Sr=N)};var Tu=function(N,V){if(!N||!at[N]){var ye=!1;for(var ke in Xt)if(Xt.hasOwnProperty(ke)&&Xt[ke].equals(V)){ye=!0;break}if(ye)V=Xt[ke];else{var ze="GS"+(Object.keys(Xt).length+1).toString(10);Xt[ze]=V,V.id=ze}return N&&(at[N]=V.id),Ar.publish("addGState",V),V}};d.addGState=function(N,V){return Tu(N,V),this},d.saveGraphicsState=function(){return ae("q"),Tt.push({key:tt,size:Fe,color:Oi}),this},d.restoreGraphicsState=function(){ae("Q");var N=Tt.pop();return tt=N.key,Fe=N.size,Oi=N.color,Sr=null,this},d.setCurrentTransformationMatrix=function(N){return ae(N.toString()+" cm"),this},d.comment=function(N){return ae("#"+N),this};var Di=function(N,V){var ye=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(ut){isNaN(ut)||(ye=parseFloat(ut))}});var ke=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(ut){isNaN(ut)||(ke=parseFloat(ut))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(ut){ze=ut.toString()}}),this},ho=function(N,V,ye,ke){Di.call(this,N,V),this.type="rect";var ze=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(vt){isNaN(vt)||(ze=parseFloat(vt))}});var ut=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ut},set:function(vt){isNaN(vt)||(ut=parseFloat(vt))}}),this},Ii=function(){this.page=pr,this.currentPage=H,this.pages=Me.slice(0),this.pagesContext=ar.slice(0),this.x=bt,this.y=wr,this.matrix=Mt,this.width=Ic(H),this.height=Pl(H),this.outputDestination=it,this.id="",this.objectNumber=-1};Ii.prototype.restore=function(){pr=this.page,H=this.currentPage,ar=this.pagesContext,Me=this.pages,bt=this.x,wr=this.y,Mt=this.matrix,Pu(H,this.width),Bs(H,this.height),it=this.outputDestination};var $o=function(N,V,ye,ke,ze){un.push(new Ii),pr=H=0,Me=[],bt=N,wr=V,Mt=ze,hn([ye,ke])};for(var Wo in d.beginFormObject=function(N,V,ye,ke,ze){return $o(N,V,ye,ke,ze),this},d.endFormObject=function(N){return function(V){if(Cn[V])un.pop().restore();else{var ye=new Ii,ke="Xo"+(Object.keys(gr).length+1).toString(10);ye.id=ke,Cn[V]=ke,gr[ke]=ye,Ar.publish("addFormObject",ye),un.pop().restore()}}(N),this},d.doFormObject=function(N,V){var ye=gr[Cn[N]];return ae("q"),ae(V.toString()+" cm"),ae("/"+ye.id+" Do"),ae("Q"),this},d.getFormObject=function(N){var V=gr[Cn[N]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},d.save=function(N,V){return N=N||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(qc(Do(Ds()),N),typeof qc.unload=="function"&&vr.setTimeout&&setTimeout(qc.unload,911),this):new Promise(function(ye,ke){try{var ze=qc(Do(Ds()),N);typeof qc.unload=="function"&&vr.setTimeout&&setTimeout(qc.unload,911),ye(ze)}catch(ut){ke(ut.message)}})},Yt.API)Yt.API.hasOwnProperty(Wo)&&(Wo==="events"&&Yt.API.events.length?function(N,V){var ye,ke,ze;for(ze=V.length-1;ze!==-1;ze--)ye=V[ze][0],ke=V[ze][1],N.subscribe.apply(N,[ye].concat(typeof ke=="function"?[ke]:ke))}(Ar,Yt.API.events):d[Wo]=Yt.API[Wo]);function Ic(N){return ar[N].mediaBox.topRightX-ar[N].mediaBox.bottomLeftX}function Pu(N,V){ar[N].mediaBox.topRightX=V+ar[N].mediaBox.bottomLeftX}function Pl(N){return ar[N].mediaBox.topRightY-ar[N].mediaBox.bottomLeftY}function Bs(N,V){ar[N].mediaBox.topRightY=V+ar[N].mediaBox.bottomLeftY}var li=d.getPageWidth=function(N){return Ic(N=N||H)/Ct},qo=d.setPageWidth=function(N,V){Pu(N,V*Ct)},ci=d.getPageHeight=function(N){return Pl(N=N||H)/Ct},Vo=d.setPageHeight=function(N,V){Bs(N,V*Ct)};return d.internal={pdfEscape:Er,getStyle:Oc,getFont:Cl,getFontSize:xt,getCharSpace:ku,getTextColor:Ho,getLineHeight:ws,getLineHeightFactor:zo,getLineWidth:Cu,write:Pe,getHorizontalCoordinate:Is,getVerticalCoordinate:xa,getCoordinateString:Qf,getVerticalCoordinateString:bs,collections:{},newObject:on,newAdditionalObject:we,newObjectDeferred:yn,newObjectDeferredBegin:Q,getFilters:qe,putStream:nt,events:Ar,scaleFactor:Ct,pageSize:{getWidth:function(){return li(H)},setWidth:function(N){qo(H,N)},getHeight:function(){return ci(H)},setHeight:function(N){Vo(H,N)}},encryptionOptions:f,encryption:bn,getEncryptor:function(N){return f!==null?bn.encryptor(N,0):function(V){return V}},output:Pc,getNumberOfPages:Ea,get pages(){return Me},out:ae,f2:P,f3:B,getPageInfo:as,getPageInfoByObjId:Fi,getCurrentPageInfo:Lc,getPDFVersion:x,Point:Di,Rectangle:ho,Matrix:mt,hasHotfix:Lr},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return li(H)},set:function(N){qo(H,N)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return ci(H)},set:function(N){Vo(H,N)},enumerable:!0,configurable:!0}),(function(N){for(var V=0,ye=yt.length;V<ye;V++){var ke=Ir.call(this,N[V][0],N[V][1],N[V][2],yt[V][3],!0);p===!1&&(g[ke]=!0);var ze=N[V][0].split("-");hr({id:ke,fontName:ze[0],fontStyle:ze[1]||""})}Ar.publish("addFonts",{fonts:Zt,dictionary:sr})}).call(d,yt),tt="F1",ys(a,r),Ar.publish("initialized"),d}Hu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Hu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hu.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Hu.prototype.processOwnerPassword=function(e,t){return a2(n2(t).substr(0,5),e)},Hu.prototype.encryptor=function(e,t){var r=n2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return a2(r,n)}},Gp.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||tn(e)!==tn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Yt.API={events:[]},Yt.version="4.1.0";var zn=Yt.API,_v=1,wu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ru=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kp=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var r=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},_r=function(e){return e.toFixed(2)},Vl=function(e){return e.toFixed(5)};zn.__acroform__={};var Os=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},nb=function(e){return e*_v},wo=function(e){var t=new CS,r=nr.internal.getHeight(e)||0,n=nr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(_r(n)),Number(_r(r))],t},WF=zn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},qF=zn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},VF=zn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Jn=zn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return VF(e,t-1)},Qn=zn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WF(e,t-1)},Zn=zn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return qF(e,t-1)},GF=zn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(s)||0,[Number(_r(c.lowerLeft_X)),Number(_r(c.lowerLeft_Y)),Number(_r(c.upperRight_X)),Number(_r(c.upperRight_Y))]},KF=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=s2(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+_r(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=wo(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},s2=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var s=r,o=nr.internal.getHeight(e)||0;o=o<0?-o:o;var l=nr.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(P,B,z){if(P+1<a.length){var te=B+" "+a[P+1][0];return Ah(te,e,z).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var u,f,p=Ah("3",e,s).height,g=e.multiline?o-s:(o-p)/2,d=g+=2,y=0,x=0,_=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ah(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var w="",S=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var T=!1;if(a[j].length!==1&&_!==a[j].length-1){if((p+2)*(S+2)+2>o)continue e;w+=a[j][_],T=!0,x=j,j--}else{w=(w+=a[j][_]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var q=parseInt(j),se=c(q,w,s),L=j>=a.length-1;if(se&&!L){w+=" ",_=0;continue}if(se||L){if(L)x=q;else if(e.multiline&&(p+2)*(S+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(S+2)+2>o)continue e;x=q}}for(var k="",R=y;R<=x;R++){var Y=a[R];if(e.multiline){if(R===x){k+=Y[_]+" ",_=(_+1)%Y.length;continue}if(R===y){k+=Y[Y.length-1]+" ";continue}}k+=Y[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,f=Ah(k,e,s).width,e.textAlign){case"right":u=l-f-2;break;case"center":u=(l-f)/2;break;default:u=2}t+=_r(u)+" "+_r(d)+` Td
`,t+="("+wu(k)+`) Tj
`,t+=-_r(u)+` 0 Td
`,d=-(s+2),f=0,y=T?x:x+1,S++,w=""}break}return n.text=t,n.fontSize=s,n},Ah=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},YF={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},XF=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},JF=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(lo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(YF)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_v=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new kS,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&XF(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=GF(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=nr.createDefaultAppearanceStream(l),tn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=KF(l);c.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var p="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var d=l.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var y=d[o];typeof y=="function"&&(y=y.call(a,l)),p+="/"+o+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=d)=="function"&&(y=y.call(a,l)),p+="/"+o+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&function(x,_){for(var w in x)if(x.hasOwnProperty(w)){var S=w,j=x[w];_.internal.newObjectDeferredBegin(j.objId,!0),tn(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete x[S]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},ES=zn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),tn(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)==="/"?a+="/"+Kp(e[s].substr(1)):(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+wu(n(e[s].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gg=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+wu(n(e))+")"},Ao=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ao.prototype.toString=function(){return this.objId+" 0 R"},Ao.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ao.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:ES(a,this.objId,this.scope)}):a instanceof Ao?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var CS=function(){Ao.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Os(CS,Ao);var kS=function(){Ao.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+wu(r(e))+")"}},set:function(r){e=r}})};Os(kS,Ao);var lo=function e(){Ao.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jn(t,3)},set:function(w){w?this.F=Qn(t,3):this.F=Zn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Yp)return;s="FieldObject"+e.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+wu(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/_v:u},set:function(w){u=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Yp||this instanceof nu))return gg(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ba==0?gg(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof ba==0?w.substr(0,1)==="("?Ru(w.substr(1,w.length-2)):Ru(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ba==1?Ru(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof ba==1?"/"+Kp(w):w}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof ba==0?gg(d,this.objId,this.scope):d},set:function(w){w=w.toString(),d=this instanceof ba==0?w.substr(0,1)==="("?Ru(w.substr(1,w.length-2)):Ru(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ba==1?Ru(d.substr(1,d.length-1)):d},set:function(w){w=w.toString(),d=this instanceof ba==1?"/"+Kp(w):w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,1)},set:function(w){w?this.Ff=Qn(this.Ff,1):this.Ff=Zn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,2)},set:function(w){w?this.Ff=Qn(this.Ff,2):this.Ff=Zn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,3)},set:function(w){w?this.Ff=Qn(this.Ff,3):this.Ff=Zn(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');_=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(_){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};Os(lo,Ao);var vf=function(){lo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ES(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,18)},set:function(r){r?this.Ff=Qn(this.Ff,18):this.Ff=Zn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Qn(this.Ff,19):this.Ff=Zn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,20)},set:function(r){r?(this.Ff=Qn(this.Ff,20),t.sort()):this.Ff=Zn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,22)},set:function(r){r?this.Ff=Qn(this.Ff,22):this.Ff=Zn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,23)},set:function(r){r?this.Ff=Qn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,27)},set:function(r){r?this.Ff=Qn(this.Ff,27):this.Ff=Zn(this.Ff,27)}}),this.hasAppearanceStream=!1};Os(vf,lo);var yf=function(){vf.call(this),this.fontName="helvetica",this.combo=!1};Os(yf,vf);var wf=function(){yf.call(this),this.combo=!0};Os(wf,yf);var ip=function(){wf.call(this),this.edit=!0};Os(ip,wf);var ba=function(){lo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,15)},set:function(r){r?this.Ff=Qn(this.Ff,15):this.Ff=Zn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,16)},set:function(r){r?this.Ff=Qn(this.Ff,16):this.Ff=Zn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,17)},set:function(r){r?this.Ff=Qn(this.Ff,17):this.Ff=Zn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,26)},set:function(r){r?this.Ff=Qn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+wu(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){tn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+Kp(r)}})};Os(ba,lo);var op=function(){ba.call(this),this.pushButton=!0};Os(op,ba);var bf=function(){ba.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Os(bf,ba);var Yp=function(){var e,t;lo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+wu(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){tn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Os(Yp,lo),bf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},bf.prototype.createOption=function(e){var t=new Yp;return t.Parent=this,t.optionName=e,this.Kids.push(t),QF.call(this.scope,t),t};var lp=function(){ba.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nr.CheckBox.createAppearanceStream()};Os(lp,ba);var nu=function(){lo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,13)},set:function(t){t?this.Ff=Qn(this.Ff,13):this.Ff=Zn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,21)},set:function(t){t?this.Ff=Qn(this.Ff,21):this.Ff=Zn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,23)},set:function(t){t?this.Ff=Qn(this.Ff,23):this.Ff=Zn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,24)},set:function(t){t?this.Ff=Qn(this.Ff,24):this.Ff=Zn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,25)},set:function(t){t?this.Ff=Qn(this.Ff,25):this.Ff=Zn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,26)},set:function(t){t?this.Ff=Qn(this.Ff,26):this.Ff=Zn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Os(nu,lo);var cp=function(){nu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,14)},set:function(e){e?this.Ff=Qn(this.Ff,14):this.Ff=Zn(this.Ff,14)}}),this.password=!0};Os(cp,nu);var nr={CheckBox:{createAppearanceStream:function(){return{N:{On:nr.CheckBox.YesNormal},D:{On:nr.CheckBox.YesPushDown,Off:nr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=wo(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=s2(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+_r(nr.internal.getWidth(e))+" "+_r(nr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+_r(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=wo(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=nr.internal.getHeight(e),o=nr.internal.getWidth(e),l=s2(e,e.caption);return a.push("1 g"),a.push("0 0 "+_r(o)+" "+_r(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+_r(o-1)+" "+_r(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+_r(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=wo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_r(nr.internal.getWidth(e))+" "+_r(nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:nr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=nr.RadioButton.Circle.YesNormal,t.D[e]=nr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=wo(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=nr.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Vl(nr.internal.getWidth(e)/2)+" "+Vl(nr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=wo(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*nr.internal.Bezier_C).toFixed(5)),o=Number((n*nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Vl(nr.internal.getWidth(e)/2)+" "+Vl(nr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Vl(nr.internal.getWidth(e)/2)+" "+Vl(nr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=wo(e);t.scope=e.scope;var r=[],n=nr.internal.getWidth(e)<=nr.internal.getHeight(e)?nr.internal.getWidth(e)/4:nr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*nr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Vl(nr.internal.getWidth(e)/2)+" "+Vl(nr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:nr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=nr.RadioButton.Cross.YesNormal,t.D[e]=nr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=wo(e);t.scope=e.scope;var r=[],n=nr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+_r(nr.internal.getWidth(e)-2)+" "+_r(nr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(_r(n.x1.x)+" "+_r(n.x1.y)+" m"),r.push(_r(n.x2.x)+" "+_r(n.x2.y)+" l"),r.push(_r(n.x4.x)+" "+_r(n.x4.y)+" m"),r.push(_r(n.x3.x)+" "+_r(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=wo(e);t.scope=e.scope;var r=nr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+_r(nr.internal.getWidth(e))+" "+_r(nr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+_r(nr.internal.getWidth(e)-2)+" "+_r(nr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(_r(r.x1.x)+" "+_r(r.x1.y)+" m"),n.push(_r(r.x2.x)+" "+_r(r.x2.y)+" l"),n.push(_r(r.x4.x)+" "+_r(r.x4.y)+" m"),n.push(_r(r.x3.x)+" "+_r(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=wo(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_r(nr.internal.getWidth(e))+" "+_r(nr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};nr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=nr.internal.getWidth(e),r=nr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},nr.internal.getWidth=function(e){var t=0;return tn(e)==="object"&&(t=nb(e.Rect[2])),t},nr.internal.getHeight=function(e){var t=0;return tn(e)==="object"&&(t=nb(e.Rect[3])),t};var QF=zn.addField=function(e){if(JF(this,e),!(e instanceof lo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};zn.AcroFormChoiceField=vf,zn.AcroFormListBox=yf,zn.AcroFormComboBox=wf,zn.AcroFormEditBox=ip,zn.AcroFormButton=ba,zn.AcroFormPushButton=op,zn.AcroFormRadioButton=bf,zn.AcroFormCheckBox=lp,zn.AcroFormTextField=nu,zn.AcroFormPasswordField=cp,zn.AcroFormAppearance=nr,zn.AcroForm={ChoiceField:vf,ListBox:yf,ComboBox:wf,EditBox:ip,Button:ba,PushButton:op,RadioButton:bf,CheckBox:lp,TextField:nu,PasswordField:cp,Appearance:nr},Yt.AcroForm={ChoiceField:vf,ListBox:yf,ComboBox:wf,EditBox:ip,Button:ba,PushButton:op,RadioButton:bf,CheckBox:lp,TextField:nu,PasswordField:cp,Appearance:nr};Yt.AcroForm;function TS(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(P,B){var z,te,de,X,W,M=r;if((B=B||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(se(P))for(W in n)for(de=n[W],z=0;z<de.length;z+=1){for(X=!0,te=0;te<de[z].length;te+=1)if(de[z][te]!==void 0&&de[z][te]!==P[te]){X=!1;break}if(X===!0){M=W;break}}else for(W in n)for(de=n[W],z=0;z<de.length;z+=1){for(X=!0,te=0;te<de[z].length;te+=1)if(de[z][te]!==void 0&&de[z][te]!==P.charCodeAt(te)){X=!1;break}if(X===!0){M=W;break}}return M===r&&B!==r&&(M=B),M},s=function P(B){for(var z=this.internal.write,te=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:B.width}),X.push({key:"Height",value:B.height}),B.colorSpace===w.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===w.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)&&B.transparency.length>0){for(var W="",M=0,he=B.transparency.length;M<he;M++)W+=B.transparency[M]+" "+B.transparency[M]+" ";X.push({key:"Mask",value:"["+W+"]"})}B.sMask!==void 0&&X.push({key:"SMask",value:B.objectId+1+" 0 R"});var Se=B.filter!==void 0?["/"+B.filter]:void 0;if(te({data:B.data,additionalKeyValues:X,alreadyAppliedFilters:Se,objectId:B.objectId}),z("endobj"),"sMask"in B&&B.sMask!==void 0){var le,A=(le=B.sMaskBitsPerComponent)!==null&&le!==void 0?le:B.bitsPerComponent,H={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:A,data:B.sMask};"filter"in B&&(H.decodeParameters="/Predictor ".concat(B.predictor," /Colors 1 /BitsPerComponent ").concat(A," /Columns ").concat(B.width),H.filter=B.filter),P.call(this,H)}if(B.colorSpace===w.INDEXED){var D=this.internal.newObject();te({data:k(new Uint8Array(B.palette)),objectId:D}),z("endobj")}},o=function(){var P=this.internal.collections[t+"images"];for(var B in P)s.call(this,P[B])},l=function(){var P,B=this.internal.collections[t+"images"],z=this.internal.write;for(var te in B)z("/I"+(P=B[te]).index,P.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var P=this.internal.collections[t+"images"];return c.call(this),P},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(P){return typeof e["process"+P.toUpperCase()]=="function"},g=function(P){return tn(P)==="object"&&P.nodeType===1},d=function(P,B){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var z=""+P.getAttribute("src");if(z.indexOf("data:image/")===0)return sp(unescape(z).split("base64,").pop());var te=e.loadFile(z,!0);if(te!==void 0)return te}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var de;switch(B){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;default:de="image/jpeg"}return sp(P.toDataURL(de,1).split("base64,").pop())}},y=function(P){var B=this.internal.collections[t+"images"];if(B){for(var z in B)if(P===B[z].alias)return B[z]}},x=function(P,B,z){return P||B||(P=-96,B=-96),P<0&&(P=-1*z.width*72/P/this.internal.scaleFactor),B<0&&(B=-1*z.height*72/B/this.internal.scaleFactor),P===0&&(P=B*z.width/z.height),B===0&&(B=P*z.height/z.width),[P,B]},_=function(P,B,z,te,de,X){var W=x.call(this,z,te,de),M=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,Se=u.call(this);if(z=W[0],te=W[1],Se[de.index]=de,X){X*=Math.PI/180;var le=Math.cos(X),A=Math.sin(X),H=function(I){return I.toFixed(4)},D=[H(le),H(A),H(-1*A),H(le),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,M(P),he(B+te),"cm"].join(" ")),this.internal.write(D.join(" ")),this.internal.write([M(z),"0","0",M(te),"0","0","cm"].join(" "))):this.internal.write([M(z),"0","0",M(te),M(P),he(B+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(P){var B,z,te=0;if(typeof P=="string")for(z=P.length,B=0;B<z;B++)te=(te<<5)-te+P.charCodeAt(B),te|=0;else if(se(P))for(z=P.byteLength/2,B=0;B<z;B++)te=(te<<5)-te+P[B],te|=0;return te},T=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var B=!0;return P.length===0&&(B=!1),P.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(B=!1),B},q=e.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var B=P.indexOf(",");return B<0?null:P.substring(0,B).trim().endsWith("base64")?P.substring(B+1):null};e.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var se=e.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},L=e.__addimage__.binaryStringToUint8Array=function(P){for(var B=P.length,z=new Uint8Array(B),te=0;te<B;te++)z[te]=P.charCodeAt(te);return z},k=e.__addimage__.arrayBufferToBinaryString=function(P){for(var B="",z=se(P)?P:new Uint8Array(P),te=0;te<z.length;te+=8192)B+=String.fromCharCode.apply(null,z.subarray(te,te+8192));return B};e.addImage=function(){var P,B,z,te,de,X,W,M,he;if(typeof arguments[1]=="number"?(B=r,z=arguments[1],te=arguments[2],de=arguments[3],X=arguments[4],W=arguments[5],M=arguments[6],he=arguments[7]):(B=arguments[1],z=arguments[2],te=arguments[3],de=arguments[4],X=arguments[5],W=arguments[6],M=arguments[7],he=arguments[8]),tn(P=arguments[0])==="object"&&!g(P)&&"imageData"in P){var Se=P;P=Se.imageData,B=Se.format||B||r,z=Se.x||z||0,te=Se.y||te||0,de=Se.w||Se.width||de,X=Se.h||Se.height||X,W=Se.alias||W,M=Se.compression||M,he=Se.rotation||Se.angle||he}var le=this.internal.getFilters();if(M===void 0&&le.indexOf("FlateEncode")!==-1&&(M="SLOW"),isNaN(z)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var A=R.call(this,P,B,W,M);return _.call(this,z,te,de,X,A,he),this};var R=function(P,B,z,te){var de,X,W;if(typeof P=="string"&&a(P)===r){P=unescape(P);var M=Y(P,!1);(M!==""||(M=e.loadFile(P,!0))!==void 0)&&(P=M)}if(g(P)&&(P=d(P,B)),B=a(P,B),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((W=z)==null||W.length===0)&&(z=function(he){return typeof he=="string"||se(he)?j(he):se(he.data)?j(he.data):null}(P)),(de=y.call(this,z))||(P instanceof Uint8Array||B==="RGBA"||(X=P,P=L(P)),de=this["process"+B.toUpperCase()](P,f.call(this),z,function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in e.image_compression?he:S.NONE}(te),X)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},Y=e.__addimage__.convertBase64ToBinaryString=function(P,B){B=typeof B!="boolean"||B;var z,te="";if(typeof P=="string"){var de;z=(de=q(P))!==null&&de!==void 0?de:P;try{te=sp(z)}catch(X){if(B)throw T(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};e.getImageProperties=function(P){var B,z,te="";if(g(P)&&(P=d(P)),typeof P=="string"&&a(P)===r&&((te=Y(P,!1))===""&&(te=e.loadFile(P)||""),P=te),z=a(P),!p(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(P instanceof Uint8Array||(P=L(P)),!(B=this["process"+z.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=z,B}})(Yt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Yt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,p=0;p<u.length&&!f;p++)switch((n=u[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var d=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),S=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+d(w(n.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+d(w(S))+") >>",x.content=s;var j=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(x.objId,"0 R",_.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+d(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var q=this.annotations._nameMap[n.options.name];n.options.pageNumber=q.page,n.options.top=q.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+d(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var se=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+se+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,a,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(u*f)}else l=c,o=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,o,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Yt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&a.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(x){var _=0,w=r,S="",j=0;for(_=0;_<x.length;_+=1)w[x.charCodeAt(_)]!==void 0?(j++,typeof(w=w[x.charCodeAt(_)])=="number"&&(S+=String.fromCharCode(w),w=r,j=0),_===x.length-1&&(w=r,S+=x.charAt(_-(j-1)),_-=j-1,j=0)):(w=r,S+=x.charAt(_-j),_-=j,j=0);return S};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(x,_,w){return o(x)?s(x)===!1?-1:!u(x)||!o(_)&&!o(w)||!o(w)&&l(_)||l(x)&&!o(_)||l(x)&&c(_)||l(x)&&l(_)?0:f(x)&&o(_)&&!l(_)&&o(w)&&u(w)?3:l(x)||!o(w)?1:2:-1},d=function(x){var _=0,w=0,S=0,j="",T="",q="",se=(x=x||"").split("\\s+"),L=[];for(_=0;_<se.length;_+=1){for(L.push(""),w=0;w<se[_].length;w+=1)j=se[_][w],T=se[_][w-1],q=se[_][w+1],o(j)?(S=g(j,T,q),L[_]+=S!==-1?String.fromCharCode(t[j.charCodeAt(0)][S]):j):L[_]+=j;L[_]=p(L[_])}return L.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var x,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(_)){var S=0;for(w=[],S=0;S<_.length;S+=1)Array.isArray(_[S])?w.push([d(_[S][0]),_[S][1],_[S][2]]):w.push([d(_[S])]);x=w}else x=d(_);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",y])}(Yt.API),Yt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Yt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(x){y=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,d=0,y=0,x=0,_=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=u.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,T){return j.concat(_.splitTextToSize(T,w))},[])):c=Array.isArray(c)?c:[c];for(var S=0;S<c.length;S++)d<(x=this.getStringUnitWidth(c[S],{font:p})*f)&&(d=x);return d!==0&&(y=c.length),{w:d/=g,h:Math.max((y*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,d&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,f,p,g){if(n.call(this),!f)throw new Error("No data for PDF table.");var d,y,x,_,w=[],S=[],j=[],T={},q={},se=[],L=[],k=(g=g||{}).autoSize||!1,R=g.printHeaders!==!1,Y=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,P=g.margins||Object.assign({width:this.getPageWidth()},t),B=typeof g.padding=="number"?g.padding:3,z=g.headerBackgroundColor||"#c8c8c8",te=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=Y,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=te,this.setFontSize(Y),p==null)S=w=Object.keys(f[0]),j=w.map(function(){return"left"});else if(Array.isArray(p)&&tn(p[0])==="object")for(w=p.map(function(Se){return Se.name}),S=p.map(function(Se){return Se.prompt||Se.name||""}),j=p.map(function(Se){return Se.align||"left"}),d=0;d<p.length;d+=1)q[p[d].name]=.7499990551181103*p[d].width;else Array.isArray(p)&&typeof p[0]=="string"&&(S=w=p,j=w.map(function(){return"left"}));if(k||Array.isArray(p)&&typeof p[0]=="string")for(d=0;d<w.length;d+=1){for(T[_=w[d]]=f.map(function(Se){return Se[_]}),this.setFont(void 0,"bold"),se.push(this.getTextDimensions(S[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=T[_],this.setFont(void 0,"normal"),x=0;x<y.length;x+=1)se.push(this.getTextDimensions(y[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[_]=Math.max.apply(null,se)+B+B,se=[]}if(R){var de={};for(d=0;d<w.length;d+=1)de[w[d]]={},de[w[d]].text=S[d],de[w[d]].align=j[d];var X=l.call(this,de,q);L=w.map(function(Se){return new s(c,u,q[Se],X,de[Se].text,void 0,de[Se].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var W=p.reduce(function(Se,le){return Se[le.name]=le.align,Se},{});for(d=0;d<f.length;d+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:d,data:f[d]},this);var M=l.call(this,f[d],q);for(x=0;x<w.length;x+=1){var he=f[d][w[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:d,col:x,data:he},this),o.call(this,new s(c,u,q[w[x]],M,he,d+2,W[w[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(d){var y=c[d];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[d]-f-f)},this).map(function(d){return this.getLineHeightFactor()*d.length*p/g+f+f},this).reduce(function(d,y){return Math.max(d,y)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){f=this.internal.__cell__.tableHeaderRow[d].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(Yt.API);var PS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},LS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],i2=TS(LS),FS=[100,200,300,400,500,600,700,800,900],ZF=TS(FS);function xg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return PS[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),a=function(s){return typeof i2[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function ab(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var eO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ib(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ob(e){return e.trimLeft()}function tO(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function rO(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Du,Eh,lb,cb,ub,vg=["times"];function fb(e,t,r,n,a){var s=4,o=hb;switch(a){case Yt.API.image_compression.FAST:s=1,o=db;break;case Yt.API.image_compression.MEDIUM:s=6,o=pb;break;case Yt.API.image_compression.SLOW:s=9,o=mb}e=function(c,u,f,p){for(var g,d=c.length/u,y=new Uint8Array(c.length+d),x=[nO,db,hb,pb,mb],_=0;_<d;_+=1){var w=_*u,S=c.subarray(w,w+u);if(p)y.set(p(S,f,g),w+_);else{for(var j=x.length,T=[],q=0;q<j;q+=1)T[q]=x[q](S,f,g);var se=sO(T.concat());y.set(T[se],w+_)}g=S}return y}(e,t,Math.ceil(r*n/8),o);var l=Zx(e,{level:s});return Yt.API.__addimage__.arrayBufferToBinaryString(l)}function nO(e){var t=Array.apply([],e);return t.unshift(0),t}function db(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=e[a-t]||0;n[a+1]=e[a]-s+256&255}return n}function hb(e,t,r){var n=e.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;a[s+1]=e[s]-o+256&255}return a}function pb(e,t,r){var n=e.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var o=e[s-t]||0,l=r&&r[s]||0;a[s+1]=e[s]+256-(o+l>>>1)&255}return a}function mb(e,t,r){var n=e.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var o=aO(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);a[s+1]=e[s]-o+256&255}return a}function aO(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=a&&n<=s?e:a<=s?t:r}function sO(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function yg(e,t,r){var n=t*r,a=Math.floor(n/8),s=16-(n-8*a+r),o=(1<<r)-1;return OS(e,a)>>s&o}function gb(e,t,r,n){var a=r*n,s=Math.floor(a/8),o=16-(a-8*s+n),l=(1<<n)-1,c=(t&l)<<o;(function(u,f,p){if(f+1<u.byteLength)u.setUint16(f,p,!1);else{var g=p>>8&255;u.setUint8(f,g)}})(e,s,OS(e,s)&~(l<<o)&65535|c)}function OS(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function iO(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var u=!0,f=[],p=0,g=null,d=0,y=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],1&x||(g=null),d=x>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var _=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,T=e[t++],q=T>>6&1,se=1<<1+(7&T),L=l,k=c,R=!1;T>>7&&(R=!0,L=t,k=se,t+=3*se);var Y=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}f.push({x:_,y:w,width:S,height:j,has_local_palette:R,palette_offset:L,palette_size:k,data_offset:Y,data_length:t-Y,transparent_index:g,interlaced:!!q,delay:p,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return y},this.frameInfo=function(B){if(B<0||B>=f.length)throw new Error("Frame index out of range.");return f[B]},this.decodeAndBlitFrameBGRA=function(B,z){var te=this.frameInfo(B),de=te.width*te.height,X=new Uint8Array(de);xb(e,te.data_offset,X,de);var W=te.palette_offset,M=te.transparent_index;M===null&&(M=256);var he=te.width,Se=r-he,le=he,A=4*(te.y*r+te.x),H=4*((te.y+te.height)*r+te.x),D=A,I=4*Se;te.interlaced===!0&&(I+=4*r*7);for(var ne=8,ge=0,Ee=X.length;ge<Ee;++ge){var xe=X[ge];if(le===0&&(le=he,(D+=I)>=H&&(I=4*Se+4*r*(ne-1),D=A+(he+Se)*(ne<<1),ne>>=1)),xe===M)D+=4;else{var Z=e[W+3*xe],Me=e[W+3*xe+1],Ve=e[W+3*xe+2];z[D++]=Ve,z[D++]=Me,z[D++]=Z,z[D++]=255}--le}},this.decodeAndBlitFrameRGBA=function(B,z){var te=this.frameInfo(B),de=te.width*te.height,X=new Uint8Array(de);xb(e,te.data_offset,X,de);var W=te.palette_offset,M=te.transparent_index;M===null&&(M=256);var he=te.width,Se=r-he,le=he,A=4*(te.y*r+te.x),H=4*((te.y+te.height)*r+te.x),D=A,I=4*Se;te.interlaced===!0&&(I+=4*r*7);for(var ne=8,ge=0,Ee=X.length;ge<Ee;++ge){var xe=X[ge];if(le===0&&(le=he,(D+=I)>=H&&(I=4*Se+4*r*(ne-1),D=A+(he+Se)*(ne<<1),ne>>=1)),xe===M)D+=4;else{var Z=e[W+3*xe],Me=e[W+3*xe+1],Ve=e[W+3*xe+2];z[D++]=Z,z[D++]=Me,z[D++]=Ve,z[D++]=255}--le}}}function xb(e,t,r,n){for(var a=e[t++],s=1<<a,o=s+1,l=o+1,c=a+1,u=(1<<c)-1,f=0,p=0,g=0,d=e[t++],y=new Int32Array(4096),x=null;;){for(;f<16&&d!==0;)p|=e[t++]<<f,f+=8,d===1?d=e[t++]:--d;if(f<c)break;var _=p&u;if(p>>=c,f-=c,_!==s){if(_===o)break;for(var w=_<l?_:x,S=0,j=w;j>s;)j=y[j]>>8,++S;var T=j;if(g+S+(w!==_?1:0)>n)return void dn.log("Warning, gif stream longer than expected.");r[g++]=T;var q=g+=S;for(w!==_&&(r[g++]=T),j=w;S--;)j=y[j],r[--q]=255&j,j>>=8;x!==null&&l<4096&&(y[l++]=x<<8|T,l>=u+1&&c<12&&(++c,u=u<<1|1)),x=_}else l=o+1,u=(1<<(c=a+1))-1,x=null}return g!==n&&dn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function wg(e){var t,r,n,a,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),p=new Array(65535),g=new Array(65535),d=new Array(64),y=new Array(64),x=[],_=0,w=7,S=new Array(64),j=new Array(64),T=new Array(64),q=new Array(256),se=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(A,H){for(var D=0,I=0,ne=new Array,ge=1;ge<=16;ge++){for(var Ee=1;Ee<=A[ge];Ee++)ne[H[I]]=[],ne[H[I]][0]=D,ne[H[I]][1]=ge,I++,D++;D*=2}return ne}function W(A){for(var H=A[0],D=A[1]-1;D>=0;)H&1<<D&&(_|=1<<w),D--,--w<0&&(_==255?(M(255),M(0)):M(_),w=7,_=0)}function M(A){x.push(A)}function he(A){M(A>>8&255),M(255&A)}function Se(A,H,D,I,ne){for(var ge,Ee=ne[0],xe=ne[240],Z=function(Fe,gt){var xt,Rt,Nt,je,jt,pe,Ze,pt,tt,Ct,bt=0;for(tt=0;tt<8;++tt){xt=Fe[bt],Rt=Fe[bt+1],Nt=Fe[bt+2],je=Fe[bt+3],jt=Fe[bt+4],pe=Fe[bt+5],Ze=Fe[bt+6];var wr=xt+(pt=Fe[bt+7]),Mt=xt-pt,Zt=Rt+Ze,sr=Rt-Ze,Tt=Nt+pe,Vt=Nt-pe,ir=je+jt,Xt=je-jt,at=wr+ir,Sr=wr-ir,pr=Zt+Tt,ar=Zt-Tt;Fe[bt]=at+pr,Fe[bt+4]=at-pr;var Ar=.707106781*(ar+Sr);Fe[bt+2]=Sr+Ar,Fe[bt+6]=Sr-Ar;var qn=.382683433*((at=Xt+Vt)-(ar=sr+Mt)),gr=.5411961*at+qn,Cn=1.306562965*ar+qn,un=.707106781*(pr=Vt+sr),mt=Mt+un,yr=Mt-un;Fe[bt+5]=yr+gr,Fe[bt+3]=yr-gr,Fe[bt+1]=mt+Cn,Fe[bt+7]=mt-Cn,bt+=8}for(bt=0,tt=0;tt<8;++tt){xt=Fe[bt],Rt=Fe[bt+8],Nt=Fe[bt+16],je=Fe[bt+24],jt=Fe[bt+32],pe=Fe[bt+40],Ze=Fe[bt+48];var Hr=xt+(pt=Fe[bt+56]),mr=xt-pt,Tr=Rt+Ze,on=Rt-Ze,yn=Nt+pe,Q=Nt-pe,we=je+jt,ce=je-jt,fe=Hr+we,ve=Hr-we,be=Tr+yn,qe=Tr-yn;Fe[bt]=fe+be,Fe[bt+32]=fe-be;var nt=.707106781*(qe+ve);Fe[bt+16]=ve+nt,Fe[bt+48]=ve-nt;var $e=.382683433*((fe=ce+Q)-(qe=on+mr)),Ke=.5411961*fe+$e,Ye=1.306562965*qe+$e,St=.707106781*(be=Q+on),Dt=mr+St,Lt=mr-St;Fe[bt+40]=Lt+Ke,Fe[bt+24]=Lt-Ke,Fe[bt+8]=Dt+Ye,Fe[bt+56]=Dt-Ye,bt++}for(tt=0;tt<64;++tt)Ct=Fe[tt]*gt[tt],d[tt]=Ct>0?Ct+.5|0:Ct-.5|0;return d}(A,H),Me=0;Me<64;++Me)y[L[Me]]=Z[Me];var Ve=y[0]-D;D=y[0],Ve==0?W(I[0]):(W(I[g[ge=32767+Ve]]),W(p[ge]));for(var it=63;it>0&&y[it]==0;)it--;if(it==0)return W(Ee),D;for(var dt,ae=1;ae<=it;){for(var Pe=ae;y[ae]==0&&ae<=it;)++ae;var et=ae-Pe;if(et>=16){dt=et>>4;for(var yt=1;yt<=dt;++yt)W(xe);et&=15}ge=32767+y[ae],W(ne[(et<<4)+g[ge]]),W(p[ge]),ae++}return it!=63&&W(Ee),D}function le(A){A=Math.min(Math.max(A,1),100),s!=A&&(function(H){for(var D=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],I=0;I<64;I++){var ne=o((D[I]*H+50)/100);ne=Math.min(Math.max(ne,1),255),l[L[I]]=ne}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var xe=o((ge[Ee]*H+50)/100);xe=Math.min(Math.max(xe,1),255),c[L[Ee]]=xe}for(var Z=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,Ve=0;Ve<8;Ve++)for(var it=0;it<8;it++)u[Me]=1/(l[L[Me]]*Z[Ve]*Z[it]*8),f[Me]=1/(c[L[Me]]*Z[Ve]*Z[it]*8),Me++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),s=A)}this.encode=function(A,H){H&&le(H),x=new Array,_=0,w=7,he(65496),he(65504),he(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),he(1),he(1),M(0),M(0),function(){he(65499),he(132),M(0);for(var Rt=0;Rt<64;Rt++)M(l[Rt]);M(1);for(var Nt=0;Nt<64;Nt++)M(c[Nt])}(),function(Rt,Nt){he(65472),he(17),M(8),he(Nt),he(Rt),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(A.width,A.height),function(){he(65476),he(418),M(0);for(var Rt=0;Rt<16;Rt++)M(k[Rt+1]);for(var Nt=0;Nt<=11;Nt++)M(R[Nt]);M(16);for(var je=0;je<16;je++)M(Y[je+1]);for(var jt=0;jt<=161;jt++)M(P[jt]);M(1);for(var pe=0;pe<16;pe++)M(B[pe+1]);for(var Ze=0;Ze<=11;Ze++)M(z[Ze]);M(17);for(var pt=0;pt<16;pt++)M(te[pt+1]);for(var tt=0;tt<=161;tt++)M(de[tt])}(),he(65498),he(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var D=0,I=0,ne=0;_=0,w=7,this.encode.displayName="_encode_";for(var ge,Ee,xe,Z,Me,Ve,it,dt,ae,Pe=A.data,et=A.width,yt=A.height,Fe=4*et,gt=0;gt<yt;){for(ge=0;ge<Fe;){for(Me=Fe*gt+ge,it=-1,dt=0,ae=0;ae<64;ae++)Ve=Me+(dt=ae>>3)*Fe+(it=4*(7&ae)),gt+dt>=yt&&(Ve-=Fe*(gt+1+dt-yt)),ge+it>=Fe&&(Ve-=ge+it-Fe+4),Ee=Pe[Ve++],xe=Pe[Ve++],Z=Pe[Ve++],S[ae]=(se[Ee]+se[xe+256|0]+se[Z+512|0]>>16)-128,j[ae]=(se[Ee+768|0]+se[xe+1024|0]+se[Z+1280|0]>>16)-128,T[ae]=(se[Ee+1280|0]+se[xe+1536|0]+se[Z+1792|0]>>16)-128;D=Se(S,u,D,t,n),I=Se(j,f,I,r,a),ne=Se(T,f,ne,r,a),ge+=32}gt+=8}if(w>=0){var xt=[];xt[1]=w+1,xt[0]=(1<<w+1)-1,W(xt)}return he(65497),new Uint8Array(x)},e=e||50,function(){for(var A=String.fromCharCode,H=0;H<256;H++)q[H]=A(H)}(),t=X(k,R),r=X(B,z),n=X(Y,P),a=X(te,de),function(){for(var A=1,H=2,D=1;D<=15;D++){for(var I=A;I<H;I++)g[32767+I]=D,p[32767+I]=[],p[32767+I][1]=D,p[32767+I][0]=I;for(var ne=-(H-1);ne<=-A;ne++)g[32767+ne]=D,p[32767+ne]=[],p[32767+ne][1]=D,p[32767+ne][0]=H-1+ne;A<<=1,H<<=1}}(),function(){for(var A=0;A<256;A++)se[A]=19595*A,se[A+256|0]=38470*A,se[A+512|0]=7471*A+32768,se[A+768|0]=-11059*A,se[A+1024|0]=-21709*A,se[A+1280|0]=32768*A+8421375,se[A+1536|0]=-27439*A,se[A+1792|0]=-5329*A}(),le(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function $i(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vb(e){function t(R){if(!R)throw Error("assert :P")}function r(R,Y,P){for(var B=0;4>B;B++)if(R[Y+B]!=P.charCodeAt(B))return!0;return!1}function n(R,Y,P,B,z){for(var te=0;te<z;te++)R[Y+te]=P[B+te]}function a(R,Y,P,B){for(var z=0;z<B;z++)R[Y+z]=P}function s(R){return new Int32Array(R)}function o(R,Y){for(var P=[],B=0;B<R;B++)P.push(new Y);return P}function l(R,Y){var P=[];return function B(z,te,de){for(var X=de[te],W=0;W<X&&(z.push(de.length>te+1?[]:new Y),!(de.length<te+1));W++)B(z[W],te+1,de)}(P,0,R),P}var c=function(){var R=this;function Y(h,v){for(var E=1<<v-1>>>0;h&E;)E>>>=1;return E?(h&E-1)+E:h}function P(h,v,E,O,K){t(!(O%E));do h[v+(O-=E)]=K;while(0<O)}function B(h,v,E,O,K){if(t(2328>=K),512>=K)var ee=s(512);else if((ee=s(K))==null)return 0;return function(re,ie,ue,_e,Ie,Qe){var Ne,Be,We=ie,ot=1<<ue,Xe=s(16),ft=s(16);for(t(Ie!=0),t(_e!=null),t(re!=null),t(0<ue),Be=0;Be<Ie;++Be){if(15<_e[Be])return 0;++Xe[_e[Be]]}if(Xe[0]==Ie)return 0;for(ft[1]=0,Ne=1;15>Ne;++Ne){if(Xe[Ne]>1<<Ne)return 0;ft[Ne+1]=ft[Ne]+Xe[Ne]}for(Be=0;Be<Ie;++Be)Ne=_e[Be],0<_e[Be]&&(Qe[ft[Ne]++]=Be);if(ft[15]==1)return(_e=new z).g=0,_e.value=Qe[0],P(re,We,1,ot,_e),ot;var ht,Pt=-1,_t=ot-1,cr=0,tr=1,Cr=1,or=1<<ue;for(Be=0,Ne=1,Ie=2;Ne<=ue;++Ne,Ie<<=1){if(tr+=Cr<<=1,0>(Cr-=Xe[Ne]))return 0;for(;0<Xe[Ne];--Xe[Ne])(_e=new z).g=Ne,_e.value=Qe[Be++],P(re,We+cr,Ie,or,_e),cr=Y(cr,Ne)}for(Ne=ue+1,Ie=2;15>=Ne;++Ne,Ie<<=1){if(tr+=Cr<<=1,0>(Cr-=Xe[Ne]))return 0;for(;0<Xe[Ne];--Xe[Ne]){if(_e=new z,(cr&_t)!=Pt){for(We+=or,ht=1<<(Pt=Ne)-ue;15>Pt&&!(0>=(ht-=Xe[Pt]));)++Pt,ht<<=1;ot+=or=1<<(ht=Pt-ue),re[ie+(Pt=cr&_t)].g=ht+ue,re[ie+Pt].value=We-ie-Pt}_e.g=Ne-ue,_e.value=Qe[Be++],P(re,We+(cr>>ue),Ie,or,_e),cr=Y(cr,Ne)}}return tr!=2*ft[15]-1?0:ot}(h,v,E,O,K,ee)}function z(){this.value=this.g=0}function te(){this.value=this.g=0}function de(){this.G=o(5,z),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(hi,te)}function X(h,v,E,O){t(h!=null),t(v!=null),t(2147483648>O),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=v,h.pa=E,h.Jd=v,h.Yc=E+O,h.Zc=4<=O?E+O-4+1:E,Ee(h)}function W(h,v){for(var E=0;0<v--;)E|=Z(h,128)<<v;return E}function M(h,v){var E=W(h,v);return xe(h)?-E:E}function he(h,v,E,O){var K,ee=0;for(t(h!=null),t(v!=null),t(4294967288>O),h.Sb=O,h.Ra=0,h.u=0,h.h=0,4<O&&(O=4),K=0;K<O;++K)ee+=v[E+K]<<8*K;h.Ra=ee,h.bb=O,h.oa=v,h.pa=E}function Se(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Hs-8>>>0,++h.bb,h.u-=8;I(h)&&(h.h=1,h.u=0)}function le(h,v){if(t(0<=v),!h.h&&v<=Mr){var E=D(h)&Fn[v];return h.u+=v,Se(h),E}return h.h=1,h.u=0}function A(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function D(h){return h.Ra>>>(h.u&Hs-1)>>>0}function I(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Hs}function ne(h,v){h.u=v,h.h=I(h)}function ge(h){h.u>=Wa&&(t(h.u>=Wa),Se(h))}function Ee(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function xe(h){return W(h,1)}function Z(h,v){var E=h.Ca;0>h.b&&Ee(h);var O=h.b,K=E*v>>>8,ee=(h.I>>>O>K)+0;for(ee?(E-=K,h.I-=K+1<<O>>>0):E=K+1,O=E,K=0;256<=O;)K+=8,O>>=8;return O=7^K+xo[O],h.b-=O,h.Ca=(E<<O)-1,ee}function Me(h,v,E){h[v+0]=E>>24&255,h[v+1]=E>>16&255,h[v+2]=E>>8&255,h[v+3]=255&E}function Ve(h,v){return h[v+0]|h[v+1]<<8}function it(h,v){return Ve(h,v)|h[v+2]<<16}function dt(h,v){return Ve(h,v)|Ve(h,v+2)<<16}function ae(h,v){var E=1<<v;return t(h!=null),t(0<v),h.X=s(E),h.X==null?0:(h.Mb=32-v,h.Xa=v,1)}function Pe(h,v){t(h!=null),t(v!=null),t(h.Xa==v.Xa),n(v.X,0,h.X,0,1<<v.Xa)}function et(){this.X=[],this.Xa=this.Mb=0}function yt(h,v,E,O){t(E!=null),t(O!=null);var K=E[0],ee=O[0];return K==0&&(K=(h*ee+v/2)/v),ee==0&&(ee=(v*K+h/2)/h),0>=K||0>=ee?0:(E[0]=K,O[0]=ee,1)}function Fe(h,v){return h+(1<<v)-1>>>v}function gt(h,v){return((4278255360&h)+(4278255360&v)>>>0&4278255360)+((16711935&h)+(16711935&v)>>>0&16711935)>>>0}function xt(h,v){R[v]=function(E,O,K,ee,re,ie,ue){var _e;for(_e=0;_e<re;++_e){var Ie=R[h](ie[ue+_e-1],K,ee+_e);ie[ue+_e]=gt(E[O+_e],Ie)}}}function Rt(){this.ud=this.hd=this.jd=0}function Nt(h,v){return((4278124286&(h^v))>>>1)+(h&v)>>>0}function je(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function jt(h,v){return je(h+(h-v+.5>>1))}function pe(h,v,E){return Math.abs(v-E)-Math.abs(h-E)}function Ze(h,v,E,O,K,ee,re){for(O=ee[re-1],E=0;E<K;++E)ee[re+E]=O=gt(h[v+E],O)}function pt(h,v,E,O,K){var ee;for(ee=0;ee<E;++ee){var re=h[v+ee],ie=re>>8&255,ue=16711935&(ue=(ue=16711935&re)+((ie<<16)+ie));O[K+ee]=(4278255360&re)+ue>>>0}}function tt(h,v){v.jd=255&h,v.hd=h>>8&255,v.ud=h>>16&255}function Ct(h,v,E,O,K,ee){var re;for(re=0;re<O;++re){var ie=v[E+re],ue=ie>>>8,_e=ie,Ie=255&(Ie=(Ie=ie>>>16)+((h.jd<<24>>24)*(ue<<24>>24)>>>5));_e=255&(_e=(_e+=(h.hd<<24>>24)*(ue<<24>>24)>>>5)+((h.ud<<24>>24)*(Ie<<24>>24)>>>5)),K[ee+re]=(4278255360&ie)+(Ie<<16)+_e}}function bt(h,v,E,O,K){R[v]=function(ee,re,ie,ue,_e,Ie,Qe,Ne,Be){for(ue=Qe;ue<Ne;++ue)for(Qe=0;Qe<Be;++Qe)_e[Ie++]=K(ie[O(ee[re++])])},R[h]=function(ee,re,ie,ue,_e,Ie,Qe){var Ne=8>>ee.b,Be=ee.Ea,We=ee.K[0],ot=ee.w;if(8>Ne)for(ee=(1<<ee.b)-1,ot=(1<<Ne)-1;re<ie;++re){var Xe,ft=0;for(Xe=0;Xe<Be;++Xe)Xe&ee||(ft=O(ue[_e++])),Ie[Qe++]=K(We[ft&ot]),ft>>=Ne}else R["VP8LMapColor"+E](ue,_e,We,ot,Ie,Qe,re,ie,Be)}}function wr(h,v,E,O,K){for(E=v+E;v<E;){var ee=h[v++];O[K++]=ee>>16&255,O[K++]=ee>>8&255,O[K++]=255&ee}}function Mt(h,v,E,O,K){for(E=v+E;v<E;){var ee=h[v++];O[K++]=ee>>16&255,O[K++]=ee>>8&255,O[K++]=255&ee,O[K++]=ee>>24&255}}function Zt(h,v,E,O,K){for(E=v+E;v<E;){var ee=(re=h[v++])>>16&240|re>>12&15,re=240&re|re>>28&15;O[K++]=ee,O[K++]=re}}function sr(h,v,E,O,K){for(E=v+E;v<E;){var ee=(re=h[v++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;O[K++]=ee,O[K++]=re}}function Tt(h,v,E,O,K){for(E=v+E;v<E;){var ee=h[v++];O[K++]=255&ee,O[K++]=ee>>8&255,O[K++]=ee>>16&255}}function Vt(h,v,E,O,K,ee){if(ee==0)for(E=v+E;v<E;)Me(O,((ee=h[v++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),K+=32;else n(O,K,h,v,E)}function ir(h,v){R[v][0]=R[h+"0"],R[v][1]=R[h+"1"],R[v][2]=R[h+"2"],R[v][3]=R[h+"3"],R[v][4]=R[h+"4"],R[v][5]=R[h+"5"],R[v][6]=R[h+"6"],R[v][7]=R[h+"7"],R[v][8]=R[h+"8"],R[v][9]=R[h+"9"],R[v][10]=R[h+"10"],R[v][11]=R[h+"11"],R[v][12]=R[h+"12"],R[v][13]=R[h+"13"],R[v][14]=R[h+"0"],R[v][15]=R[h+"0"]}function Xt(h){return h==r1||h==n1||h==W0||h==a1}function at(){this.eb=[],this.size=this.A=this.fb=0}function Sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new at,this.f.kb=new Sr,this.sd=null}function ar(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ar(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qn(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function gr(h,v){var E=h.T,O=v.ba.f.RGBA,K=O.eb,ee=O.fb+h.ka*O.A,re=gi[v.ba.S],ie=h.y,ue=h.O,_e=h.f,Ie=h.N,Qe=h.ea,Ne=h.W,Be=v.cc,We=v.dc,ot=v.Mc,Xe=v.Nc,ft=h.ka,ht=h.ka+h.T,Pt=h.U,_t=Pt+1>>1;for(ft==0?re(ie,ue,null,null,_e,Ie,Qe,Ne,_e,Ie,Qe,Ne,K,ee,null,null,Pt):(re(v.ec,v.fc,ie,ue,Be,We,ot,Xe,_e,Ie,Qe,Ne,K,ee-O.A,K,ee,Pt),++E);ft+2<ht;ft+=2)Be=_e,We=Ie,ot=Qe,Xe=Ne,Ie+=h.Rc,Ne+=h.Rc,ee+=2*O.A,re(ie,(ue+=2*h.fa)-h.fa,ie,ue,Be,We,ot,Xe,_e,Ie,Qe,Ne,K,ee-O.A,K,ee,Pt);return ue+=h.fa,h.j+ht<h.o?(n(v.ec,v.fc,ie,ue,Pt),n(v.cc,v.dc,_e,Ie,_t),n(v.Mc,v.Nc,Qe,Ne,_t),E--):1&ht||re(ie,ue,null,null,_e,Ie,Qe,Ne,_e,Ie,Qe,Ne,K,ee+O.A,null,null,Pt),E}function Cn(h,v,E){var O=h.F,K=[h.J];if(O!=null){var ee=h.U,re=v.ba.S,ie=re==$0||re==W0;v=v.ba.f.RGBA;var ue=[0],_e=h.ka;ue[0]=h.T,h.Kb&&(_e==0?--ue[0]:(--_e,K[0]-=h.width),h.j+h.ka+h.T==h.o&&(ue[0]=h.o-h.j-_e));var Ie=v.eb;_e=v.fb+_e*v.A,h=Jt(O,K[0],h.width,ee,ue,Ie,_e+(ie?0:3),v.A),t(E==ue),h&&Xt(re)&&Wt(Ie,_e,ie,ee,ue,v.A)}return 0}function un(h){var v=h.ma,E=v.ba.S,O=11>E,K=E==z0||E==H0||E==$0||E==t1||E==12||Xt(E);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Bc(v.Oa,h,K?11:12))return 0;if(K&&Xt(E)&&Ll(),h.da)alert("todo:use_scaling");else{if(O){if(v.Ib=qn,h.Kb){if(E=h.U+1>>1,v.memory=s(h.U+2*E),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+h.U,v.Mc=v.cc,v.Nc=v.dc+E,v.Ib=gr,Ll()}}else alert("todo:EmitYUV");K&&(v.Jb=Cn,O&&$a())}if(O&&!ey){for(h=0;256>h;++h)r8[h]=89858*(h-128)+V0>>q0,s8[h]=-22014*(h-128)+V0,a8[h]=-45773*(h-128),n8[h]=113618*(h-128)+V0>>q0;for(h=ed;h<o1;++h)v=76283*(h-16)+V0>>q0,i8[h-ed]=ur(v,255),o8[h-ed]=ur(v+8>>4,15);ey=1}return 1}function mt(h){var v=h.ma,E=h.U,O=h.T;return t(!(1&h.ka)),0>=E||0>=O?0:(E=v.Ib(h,v),v.Jb!=null&&v.Jb(h,v,E),v.Dc+=E,1)}function yr(h){h.ma.memory=null}function Hr(h,v,E,O){return le(h,8)!=47?0:(v[0]=le(h,14)+1,E[0]=le(h,14)+1,O[0]=le(h,1),le(h,3)!=0?0:!h.h)}function mr(h,v){if(4>h)return h+1;var E=h-2>>1;return(2+(1&h)<<E)+le(v,E)+1}function Tr(h,v){return 120<v?v-120:1<=(E=((E=H6[v-1])>>4)*h+(8-(15&E)))?E:1;var E}function on(h,v,E){var O=D(E),K=h[v+=255&O].g-8;return 0<K&&(ne(E,E.u+8),O=D(E),v+=h[v].value,v+=O&(1<<K)-1),ne(E,E.u+h[v].g),h[v].value}function yn(h,v,E){return E.g+=h.g,E.value+=h.value<<v>>>0,t(8>=E.g),h.g}function Q(h,v,E){var O=h.xc;return t((v=O==0?0:h.vc[h.md*(E>>O)+(v>>O)])<h.Wb),h.Ya[v]}function we(h,v,E,O){var K=h.ab,ee=h.c*v,re=h.C;v=re+v;var ie=E,ue=O;for(O=h.Ta,E=h.Ua;0<K--;){var _e=h.gc[K],Ie=re,Qe=v,Ne=ie,Be=ue,We=(ue=O,ie=E,_e.Ea);switch(t(Ie<Qe),t(Qe<=_e.nc),_e.hc){case 2:Yr(Ne,Be,(Qe-Ie)*We,ue,ie);break;case 0:var ot=Ie,Xe=Qe,ft=ue,ht=ie,Pt=(or=_e).Ea;ot==0&&(Xo(Ne,Be,null,null,1,ft,ht),Ze(Ne,Be+1,0,0,Pt-1,ft,ht+1),Be+=Pt,ht+=Pt,++ot);for(var _t=1<<or.b,cr=_t-1,tr=Fe(Pt,or.b),Cr=or.K,or=or.w+(ot>>or.b)*tr;ot<Xe;){var Ur=Cr,la=or,kr=1;for(Jo(Ne,Be,ft,ht-Pt,1,ft,ht);kr<Pt;){var lr=(kr&~cr)+_t;lr>Pt&&(lr=Pt),(0,m[Ur[la++]>>8&15])(Ne,Be+ +kr,ft,ht+kr-Pt,lr-kr,ft,ht+kr),kr=lr}Be+=Pt,ht+=Pt,++ot&cr||(or+=tr)}Qe!=_e.nc&&n(ue,ie-We,ue,ie+(Qe-Ie-1)*We,We);break;case 1:for(We=Ne,Xe=Be,Pt=(Ne=_e.Ea)-(ht=Ne&~(ft=(Be=1<<_e.b)-1)),ot=Fe(Ne,_e.b),_t=_e.K,_e=_e.w+(Ie>>_e.b)*ot;Ie<Qe;){for(cr=_t,tr=_e,Cr=new Rt,or=Xe+ht,Ur=Xe+Ne;Xe<or;)tt(cr[tr++],Cr),b(Cr,We,Xe,Be,ue,ie),Xe+=Be,ie+=Be;Xe<Ur&&(tt(cr[tr++],Cr),b(Cr,We,Xe,Pt,ue,ie),Xe+=Pt,ie+=Pt),++Ie&ft||(_e+=ot)}break;case 3:if(Ne==ue&&Be==ie&&0<_e.b){for(Xe=ue,Ne=We=ie+(Qe-Ie)*We-(ht=(Qe-Ie)*Fe(_e.Ea,_e.b)),Be=ue,ft=ie,ot=[],ht=(Pt=ht)-1;0<=ht;--ht)ot[ht]=Be[ft+ht];for(ht=Pt-1;0<=ht;--ht)Xe[Ne+ht]=ot[ht];Dl(_e,Ie,Qe,ue,We,ue,ie)}else Dl(_e,Ie,Qe,Ne,Be,ue,ie)}ie=O,ue=E}ue!=E&&n(O,E,ie,ue,ee)}function ce(h,v){var E=h.V,O=h.Ba+h.c*h.C,K=v-h.C;if(t(v<=h.l.o),t(16>=K),0<K){var ee=h.l,re=h.Ta,ie=h.Ua,ue=ee.width;if(we(h,K,E,O),K=ie=[ie],t((E=h.C)<(O=v)),t(ee.v<ee.va),O>ee.o&&(O=ee.o),E<ee.j){var _e=ee.j-E;E=ee.j,K[0]+=_e*ue}if(E>=O?E=0:(K[0]+=4*ee.v,ee.ka=E-ee.j,ee.U=ee.va-ee.v,ee.T=O-E,E=1),E){if(ie=ie[0],11>(E=h.ca).S){var Ie=E.f.RGBA,Qe=(O=E.S,K=ee.U,ee=ee.T,_e=Ie.eb,Ie.A),Ne=ee;for(Ie=Ie.fb+h.Ma*Ie.A;0<Ne--;){var Be=re,We=ie,ot=K,Xe=_e,ft=Ie;switch(O){case U0:C(Be,We,ot,Xe,ft);break;case z0:F(Be,We,ot,Xe,ft);break;case r1:F(Be,We,ot,Xe,ft),Wt(Xe,ft,0,ot,1,0);break;case qv:oe(Be,We,ot,Xe,ft);break;case H0:Vt(Be,We,ot,Xe,ft,1);break;case n1:Vt(Be,We,ot,Xe,ft,1),Wt(Xe,ft,0,ot,1,0);break;case $0:Vt(Be,We,ot,Xe,ft,0);break;case W0:Vt(Be,We,ot,Xe,ft,0),Wt(Xe,ft,1,ot,1,0);break;case t1:U(Be,We,ot,Xe,ft);break;case a1:U(Be,We,ot,Xe,ft),Ot(Xe,ft,ot,1,0);break;case Vv:J(Be,We,ot,Xe,ft);break;default:t(0)}ie+=ue,Ie+=Qe}h.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=E.height)}}h.C=v,t(h.C<=h.i)}function fe(h){var v;if(0<h.ua)return 0;for(v=0;v<h.Wb;++v){var E=h.Ya[v].G,O=h.Ya[v].H;if(0<E[1][O[1]+0].g||0<E[2][O[2]+0].g||0<E[3][O[3]+0].g)return 0}return 1}function ve(h,v,E,O,K,ee){if(h.Z!=0){var re=h.qd,ie=h.rd;for(t(Bl[h.Z]!=null);v<E;++v)Bl[h.Z](re,ie,O,K,O,K,ee),re=O,ie=K,K+=ee;h.qd=re,h.rd=ie}}function be(h,v){var E=h.l.ma,O=E.Z==0||E.Z==1?h.l.j:h.C;if(O=h.C<O?O:h.C,t(v<=h.l.o),v>O){var K=h.l.width,ee=E.ca,re=E.tb+K*O,ie=h.V,ue=h.Ba+h.c*O,_e=h.gc;t(h.ab==1),t(_e[0].hc==3),oa(_e[0],O,v,ie,ue,ee,re),ve(E,O,v,ee,re,K)}h.C=h.Ma=v}function qe(h,v,E,O,K,ee,re){var ie=h.$/O,ue=h.$%O,_e=h.m,Ie=h.s,Qe=E+h.$,Ne=Qe;K=E+O*K;var Be=E+O*ee,We=280+Ie.ua,ot=h.Pb?ie:16777216,Xe=0<Ie.ua?Ie.Wa:null,ft=Ie.wc,ht=Qe<Be?Q(Ie,ue,ie):null;t(h.C<ee),t(Be<=K);var Pt=!1;e:for(;;){for(;Pt||Qe<Be;){var _t=0;if(ie>=ot){var cr=Qe-E;t((ot=h).Pb),ot.wd=ot.m,ot.xd=cr,0<ot.s.ua&&Pe(ot.s.Wa,ot.s.vb),ot=ie+W6}if(ue&ft||(ht=Q(Ie,ue,ie)),t(ht!=null),ht.Qb&&(v[Qe]=ht.qb,Pt=!0),!Pt)if(ge(_e),ht.jc){_t=_e,cr=v;var tr=Qe,Cr=ht.pd[D(_t)&hi-1];t(ht.jc),256>Cr.g?(ne(_t,_t.u+Cr.g),cr[tr]=Cr.value,_t=0):(ne(_t,_t.u+Cr.g-256),t(256<=Cr.value),_t=Cr.value),_t==0&&(Pt=!0)}else _t=on(ht.G[0],ht.H[0],_e);if(_e.h)break;if(Pt||256>_t){if(!Pt)if(ht.nd)v[Qe]=(ht.qb|_t<<8)>>>0;else{if(ge(_e),Pt=on(ht.G[1],ht.H[1],_e),ge(_e),cr=on(ht.G[2],ht.H[2],_e),tr=on(ht.G[3],ht.H[3],_e),_e.h)break;v[Qe]=(tr<<24|Pt<<16|_t<<8|cr)>>>0}if(Pt=!1,++Qe,++ue>=O&&(ue=0,++ie,re!=null&&ie<=ee&&!(ie%16)&&re(h,ie),Xe!=null))for(;Ne<Qe;)_t=v[Ne++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t}else if(280>_t){if(_t=mr(_t-256,_e),cr=on(ht.G[4],ht.H[4],_e),ge(_e),cr=Tr(O,cr=mr(cr,_e)),_e.h)break;if(Qe-E<cr||K-Qe<_t)break e;for(tr=0;tr<_t;++tr)v[Qe+tr]=v[Qe+tr-cr];for(Qe+=_t,ue+=_t;ue>=O;)ue-=O,++ie,re!=null&&ie<=ee&&!(ie%16)&&re(h,ie);if(t(Qe<=K),ue&ft&&(ht=Q(Ie,ue,ie)),Xe!=null)for(;Ne<Qe;)_t=v[Ne++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t}else{if(!(_t<We))break e;for(Pt=_t-280,t(Xe!=null);Ne<Qe;)_t=v[Ne++],Xe.X[(506832829*_t&4294967295)>>>Xe.Mb]=_t;_t=Qe,t(!(Pt>>>(cr=Xe).Xa)),v[_t]=cr.X[Pt],Pt=!0}Pt||t(_e.h==I(_e))}if(h.Pb&&_e.h&&Qe<K)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Pe(h.s.vb,h.s.Wa);else{if(_e.h)break e;re!=null&&re(h,ie>ee?ee:ie),h.a=0,h.$=Qe-E}return 1}return h.a=3,0}function nt(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var v=h.Wa;v!=null&&(v.X=null),h.vb=null,t(h!=null)}function $e(){var h=new dr;return h==null?null:(h.a=0,h.xb=Yv,ir("Predictor","VP8LPredictors"),ir("Predictor","VP8LPredictors_C"),ir("PredictorAdd","VP8LPredictorsAdd"),ir("PredictorAdd","VP8LPredictorsAdd_C"),Yr=pt,b=Ct,C=wr,F=Mt,U=Zt,J=sr,oe=Tt,R.VP8LMapColor32b=Ca,R.VP8LMapColor8b=Il,h)}function Ke(h,v,E,O,K){var ee=1,re=[h],ie=[v],ue=O.m,_e=O.s,Ie=null,Qe=0;e:for(;;){if(E)for(;ee&&le(ue,1);){var Ne=re,Be=ie,We=O,ot=1,Xe=We.m,ft=We.gc[We.ab],ht=le(Xe,2);if(We.Oc&1<<ht)ee=0;else{switch(We.Oc|=1<<ht,ft.hc=ht,ft.Ea=Ne[0],ft.nc=Be[0],ft.K=[null],++We.ab,t(4>=We.ab),ht){case 0:case 1:ft.b=le(Xe,3)+2,ot=Ke(Fe(ft.Ea,ft.b),Fe(ft.nc,ft.b),0,We,ft.K),ft.K=ft.K[0];break;case 3:var Pt,_t=le(Xe,8)+1,cr=16<_t?0:4<_t?1:2<_t?2:3;if(Ne[0]=Fe(ft.Ea,cr),ft.b=cr,Pt=ot=Ke(_t,1,0,We,ft.K)){var tr,Cr=_t,or=ft,Ur=1<<(8>>or.b),la=s(Ur);if(la==null)Pt=0;else{var kr=or.K[0],lr=or.w;for(la[0]=or.K[0][0],tr=1;tr<1*Cr;++tr)la[tr]=gt(kr[lr+tr],la[tr-1]);for(;tr<4*Ur;++tr)la[tr]=0;or.K[0]=null,or.K[0]=la,Pt=1}}ot=Pt;break;case 2:break;default:t(0)}ee=ot}}if(re=re[0],ie=ie[0],ee&&le(ue,1)&&!(ee=1<=(Qe=le(ue,4))&&11>=Qe)){O.a=3;break e}var qt;if(qt=ee)t:{var Kn,Nr,zr,_n=O,Ta=re,ls=ie,Bn=Qe,qa=E,cs=_n.m,ca=_n.s,$r=[null],Xr=1,Un=0,Jr=$6[Bn];r:for(;;){if(qa&&le(cs,1)){var Pa=le(cs,3)+2,Ui=Fe(Ta,Pa),Yn=Fe(ls,Pa),_s=Ui*Yn;if(!Ke(Ui,Yn,0,_n,$r))break r;for($r=$r[0],ca.xc=Pa,Kn=0;Kn<_s;++Kn){var fn=$r[Kn]>>8&65535;$r[Kn]=fn,fn>=Xr&&(Xr=fn+1)}}if(cs.h)break r;for(Nr=0;5>Nr;++Nr){var ua=Gv[Nr];!Nr&&0<Bn&&(ua+=1<<Bn),Un<ua&&(Un=ua)}var $s=o(Xr*Jr,z),us=Xr,Ws=o(us,de);if(Ws==null)var qs=null;else t(65536>=us),qs=Ws;var Ns=s(Un);if(qs==null||Ns==null||$s==null){_n.a=1;break r}var Vs=$s;for(Kn=zr=0;Kn<Xr;++Kn){var xn=qs[Kn],Gs=xn.G,zi=xn.H,zc=0,Zo=1,La=0;for(Nr=0;5>Nr;++Nr){ua=Gv[Nr],Gs[Nr]=Vs,zi[Nr]=zr,!Nr&&0<Bn&&(ua+=1<<Bn);a:{var K0,l1=ua,Y0=_n,td=Ns,u8=Vs,f8=zr,c1=0,Ul=Y0.m,d8=le(Ul,1);if(a(td,0,0,l1),d8){var h8=le(Ul,1)+1,p8=le(Ul,1),ny=le(Ul,p8==0?1:8);td[ny]=1,h8==2&&(td[ny=le(Ul,8)]=1);var X0=1}else{var ay=s(19),sy=le(Ul,4)+4;if(19<sy){Y0.a=3;var J0=0;break a}for(K0=0;K0<sy;++K0)ay[z6[K0]]=le(Ul,3);var u1=void 0,rd=void 0,iy=Y0,m8=ay,Q0=l1,oy=td,f1=0,zl=iy.m,ly=8,cy=o(128,z);n:for(;B(cy,0,7,m8,19);){if(le(zl,1)){var g8=2+2*le(zl,3);if((u1=2+le(zl,g8))>Q0)break n}else u1=Q0;for(rd=0;rd<Q0&&u1--;){ge(zl);var uy=cy[0+(127&D(zl))];ne(zl,zl.u+uy.g);var Lu=uy.value;if(16>Lu)oy[rd++]=Lu,Lu!=0&&(ly=Lu);else{var x8=Lu==16,fy=Lu-16,v8=B6[fy],dy=le(zl,M6[fy])+v8;if(rd+dy>Q0)break n;for(var y8=x8?ly:0;0<dy--;)oy[rd++]=y8}}f1=1;break n}f1||(iy.a=3),X0=f1}(X0=X0&&!Ul.h)&&(c1=B(u8,f8,8,td,l1)),X0&&c1!=0?J0=c1:(Y0.a=3,J0=0)}if(J0==0)break r;if(Zo&&U6[Nr]==1&&(Zo=Vs[zr].g==0),zc+=Vs[zr].g,zr+=J0,3>=Nr){var nd,d1=Ns[0];for(nd=1;nd<ua;++nd)Ns[nd]>d1&&(d1=Ns[nd]);La+=d1}}if(xn.nd=Zo,xn.Qb=0,Zo&&(xn.qb=(Gs[3][zi[3]+0].value<<24|Gs[1][zi[1]+0].value<<16|Gs[2][zi[2]+0].value)>>>0,zc==0&&256>Gs[0][zi[0]+0].value&&(xn.Qb=1,xn.qb+=Gs[0][zi[0]+0].value<<8)),xn.jc=!xn.Qb&&6>La,xn.jc){var Z0,el=xn;for(Z0=0;Z0<hi;++Z0){var Hl=Z0,$l=el.pd[Hl],eh=el.G[0][el.H[0]+Hl];256<=eh.value?($l.g=eh.g+256,$l.value=eh.value):($l.g=0,$l.value=0,Hl>>=yn(eh,8,$l),Hl>>=yn(el.G[1][el.H[1]+Hl],16,$l),Hl>>=yn(el.G[2][el.H[2]+Hl],0,$l),yn(el.G[3][el.H[3]+Hl],24,$l))}}}ca.vc=$r,ca.Wb=Xr,ca.Ya=qs,ca.yc=$s,qt=1;break t}qt=0}if(!(ee=qt)){O.a=3;break e}if(0<Qe){if(_e.ua=1<<Qe,!ae(_e.Wa,Qe)){O.a=1,ee=0;break e}}else _e.ua=0;var h1=O,hy=re,w8=ie,p1=h1.s,m1=p1.xc;if(h1.c=hy,h1.i=w8,p1.md=Fe(hy,m1),p1.wc=m1==0?-1:(1<<m1)-1,E){O.xb=J6;break e}if((Ie=s(re*ie))==null){O.a=1,ee=0;break e}ee=(ee=qe(O,Ie,0,re,ie,ie,null))&&!ue.h;break e}return ee?(K!=null?K[0]=Ie:(t(Ie==null),t(E)),O.$=0,E||nt(_e)):nt(_e),ee}function Ye(h,v){var E=h.c*h.i,O=E+v+16*v;return t(h.c<=v),h.V=s(O),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+E+v,1)}function St(h,v){var E=h.C,O=v-E,K=h.V,ee=h.Ba+h.c*E;for(t(v<=h.l.o);0<O;){var re=16<O?16:O,ie=h.l.ma,ue=h.l.width,_e=ue*re,Ie=ie.ca,Qe=ie.tb+ue*E,Ne=h.Ta,Be=h.Ua;we(h,re,K,ee),Or(Ne,Be,Ie,Qe,_e),ve(ie,E,E+re,Ie,Qe,ue),O-=re,K+=re*h.c,E+=re}t(E==v),h.C=h.Ma=v}function Dt(){this.ub=this.yd=this.td=this.Rb=0}function Lt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function kt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function It(){this.Yb=function(){var h=[];return function v(E,O,K){for(var ee=K[O],re=0;re<ee&&(E.push(K.length>O+1?[]:0),!(K.length<O+1));re++)v(E[re],O+1,K)}(h,0,[3,11]),h}()}function hr(){this.jb=s(3),this.Wc=l([4,8],It),this.Xc=l([4,17],It)}function Ir(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Er(){this.ld=this.La=this.dd=this.tc=0}function hn(){this.Na=this.la=0}function ys(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ia(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Rs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Er),this.Y=0,this.ya=Array(new ia),this.aa=0,this.l=new Ro}function Ea(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Li(){this.cb=this.a=0,this.sc="",this.m=new A,this.Od=new Dt,this.Kc=new Lt,this.ed=new Ir,this.Qa=new kt,this.Ic=this.$c=this.Aa=0,this.D=new Rs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,A),this.ia=0,this.pb=o(4,ys),this.Pa=new hr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ea),this.Hd=0,this.rb=Array(new hn),this.sb=0,this.wa=Array(new Er),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ia),this.L=this.aa=0,this.gd=l([4,2],Er),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ur(h,v){return 0>h?0:h>v?v:h}function Ro(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Au(){var h=new Li;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Zf||(Zf=Do)),h}function wn(h,v,E){return h.a==0&&(h.a=v,h.sc=E,h.cb=0),0}function uo(h,v,E){return 3<=E&&h[v+0]==157&&h[v+1]==1&&h[v+2]==42}function Ds(h,v){if(h==null)return 0;if(h.a=0,h.sc="OK",v==null)return wn(h,2,"null VP8Io passed to VP8GetHeaders()");var E=v.data,O=v.w,K=v.ha;if(4>K)return wn(h,7,"Truncated header.");var ee=E[O+0]|E[O+1]<<8|E[O+2]<<16,re=h.Od;if(re.Rb=!(1&ee),re.td=ee>>1&7,re.yd=ee>>4&1,re.ub=ee>>5,3<re.td)return wn(h,3,"Incorrect keyframe parameters.");if(!re.yd)return wn(h,4,"Frame not displayable.");O+=3,K-=3;var ie=h.Kc;if(re.Rb){if(7>K)return wn(h,7,"cannot parse picture header");if(!uo(E,O,K))return wn(h,3,"Bad code word");ie.c=16383&(E[O+4]<<8|E[O+3]),ie.Td=E[O+4]>>6,ie.i=16383&(E[O+6]<<8|E[O+5]),ie.Ud=E[O+6]>>6,O+=7,K-=7,h.za=ie.c+15>>4,h.Ub=ie.i+15>>4,v.width=ie.c,v.height=ie.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((ee=h.Pa).jb,0,255,ee.jb.length),t((ee=h.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,a(ee.Zb,0,0,ee.Zb.length),a(ee.Lb,0,0,ee.Lb)}if(re.ub>K)return wn(h,7,"bad partition length");X(ee=h.m,E,O,re.ub),O+=re.ub,K-=re.ub,re.Rb&&(ie.Ld=xe(ee),ie.Kd=xe(ee)),ie=h.Qa;var ue,_e=h.Pa;if(t(ee!=null),t(ie!=null),ie.Cb=xe(ee),ie.Cb){if(ie.Bb=xe(ee),xe(ee)){for(ie.Fb=xe(ee),ue=0;4>ue;++ue)ie.Zb[ue]=xe(ee)?M(ee,7):0;for(ue=0;4>ue;++ue)ie.Lb[ue]=xe(ee)?M(ee,6):0}if(ie.Bb)for(ue=0;3>ue;++ue)_e.jb[ue]=xe(ee)?W(ee,8):255}else ie.Bb=0;if(ee.Ka)return wn(h,3,"cannot parse segment header");if((ie=h.ed).zd=xe(ee),ie.Tb=W(ee,6),ie.wb=W(ee,3),ie.Pc=xe(ee),ie.Pc&&xe(ee)){for(_e=0;4>_e;++_e)xe(ee)&&(ie.vd[_e]=M(ee,6));for(_e=0;4>_e;++_e)xe(ee)&&(ie.od[_e]=M(ee,6))}if(h.L=ie.Tb==0?0:ie.zd?1:2,ee.Ka)return wn(h,3,"cannot parse filter header");var Ie=K;if(K=ue=O,O=ue+Ie,ie=Ie,h.Xb=(1<<W(h.m,2))-1,Ie<3*(_e=h.Xb))E=7;else{for(ue+=3*_e,ie-=3*_e,Ie=0;Ie<_e;++Ie){var Qe=E[K+0]|E[K+1]<<8|E[K+2]<<16;Qe>ie&&(Qe=ie),X(h.Jc[+Ie],E,ue,Qe),ue+=Qe,ie-=Qe,K+=3}X(h.Jc[+_e],E,ue,ie),E=ue<O?0:5}if(E!=0)return wn(h,E,"cannot parse partitions");for(E=W(ue=h.m,7),K=xe(ue)?M(ue,4):0,O=xe(ue)?M(ue,4):0,ie=xe(ue)?M(ue,4):0,_e=xe(ue)?M(ue,4):0,ue=xe(ue)?M(ue,4):0,Ie=h.Qa,Qe=0;4>Qe;++Qe){if(Ie.Cb){var Ne=Ie.Zb[Qe];Ie.Fb||(Ne+=E)}else{if(0<Qe){h.pb[Qe]=h.pb[0];continue}Ne=E}var Be=h.pb[Qe];Be.Sc[0]=s1[ur(Ne+K,127)],Be.Sc[1]=i1[ur(Ne+0,127)],Be.Eb[0]=2*s1[ur(Ne+O,127)],Be.Eb[1]=101581*i1[ur(Ne+ie,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=s1[ur(Ne+_e,117)],Be.Qc[1]=i1[ur(Ne+ue,127)],Be.lc=Ne+ue}if(!re.Rb)return wn(h,4,"Not a key frame.");for(xe(ee),re=h.Pa,E=0;4>E;++E){for(K=0;8>K;++K)for(O=0;3>O;++O)for(ie=0;11>ie;++ie)_e=Z(ee,Y6[E][K][O][ie])?W(ee,8):G6[E][K][O][ie],re.Wc[E][K].Yb[O][ie]=_e;for(K=0;17>K;++K)re.Xc[E][K]=re.Wc[E][X6[K]]}return h.kc=xe(ee),h.kc&&(h.Bd=W(ee,8)),h.cb=1}function Do(h,v,E,O,K,ee,re){var ie=v[K].Yb[E];for(E=0;16>K;++K){if(!Z(h,ie[E+0]))return K;for(;!Z(h,ie[E+1]);)if(ie=v[++K].Yb[0],E=0,K==16)return 16;var ue=v[K+1].Yb;if(Z(h,ie[E+2])){var _e=h,Ie=0;if(Z(_e,(Ne=ie)[(Qe=E)+3]))if(Z(_e,Ne[Qe+6])){for(ie=0,Qe=2*(Ie=Z(_e,Ne[Qe+8]))+(Ne=Z(_e,Ne[Qe+9+Ie])),Ie=0,Ne=q6[Qe];Ne[ie];++ie)Ie+=Ie+Z(_e,Ne[ie]);Ie+=3+(8<<Qe)}else Z(_e,Ne[Qe+7])?(Ie=7+2*Z(_e,165),Ie+=Z(_e,145)):Ie=5+Z(_e,159);else Ie=Z(_e,Ne[Qe+4])?3+Z(_e,Ne[Qe+5]):2;ie=ue[2]}else Ie=1,ie=ue[1];ue=re+V6[K],0>(_e=h).b&&Ee(_e);var Qe,Ne=_e.b,Be=(Qe=_e.Ca>>1)-(_e.I>>Ne)>>31;--_e.b,_e.Ca+=Be,_e.Ca|=1,_e.I-=(Qe+1&Be)<<Ne,ee[ue]=((Ie^Be)-Be)*O[(0<K)+0]}return 16}function Pc(h){var v=h.rb[h.sb-1];v.la=0,v.Na=0,a(h.zc,0,0,h.zc.length),h.ja=0}function Lr(h,v,E,O,K){K=h[v+E+32*O]+(K>>3),h[v+E+32*O]=-256&K?0>K?0:255:K}function bn(h,v,E,O,K,ee){Lr(h,v,0,E,O+K),Lr(h,v,1,E,O+ee),Lr(h,v,2,E,O-ee),Lr(h,v,3,E,O-K)}function as(h){return(20091*h>>16)+h}function Fi(h,v,E,O){var K,ee=0,re=s(16);for(K=0;4>K;++K){var ie=h[v+0]+h[v+8],ue=h[v+0]-h[v+8],_e=(35468*h[v+4]>>16)-as(h[v+12]),Ie=as(h[v+4])+(35468*h[v+12]>>16);re[ee+0]=ie+Ie,re[ee+1]=ue+_e,re[ee+2]=ue-_e,re[ee+3]=ie-Ie,ee+=4,v++}for(K=ee=0;4>K;++K)ie=(h=re[ee+0]+4)+re[ee+8],ue=h-re[ee+8],_e=(35468*re[ee+4]>>16)-as(re[ee+12]),Lr(E,O,0,0,ie+(Ie=as(re[ee+4])+(35468*re[ee+12]>>16))),Lr(E,O,1,0,ue+_e),Lr(E,O,2,0,ue-_e),Lr(E,O,3,0,ie-Ie),ee++,O+=32}function Lc(h,v,E,O){var K=h[v+0]+4,ee=35468*h[v+4]>>16,re=as(h[v+4]),ie=35468*h[v+1]>>16;bn(E,O,0,K+re,h=as(h[v+1]),ie),bn(E,O,1,K+ee,h,ie),bn(E,O,2,K-ee,h,ie),bn(E,O,3,K-re,h,ie)}function Fc(h,v,E,O,K){Fi(h,v,E,O),K&&Fi(h,v+16,E,O+4)}function ss(h,v,E,O){De(h,v+0,E,O,1),De(h,v+32,E,O+128,1)}function Oc(h,v,E,O){var K;for(h=h[v+0]+4,K=0;4>K;++K)for(v=0;4>v;++v)Lr(E,O,v,K,h)}function Io(h,v,E,O){h[v+0]&&Ae(h,v+0,E,O),h[v+16]&&Ae(h,v+16,E,O+4),h[v+32]&&Ae(h,v+32,E,O+128),h[v+48]&&Ae(h,v+48,E,O+128+4)}function Mo(h,v,E,O){var K,ee=s(16);for(K=0;4>K;++K){var re=h[v+0+K]+h[v+12+K],ie=h[v+4+K]+h[v+8+K],ue=h[v+4+K]-h[v+8+K],_e=h[v+0+K]-h[v+12+K];ee[0+K]=re+ie,ee[8+K]=re-ie,ee[4+K]=_e+ue,ee[12+K]=_e-ue}for(K=0;4>K;++K)re=(h=ee[0+4*K]+3)+ee[3+4*K],ie=ee[1+4*K]+ee[2+4*K],ue=ee[1+4*K]-ee[2+4*K],_e=h-ee[3+4*K],E[O+0]=re+ie>>3,E[O+16]=_e+ue>>3,E[O+32]=re-ie>>3,E[O+48]=_e-ue>>3,O+=64}function Bo(h,v,E){var O,K=v-32,ee=ka,re=255-h[K-1];for(O=0;O<E;++O){var ie,ue=ee,_e=re+h[v-1];for(ie=0;ie<E;++ie)h[v+ie]=ue[_e+h[K+ie]];v+=32}}function Dr(h,v){Bo(h,v,4)}function Eu(h,v){Bo(h,v,8)}function Jf(h,v){Bo(h,v,16)}function Rc(h,v){var E;for(E=0;16>E;++E)n(h,v+32*E,h,v-32,16)}function ma(h,v){var E;for(E=16;0<E;--E)a(h,v,h[v-1],16),v+=32}function ga(h,v,E){var O;for(O=0;16>O;++O)a(v,E+32*O,h,16)}function Cl(h,v){var E,O=16;for(E=0;16>E;++E)O+=h[v-1+32*E]+h[v+E-32];ga(O>>5,h,v)}function Ha(h,v){var E,O=8;for(E=0;16>E;++E)O+=h[v-1+32*E];ga(O>>4,h,v)}function kl(h,v){var E,O=8;for(E=0;16>E;++E)O+=h[v+E-32];ga(O>>4,h,v)}function Cu(h,v){ga(128,h,v)}function rr(h,v,E){return h+2*v+E+2>>2}function ws(h,v){var E,O=v-32;for(O=new Uint8Array([rr(h[O-1],h[O+0],h[O+1]),rr(h[O+0],h[O+1],h[O+2]),rr(h[O+1],h[O+2],h[O+3]),rr(h[O+2],h[O+3],h[O+4])]),E=0;4>E;++E)n(h,v+32*E,O,0,O.length)}function Uo(h,v){var E=h[v-1],O=h[v-1+32],K=h[v-1+64],ee=h[v-1+96];Me(h,v+0,16843009*rr(h[v-1-32],E,O)),Me(h,v+32,16843009*rr(E,O,K)),Me(h,v+64,16843009*rr(O,K,ee)),Me(h,v+96,16843009*rr(K,ee,ee))}function zo(h,v){var E,O=4;for(E=0;4>E;++E)O+=h[v+E-32]+h[v-1+32*E];for(O>>=3,E=0;4>E;++E)a(h,v+32*E,O,4)}function Is(h,v){var E=h[v-1+0],O=h[v-1+32],K=h[v-1+64],ee=h[v-1-32],re=h[v+0-32],ie=h[v+1-32],ue=h[v+2-32],_e=h[v+3-32];h[v+0+96]=rr(O,K,h[v-1+96]),h[v+1+96]=h[v+0+64]=rr(E,O,K),h[v+2+96]=h[v+1+64]=h[v+0+32]=rr(ee,E,O),h[v+3+96]=h[v+2+64]=h[v+1+32]=h[v+0+0]=rr(re,ee,E),h[v+3+64]=h[v+2+32]=h[v+1+0]=rr(ie,re,ee),h[v+3+32]=h[v+2+0]=rr(ue,ie,re),h[v+3+0]=rr(_e,ue,ie)}function xa(h,v){var E=h[v+1-32],O=h[v+2-32],K=h[v+3-32],ee=h[v+4-32],re=h[v+5-32],ie=h[v+6-32],ue=h[v+7-32];h[v+0+0]=rr(h[v+0-32],E,O),h[v+1+0]=h[v+0+32]=rr(E,O,K),h[v+2+0]=h[v+1+32]=h[v+0+64]=rr(O,K,ee),h[v+3+0]=h[v+2+32]=h[v+1+64]=h[v+0+96]=rr(K,ee,re),h[v+3+32]=h[v+2+64]=h[v+1+96]=rr(ee,re,ie),h[v+3+64]=h[v+2+96]=rr(re,ie,ue),h[v+3+96]=rr(ie,ue,ue)}function Qf(h,v){var E=h[v-1+0],O=h[v-1+32],K=h[v-1+64],ee=h[v-1-32],re=h[v+0-32],ie=h[v+1-32],ue=h[v+2-32],_e=h[v+3-32];h[v+0+0]=h[v+1+64]=ee+re+1>>1,h[v+1+0]=h[v+2+64]=re+ie+1>>1,h[v+2+0]=h[v+3+64]=ie+ue+1>>1,h[v+3+0]=ue+_e+1>>1,h[v+0+96]=rr(K,O,E),h[v+0+64]=rr(O,E,ee),h[v+0+32]=h[v+1+96]=rr(E,ee,re),h[v+1+32]=h[v+2+96]=rr(ee,re,ie),h[v+2+32]=h[v+3+96]=rr(re,ie,ue),h[v+3+32]=rr(ie,ue,_e)}function bs(h,v){var E=h[v+0-32],O=h[v+1-32],K=h[v+2-32],ee=h[v+3-32],re=h[v+4-32],ie=h[v+5-32],ue=h[v+6-32],_e=h[v+7-32];h[v+0+0]=E+O+1>>1,h[v+1+0]=h[v+0+64]=O+K+1>>1,h[v+2+0]=h[v+1+64]=K+ee+1>>1,h[v+3+0]=h[v+2+64]=ee+re+1>>1,h[v+0+32]=rr(E,O,K),h[v+1+32]=h[v+0+96]=rr(O,K,ee),h[v+2+32]=h[v+1+96]=rr(K,ee,re),h[v+3+32]=h[v+2+96]=rr(ee,re,ie),h[v+3+64]=rr(re,ie,ue),h[v+3+96]=rr(ie,ue,_e)}function fo(h,v){var E=h[v-1+0],O=h[v-1+32],K=h[v-1+64],ee=h[v-1+96];h[v+0+0]=E+O+1>>1,h[v+2+0]=h[v+0+32]=O+K+1>>1,h[v+2+32]=h[v+0+64]=K+ee+1>>1,h[v+1+0]=rr(E,O,K),h[v+3+0]=h[v+1+32]=rr(O,K,ee),h[v+3+32]=h[v+1+64]=rr(K,ee,ee),h[v+3+64]=h[v+2+64]=h[v+0+96]=h[v+1+96]=h[v+2+96]=h[v+3+96]=ee}function Tl(h,v){var E=h[v-1+0],O=h[v-1+32],K=h[v-1+64],ee=h[v-1+96],re=h[v-1-32],ie=h[v+0-32],ue=h[v+1-32],_e=h[v+2-32];h[v+0+0]=h[v+2+32]=E+re+1>>1,h[v+0+32]=h[v+2+64]=O+E+1>>1,h[v+0+64]=h[v+2+96]=K+O+1>>1,h[v+0+96]=ee+K+1>>1,h[v+3+0]=rr(ie,ue,_e),h[v+2+0]=rr(re,ie,ue),h[v+1+0]=h[v+3+32]=rr(E,re,ie),h[v+1+32]=h[v+3+64]=rr(O,E,re),h[v+1+64]=h[v+3+96]=rr(K,O,E),h[v+1+96]=rr(ee,K,O)}function Oi(h,v){var E;for(E=0;8>E;++E)n(h,v+32*E,h,v-32,8)}function Ho(h,v){var E;for(E=0;8>E;++E)a(h,v,h[v-1],8),v+=32}function Ms(h,v,E){var O;for(O=0;8>O;++O)a(v,E+32*O,h,8)}function ku(h,v){var E,O=8;for(E=0;8>E;++E)O+=h[v+E-32]+h[v-1+32*E];Ms(O>>4,h,v)}function Dc(h,v){var E,O=4;for(E=0;8>E;++E)O+=h[v+E-32];Ms(O>>3,h,v)}function Ri(h,v){var E,O=4;for(E=0;8>E;++E)O+=h[v-1+32*E];Ms(O>>3,h,v)}function Tu(h,v){Ms(128,h,v)}function Di(h,v,E){var O=h[v-E],K=h[v+0],ee=3*(K-O)+gn[1020+h[v-2*E]-h[v+E]],re=pi[112+(ee+4>>3)];h[v-E]=ka[255+O+pi[112+(ee+3>>3)]],h[v+0]=ka[255+K-re]}function ho(h,v,E,O){var K=h[v+0],ee=h[v+E];return mi[255+h[v-2*E]-h[v-E]]>O||mi[255+ee-K]>O}function Ii(h,v,E,O){return 4*mi[255+h[v-E]-h[v+0]]+mi[255+h[v-2*E]-h[v+E]]<=O}function $o(h,v,E,O,K){var ee=h[v-3*E],re=h[v-2*E],ie=h[v-E],ue=h[v+0],_e=h[v+E],Ie=h[v+2*E],Qe=h[v+3*E];return 4*mi[255+ie-ue]+mi[255+re-_e]>O?0:mi[255+h[v-4*E]-ee]<=K&&mi[255+ee-re]<=K&&mi[255+re-ie]<=K&&mi[255+Qe-Ie]<=K&&mi[255+Ie-_e]<=K&&mi[255+_e-ue]<=K}function Wo(h,v,E,O){var K=2*O+1;for(O=0;16>O;++O)Ii(h,v+O,E,K)&&Di(h,v+O,E)}function Ic(h,v,E,O){var K=2*O+1;for(O=0;16>O;++O)Ii(h,v+O*E,1,K)&&Di(h,v+O*E,1)}function Pu(h,v,E,O){var K;for(K=3;0<K;--K)Wo(h,v+=4*E,E,O)}function Pl(h,v,E,O){var K;for(K=3;0<K;--K)Ic(h,v+=4,E,O)}function Bs(h,v,E,O,K,ee,re,ie){for(ee=2*ee+1;0<K--;){if($o(h,v,E,ee,re))if(ho(h,v,E,ie))Di(h,v,E);else{var ue=h,_e=v,Ie=E,Qe=ue[_e-2*Ie],Ne=ue[_e-Ie],Be=ue[_e+0],We=ue[_e+Ie],ot=ue[_e+2*Ie],Xe=27*(ht=gn[1020+3*(Be-Ne)+gn[1020+Qe-We]])+63>>7,ft=18*ht+63>>7,ht=9*ht+63>>7;ue[_e-3*Ie]=ka[255+ue[_e-3*Ie]+ht],ue[_e-2*Ie]=ka[255+Qe+ft],ue[_e-Ie]=ka[255+Ne+Xe],ue[_e+0]=ka[255+Be-Xe],ue[_e+Ie]=ka[255+We-ft],ue[_e+2*Ie]=ka[255+ot-ht]}v+=O}}function li(h,v,E,O,K,ee,re,ie){for(ee=2*ee+1;0<K--;){if($o(h,v,E,ee,re))if(ho(h,v,E,ie))Di(h,v,E);else{var ue=h,_e=v,Ie=E,Qe=ue[_e-Ie],Ne=ue[_e+0],Be=ue[_e+Ie],We=pi[112+(4+(ot=3*(Ne-Qe))>>3)],ot=pi[112+(ot+3>>3)],Xe=We+1>>1;ue[_e-2*Ie]=ka[255+ue[_e-2*Ie]+Xe],ue[_e-Ie]=ka[255+Qe+ot],ue[_e+0]=ka[255+Ne-We],ue[_e+Ie]=ka[255+Be-Xe]}v+=O}}function qo(h,v,E,O,K,ee){Bs(h,v,E,1,16,O,K,ee)}function ci(h,v,E,O,K,ee){Bs(h,v,1,E,16,O,K,ee)}function Vo(h,v,E,O,K,ee){var re;for(re=3;0<re;--re)li(h,v+=4*E,E,1,16,O,K,ee)}function N(h,v,E,O,K,ee){var re;for(re=3;0<re;--re)li(h,v+=4,1,E,16,O,K,ee)}function V(h,v,E,O,K,ee,re,ie){Bs(h,v,K,1,8,ee,re,ie),Bs(E,O,K,1,8,ee,re,ie)}function ye(h,v,E,O,K,ee,re,ie){Bs(h,v,1,K,8,ee,re,ie),Bs(E,O,1,K,8,ee,re,ie)}function ke(h,v,E,O,K,ee,re,ie){li(h,v+4*K,K,1,8,ee,re,ie),li(E,O+4*K,K,1,8,ee,re,ie)}function ze(h,v,E,O,K,ee,re,ie){li(h,v+4,1,K,8,ee,re,ie),li(E,O+4,1,K,8,ee,re,ie)}function ut(){this.ba=new pr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ar,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function er(){this.ua=0,this.Wa=new et,this.vb=new et,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new de,this.yc=new z}function dr(){this.xb=this.a=0,this.l=new Ro,this.ca=new pr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new er,this.ab=0,this.gc=o(4,$t),this.Oc=0}function br(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ro,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fr(h,v,E,O,K,ee,re){for(h=h==null?0:h[v+0],v=0;v<re;++v)K[ee+v]=h+E[O+v]&255,h=K[ee+v]}function pn(h,v,E,O,K,ee,re){var ie;if(h==null)Fr(null,null,E,O,K,ee,re);else for(ie=0;ie<re;++ie)K[ee+ie]=h[v+ie]+E[O+ie]&255}function Pn(h,v,E,O,K,ee,re){if(h==null)Fr(null,null,E,O,K,ee,re);else{var ie,ue=h[v+0],_e=ue,Ie=ue;for(ie=0;ie<re;++ie)_e=Ie+(ue=h[v+ie])-_e,Ie=E[O+ie]+(-256&_e?0>_e?0:255:_e)&255,_e=ue,K[ee+ie]=Ie}}function Vr(h,v,E,O){var K=v.width,ee=v.o;if(t(h!=null&&v!=null),0>E||0>=O||E+O>ee)return null;if(!h.Cc){if(h.ga==null){var re;if(h.ga=new br,(re=h.ga==null)||(re=v.width*v.o,t(h.Gb.length==0),h.Gb=s(re),h.Uc=0,h.Gb==null?re=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,re=1),re=!re),!re){re=h.ga;var ie=h.Fa,ue=h.P,_e=h.qc,Ie=h.mb,Qe=h.nb,Ne=ue+1,Be=_e-1,We=re.l;if(t(ie!=null&&Ie!=null&&v!=null),Bl[0]=null,Bl[1]=Fr,Bl[2]=pn,Bl[3]=Pn,re.ca=Ie,re.tb=Qe,re.c=v.width,re.i=v.height,t(0<re.c&&0<re.i),1>=_e)v=0;else if(re.$a=3&ie[ue+0],re.Z=ie[ue+0]>>2&3,re.Lc=ie[ue+0]>>4&3,ue=ie[ue+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||ue)v=0;else if(We.put=mt,We.ac=un,We.bc=yr,We.ma=re,We.width=v.width,We.height=v.height,We.Da=v.Da,We.v=v.v,We.va=v.va,We.j=v.j,We.o=v.o,re.$a)e:{t(re.$a==1),v=$e();t:for(;;){if(v==null){v=0;break e}if(t(re!=null),re.mc=v,v.c=re.c,v.i=re.i,v.l=re.l,v.l.ma=re,v.l.width=re.c,v.l.height=re.i,v.a=0,he(v.m,ie,Ne,Be),!Ke(re.c,re.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&fe(v.s)?(re.ic=1,ie=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(ie),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(re.ic=0,v=Ye(v,re.c)),!v))break t;v=1;break e}re.mc=null,v=0}else v=Be>=re.c*re.i;re=!v}if(re)return null;h.ga.Lc!=1?h.Ga=0:O=ee-E}t(h.ga!=null),t(E+O<=ee);e:{if(v=(ie=h.ga).c,ee=ie.l.o,ie.$a==0){if(Ne=h.rc,Be=h.Vc,We=h.Fa,ue=h.P+1+E*v,_e=h.mb,Ie=h.nb+E*v,t(ue<=h.P+h.qc),ie.Z!=0)for(t(Bl[ie.Z]!=null),re=0;re<O;++re)Bl[ie.Z](Ne,Be,We,ue,_e,Ie,v),Ne=_e,Be=Ie,Ie+=v,ue+=v;else for(re=0;re<O;++re)n(_e,Ie,We,ue,v),Ne=_e,Be=Ie,Ie+=v,ue+=v;h.rc=Ne,h.Vc=Be}else{if(t(ie.mc!=null),v=E+O,t((re=ie.mc)!=null),t(v<=re.i),re.C>=v)v=1;else if(ie.ic||$a(),ie.ic){ie=re.V,Ne=re.Ba,Be=re.c;var ot=re.i,Xe=(We=1,ue=re.$/Be,_e=re.$%Be,Ie=re.m,Qe=re.s,re.$),ft=Be*ot,ht=Be*v,Pt=Qe.wc,_t=Xe<ht?Q(Qe,_e,ue):null;t(Xe<=ft),t(v<=ot),t(fe(Qe));t:for(;;){for(;!Ie.h&&Xe<ht;){if(_e&Pt||(_t=Q(Qe,_e,ue)),t(_t!=null),ge(Ie),256>(ot=on(_t.G[0],_t.H[0],Ie)))ie[Ne+Xe]=ot,++Xe,++_e>=Be&&(_e=0,++ue<=v&&!(ue%16)&&be(re,ue));else{if(!(280>ot)){We=0;break t}ot=mr(ot-256,Ie);var cr,tr=on(_t.G[4],_t.H[4],Ie);if(ge(Ie),!(Xe>=(tr=Tr(Be,tr=mr(tr,Ie)))&&ft-Xe>=ot)){We=0;break t}for(cr=0;cr<ot;++cr)ie[Ne+Xe+cr]=ie[Ne+Xe+cr-tr];for(Xe+=ot,_e+=ot;_e>=Be;)_e-=Be,++ue<=v&&!(ue%16)&&be(re,ue);Xe<ht&&_e&Pt&&(_t=Q(Qe,_e,ue))}t(Ie.h==I(Ie))}be(re,ue>v?v:ue);break t}!We||Ie.h&&Xe<ft?(We=0,re.a=Ie.h?5:3):re.$=Xe,v=We}else v=qe(re,re.V,re.Ba,re.c,re.i,v,St);if(!v){O=0;break e}}E+O>=ee&&(h.Cc=1),O=1}if(!O)return null;if(h.Cc&&((O=h.ga)!=null&&(O.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+E*K}function Ln(h,v,E,O,K,ee){for(;0<K--;){var re,ie=h,ue=v+(E?1:0),_e=h,Ie=v+(E?0:3);for(re=0;re<O;++re){var Qe=_e[Ie+4*re];Qe!=255&&(Qe*=32897,ie[ue+4*re+0]=ie[ue+4*re+0]*Qe>>23,ie[ue+4*re+1]=ie[ue+4*re+1]*Qe>>23,ie[ue+4*re+2]=ie[ue+4*re+2]*Qe>>23)}v+=ee}}function ln(h,v,E,O,K){for(;0<O--;){var ee;for(ee=0;ee<E;++ee){var re=h[v+2*ee+0],ie=15&(_e=h[v+2*ee+1]),ue=4369*ie,_e=(240&_e|_e>>4)*ue>>16;h[v+2*ee+0]=(240&re|re>>4)*ue>>16&240|(15&re|re<<4)*ue>>16>>4&15,h[v+2*ee+1]=240&_e|ie}v+=K}}function Vn(h,v,E,O,K,ee,re,ie){var ue,_e,Ie=255;for(_e=0;_e<K;++_e){for(ue=0;ue<O;++ue){var Qe=h[v+ue];ee[re+4*ue]=Qe,Ie&=Qe}v+=E,re+=ie}return Ie!=255}function Us(h,v,E,O,K){var ee;for(ee=0;ee<K;++ee)E[O+ee]=h[v+ee]>>8}function $a(){Wt=Ln,Ot=ln,Jt=Vn,Or=Us}function zs(h,v,E){R[h]=function(O,K,ee,re,ie,ue,_e,Ie,Qe,Ne,Be,We,ot,Xe,ft,ht,Pt){var _t,cr=Pt-1>>1,tr=ie[ue+0]|_e[Ie+0]<<16,Cr=Qe[Ne+0]|Be[We+0]<<16;t(O!=null);var or=3*tr+Cr+131074>>2;for(v(O[K+0],255&or,or>>16,ot,Xe),ee!=null&&(or=3*Cr+tr+131074>>2,v(ee[re+0],255&or,or>>16,ft,ht)),_t=1;_t<=cr;++_t){var Ur=ie[ue+_t]|_e[Ie+_t]<<16,la=Qe[Ne+_t]|Be[We+_t]<<16,kr=tr+Ur+Cr+la+524296,lr=kr+2*(Ur+Cr)>>3;or=lr+tr>>1,tr=(kr=kr+2*(tr+la)>>3)+Ur>>1,v(O[K+2*_t-1],255&or,or>>16,ot,Xe+(2*_t-1)*E),v(O[K+2*_t-0],255&tr,tr>>16,ot,Xe+(2*_t-0)*E),ee!=null&&(or=kr+Cr>>1,tr=lr+la>>1,v(ee[re+2*_t-1],255&or,or>>16,ft,ht+(2*_t-1)*E),v(ee[re+2*_t+0],255&tr,tr>>16,ft,ht+(2*_t+0)*E)),tr=Ur,Cr=la}1&Pt||(or=3*tr+Cr+131074>>2,v(O[K+Pt-1],255&or,or>>16,ot,Xe+(Pt-1)*E),ee!=null&&(or=3*Cr+tr+131074>>2,v(ee[re+Pt-1],255&or,or>>16,ft,ht+(Pt-1)*E)))}}function Ll(){gi[U0]=Q6,gi[z0]=Xv,gi[qv]=Z6,gi[H0]=Jv,gi[$0]=Qv,gi[t1]=Zv,gi[Vv]=e8,gi[r1]=Xv,gi[n1]=Jv,gi[W0]=Qv,gi[a1]=Zv}function Fl(h){return h&-16384?0>h?0:255:h>>t8}function ui(h,v){return Fl((19077*h>>8)+(26149*v>>8)-14234)}function fi(h,v,E){return Fl((19077*h>>8)-(6419*v>>8)-(13320*E>>8)+8708)}function Go(h,v){return Fl((19077*h>>8)+(33050*v>>8)-17685)}function di(h,v,E,O,K){O[K+0]=ui(h,E),O[K+1]=fi(h,v,E),O[K+2]=Go(h,v)}function Gn(h,v,E,O,K){O[K+0]=Go(h,v),O[K+1]=fi(h,v,E),O[K+2]=ui(h,E)}function Ko(h,v,E,O,K){var ee=fi(h,v,E);v=ee<<3&224|Go(h,v)>>3,O[K+0]=248&ui(h,E)|ee>>5,O[K+1]=v}function po(h,v,E,O,K){var ee=240&Go(h,v)|15;O[K+0]=240&ui(h,E)|fi(h,v,E)>>4,O[K+1]=ee}function Mc(h,v,E,O,K){O[K+0]=255,di(h,v,E,O,K+1)}function Ol(h,v,E,O,K){Gn(h,v,E,O,K),O[K+3]=255}function va(h,v,E,O,K){di(h,v,E,O,K),O[K+3]=255}function Mi(h,v,E){R[h]=function(O,K,ee,re,ie,ue,_e,Ie,Qe){for(var Ne=Ie+(-2&Qe)*E;Ie!=Ne;)v(O[K+0],ee[re+0],ie[ue+0],_e,Ie),v(O[K+1],ee[re+0],ie[ue+0],_e,Ie+E),K+=2,++re,++ue,Ie+=2*E;1&Qe&&v(O[K+0],ee[re+0],ie[ue+0],_e,Ie)}}function Yo(h,v,E){return E==0?h==0?v==0?6:5:v==0?4:0:E}function Rl(h,v,E,O,K){switch(h>>>30){case 3:De(v,E,O,K,0);break;case 2:Ue(v,E,O,K);break;case 1:Ae(v,E,O,K)}}function is(h,v){var E,O,K=v.M,ee=v.Nb,re=h.oc,ie=h.pc+40,ue=h.oc,_e=h.pc+584,Ie=h.oc,Qe=h.pc+600;for(E=0;16>E;++E)re[ie+32*E-1]=129;for(E=0;8>E;++E)ue[_e+32*E-1]=129,Ie[Qe+32*E-1]=129;for(0<K?re[ie-1-32]=ue[_e-1-32]=Ie[Qe-1-32]=129:(a(re,ie-32-1,127,21),a(ue,_e-32-1,127,9),a(Ie,Qe-32-1,127,9)),O=0;O<h.za;++O){var Ne=v.ya[v.aa+O];if(0<O){for(E=-1;16>E;++E)n(re,ie+32*E-4,re,ie+32*E+12,4);for(E=-1;8>E;++E)n(ue,_e+32*E-4,ue,_e+32*E+4,4),n(Ie,Qe+32*E-4,Ie,Qe+32*E+4,4)}var Be=h.Gd,We=h.Hd+O,ot=Ne.ad,Xe=Ne.Hc;if(0<K&&(n(re,ie-32,Be[We].y,0,16),n(ue,_e-32,Be[We].f,0,8),n(Ie,Qe-32,Be[We].ea,0,8)),Ne.Za){var ft=re,ht=ie-32+16;for(0<K&&(O>=h.za-1?a(ft,ht,Be[We].y[15],4):n(ft,ht,Be[We+1].y,0,4)),E=0;4>E;E++)ft[ht+128+E]=ft[ht+256+E]=ft[ht+384+E]=ft[ht+0+E];for(E=0;16>E;++E,Xe<<=2)ft=re,ht=ie+ty[E],Bi[Ne.Ob[E]](ft,ht),Rl(Xe,ot,16*+E,ft,ht)}else if(ft=Yo(O,K,Ne.Ob[0]),Ml[ft](re,ie),Xe!=0)for(E=0;16>E;++E,Xe<<=2)Rl(Xe,ot,16*+E,re,ie+ty[E]);for(E=Ne.Gc,ft=Yo(O,K,Ne.Dd),Qo[ft](ue,_e),Qo[ft](Ie,Qe),Xe=ot,ft=ue,ht=_e,255&(Ne=0|E)&&(170&Ne?Oe(Xe,256,ft,ht):Ce(Xe,256,ft,ht)),Ne=Ie,Xe=Qe,255&(E>>=8)&&(170&E?Oe(ot,320,Ne,Xe):Ce(ot,320,Ne,Xe)),K<h.Ub-1&&(n(Be[We].y,0,re,ie+480,16),n(Be[We].f,0,ue,_e+224,8),n(Be[We].ea,0,Ie,Qe+224,8)),E=8*ee*h.B,Be=h.sa,We=h.ta+16*O+16*ee*h.R,ot=h.qa,Ne=h.ra+8*O+E,Xe=h.Ha,ft=h.Ia+8*O+E,E=0;16>E;++E)n(Be,We+E*h.R,re,ie+32*E,16);for(E=0;8>E;++E)n(ot,Ne+E*h.B,ue,_e+32*E,8),n(Xe,ft+E*h.B,Ie,Qe+32*E,8)}}function mo(h,v,E,O,K,ee,re,ie,ue){var _e=[0],Ie=[0],Qe=0,Ne=ue!=null?ue.kd:0,Be=ue??new vt;if(h==null||12>E)return 7;Be.data=h,Be.w=v,Be.ha=E,v=[v],E=[E],Be.gb=[Be.gb];e:{var We=v,ot=E,Xe=Be.gb;if(t(h!=null),t(ot!=null),t(Xe!=null),Xe[0]=0,12<=ot[0]&&!r(h,We[0],"RIFF")){if(r(h,We[0]+8,"WEBP")){Xe=3;break e}var ft=dt(h,We[0]+4);if(12>ft||4294967286<ft){Xe=3;break e}if(Ne&&ft>ot[0]-8){Xe=7;break e}Xe[0]=ft,We[0]+=12,ot[0]-=12}Xe=0}if(Xe!=0)return Xe;for(ft=0<Be.gb[0],E=E[0];;){e:{var ht=h;ot=v,Xe=E;var Pt=_e,_t=Ie,cr=We=[0];if((or=Qe=[Qe])[0]=0,8>Xe[0])Xe=7;else{if(!r(ht,ot[0],"VP8X")){if(dt(ht,ot[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var tr=dt(ht,ot[0]+8),Cr=1+it(ht,ot[0]+12);if(2147483648<=Cr*(ht=1+it(ht,ot[0]+15))){Xe=3;break e}cr!=null&&(cr[0]=tr),Pt!=null&&(Pt[0]=Cr),_t!=null&&(_t[0]=ht),ot[0]+=18,Xe[0]-=18,or[0]=1}Xe=0}}if(Qe=Qe[0],We=We[0],Xe!=0)return Xe;if(ot=!!(2&We),!ft&&Qe)return 3;if(ee!=null&&(ee[0]=!!(16&We)),re!=null&&(re[0]=ot),ie!=null&&(ie[0]=0),re=_e[0],We=Ie[0],Qe&&ot&&ue==null){Xe=0;break}if(4>E){Xe=7;break}if(ft&&Qe||!ft&&!Qe&&!r(h,v[0],"ALPH")){E=[E],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{tr=h,Xe=v,ft=E;var or=Be.gb;Pt=Be.na,_t=Be.P,cr=Be.Sa,Cr=22,t(tr!=null),t(ft!=null),ht=Xe[0];var Ur=ft[0];for(t(Pt!=null),t(cr!=null),Pt[0]=null,_t[0]=null,cr[0]=0;;){if(Xe[0]=ht,ft[0]=Ur,8>Ur){Xe=7;break e}var la=dt(tr,ht+4);if(4294967286<la){Xe=3;break e}var kr=8+la+1&-2;if(Cr+=kr,0<or&&Cr>or){Xe=3;break e}if(!r(tr,ht,"VP8 ")||!r(tr,ht,"VP8L")){Xe=0;break e}if(Ur[0]<kr){Xe=7;break e}r(tr,ht,"ALPH")||(Pt[0]=tr,_t[0]=ht+8,cr[0]=la),ht+=kr,Ur-=kr}}if(E=E[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Xe!=0)break}E=[E],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(or=h,Xe=v,ft=E,Pt=Be.gb[0],_t=Be.Ja,cr=Be.xa,tr=Xe[0],ht=!r(or,tr,"VP8 "),Cr=!r(or,tr,"VP8L"),t(or!=null),t(ft!=null),t(_t!=null),t(cr!=null),8>ft[0])Xe=7;else{if(ht||Cr){if(or=dt(or,tr+4),12<=Pt&&or>Pt-12){Xe=3;break e}if(Ne&&or>ft[0]-8){Xe=7;break e}_t[0]=or,Xe[0]+=8,ft[0]-=8,cr[0]=Cr}else cr[0]=5<=ft[0]&&or[tr+0]==47&&!(or[tr+4]>>5),_t[0]=ft[0];Xe=0}if(E=E[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],v=v[0],Xe!=0)break;if(4294967286<Be.Ja)return 3;if(ie==null||ot||(ie[0]=Be.xa?2:1),re=[re],We=[We],Be.xa){if(5>E){Xe=7;break}ie=re,Ne=We,ot=ee,h==null||5>E?h=0:5<=E&&h[v+0]==47&&!(h[v+4]>>5)?(ft=[0],or=[0],Pt=[0],he(_t=new H,h,v,E),Hr(_t,ft,or,Pt)?(ie!=null&&(ie[0]=ft[0]),Ne!=null&&(Ne[0]=or[0]),ot!=null&&(ot[0]=Pt[0]),h=1):h=0):h=0}else{if(10>E){Xe=7;break}ie=We,h==null||10>E||!uo(h,v+3,E-3)?h=0:(Ne=h[v+0]|h[v+1]<<8|h[v+2]<<16,ot=16383&(h[v+7]<<8|h[v+6]),h=16383&(h[v+9]<<8|h[v+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Be.Ja||!ot||!h?h=0:(re&&(re[0]=ot),ie&&(ie[0]=h),h=1))}if(!h||(re=re[0],We=We[0],Qe&&(_e[0]!=re||Ie[0]!=We)))return 3;ue!=null&&(ue[0]=Be,ue.offset=v-ue.w,t(4294967286>v-ue.w),t(ue.offset==ue.ha-E));break}return Xe==0||Xe==7&&Qe&&ue==null?(ee!=null&&(ee[0]|=Be.na!=null&&0<Be.na.length),O!=null&&(O[0]=re),K!=null&&(K[0]=We),0):Xe}function Bc(h,v,E){var O=v.width,K=v.height,ee=0,re=0,ie=O,ue=K;if(v.Da=h!=null&&0<h.Da,v.Da&&(ie=h.cd,ue=h.bd,ee=h.v,re=h.j,11>E||(ee&=-2,re&=-2),0>ee||0>re||0>=ie||0>=ue||ee+ie>O||re+ue>K))return 0;if(v.v=ee,v.j=re,v.va=ee+ie,v.o=re+ue,v.U=ie,v.T=ue,v.da=h!=null&&0<h.da,v.da){if(!yt(ie,ue,E=[h.ib],ee=[h.hb]))return 0;v.ib=E[0],v.hb=ee[0]}return v.ob=h!=null&&h.ob,v.Kb=h==null||!h.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*K/4,v.Kb=0),1}function Uc(h){if(h==null)return 2;if(11>h.S){var v=h.f.RGBA;v.fb+=(h.height-1)*v.A,v.A=-v.A}else v=h.f.kb,h=h.height,v.O+=(h-1)*v.fa,v.fa=-v.fa,v.N+=(h-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(h-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(h-1)*v.lb,v.lb=-v.lb);return 0}function go(h,v,E,O){if(O==null||0>=h||0>=v)return 2;if(E!=null){if(E.Da){var K=E.cd,ee=E.bd,re=-2&E.v,ie=-2&E.j;if(0>re||0>ie||0>=K||0>=ee||re+K>h||ie+ee>v)return 2;h=K,v=ee}if(E.da){if(!yt(h,v,K=[E.ib],ee=[E.hb]))return 2;h=K[0],v=ee[0]}}O.width=h,O.height=v;e:{var ue=O.width,_e=O.height;if(h=O.S,0>=ue||0>=_e||!(h>=U0&&13>h))h=2;else{if(0>=O.Rd&&O.sd==null){re=ee=K=v=0;var Ie=(ie=ue*ry[h])*_e;if(11>h||(ee=(_e+1)/2*(v=(ue+1)/2),h==12&&(re=(K=ue)*_e)),(_e=s(Ie+2*ee+re))==null){h=1;break e}O.sd=_e,11>h?((ue=O.f.RGBA).eb=_e,ue.fb=0,ue.A=ie,ue.size=Ie):((ue=O.f.kb).y=_e,ue.O=0,ue.fa=ie,ue.Fd=Ie,ue.f=_e,ue.N=0+Ie,ue.Ab=v,ue.Cd=ee,ue.ea=_e,ue.W=0+Ie+ee,ue.Db=v,ue.Ed=ee,h==12&&(ue.F=_e,ue.J=0+Ie+2*ee),ue.Tc=re,ue.lb=K)}if(v=1,K=O.S,ee=O.width,re=O.height,K>=U0&&13>K)if(11>K)h=O.f.RGBA,v&=(ie=Math.abs(h.A))*(re-1)+ee<=h.size,v&=ie>=ee*ry[K],v&=h.eb!=null;else{h=O.f.kb,ie=(ee+1)/2,Ie=(re+1)/2,ue=Math.abs(h.fa),_e=Math.abs(h.Ab);var Qe=Math.abs(h.Db),Ne=Math.abs(h.lb),Be=Ne*(re-1)+ee;v&=ue*(re-1)+ee<=h.Fd,v&=_e*(Ie-1)+ie<=h.Cd,v=(v&=Qe*(Ie-1)+ie<=h.Ed)&ue>=ee&_e>=ie&Qe>=ie,v&=h.y!=null,v&=h.f!=null,v&=h.ea!=null,K==12&&(v&=Ne>=ee,v&=Be<=h.Tc,v&=h.F!=null)}else v=0;h=v?0:2}}return h!=0||E!=null&&E.fd&&(h=Uc(O)),h}var hi=64,Fn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mr=24,Hs=32,Wa=8,xo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xt("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(h){return h},R.Predictor2=function(h,v,E){return v[E+0]},R.Predictor3=function(h,v,E){return v[E+1]},R.Predictor4=function(h,v,E){return v[E-1]},R.Predictor5=function(h,v,E){return Nt(Nt(h,v[E+1]),v[E+0])},R.Predictor6=function(h,v,E){return Nt(h,v[E-1])},R.Predictor7=function(h,v,E){return Nt(h,v[E+0])},R.Predictor8=function(h,v,E){return Nt(v[E-1],v[E+0])},R.Predictor9=function(h,v,E){return Nt(v[E+0],v[E+1])},R.Predictor10=function(h,v,E){return Nt(Nt(h,v[E-1]),Nt(v[E+0],v[E+1]))},R.Predictor11=function(h,v,E){var O=v[E+0];return 0>=pe(O>>24&255,h>>24&255,(v=v[E-1])>>24&255)+pe(O>>16&255,h>>16&255,v>>16&255)+pe(O>>8&255,h>>8&255,v>>8&255)+pe(255&O,255&h,255&v)?O:h},R.Predictor12=function(h,v,E){var O=v[E+0];return(je((h>>24&255)+(O>>24&255)-((v=v[E-1])>>24&255))<<24|je((h>>16&255)+(O>>16&255)-(v>>16&255))<<16|je((h>>8&255)+(O>>8&255)-(v>>8&255))<<8|je((255&h)+(255&O)-(255&v)))>>>0},R.Predictor13=function(h,v,E){var O=v[E-1];return(jt((h=Nt(h,v[E+0]))>>24&255,O>>24&255)<<24|jt(h>>16&255,O>>16&255)<<16|jt(h>>8&255,O>>8&255)<<8|jt(255&h,255&O))>>>0};var Xo=R.PredictorAdd0;R.PredictorAdd1=Ze,xt("Predictor2","PredictorAdd2"),xt("Predictor3","PredictorAdd3"),xt("Predictor4","PredictorAdd4"),xt("Predictor5","PredictorAdd5"),xt("Predictor6","PredictorAdd6"),xt("Predictor7","PredictorAdd7"),xt("Predictor8","PredictorAdd8"),xt("Predictor9","PredictorAdd9"),xt("Predictor10","PredictorAdd10"),xt("Predictor11","PredictorAdd11"),xt("Predictor12","PredictorAdd12"),xt("Predictor13","PredictorAdd13");var Jo=R.PredictorAdd2;bt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Yr,Dl=R.ColorIndexInverseTransform,Ca=R.MapARGB,oa=R.VP8LColorIndexInverseTransformAlpha,Il=R.MapAlpha,m=R.VP8LPredictorsAdd=[];m.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var b,C,F,U,J,oe,me,De,Ue,Oe,Ae,Ce,Le,Te,Re,Ge,Je,He,lt,At,Bt,Ut,Et,Gt,Wt,Ot,Jt,Or,Br=s(511),fr=s(2041),jr=s(225),mn=s(767),os=0,gn=fr,pi=jr,ka=mn,mi=Br,U0=0,z0=1,qv=2,H0=3,$0=4,t1=5,Vv=6,r1=7,n1=8,W0=9,a1=10,M6=[2,3,7],B6=[3,3,11],Gv=[280,256,256,256,40],U6=[0,1,1,1,0],z6=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],H6=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$6=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],W6=8,s1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],i1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zf=null,q6=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],V6=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Kv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],G6=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],K6=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Y6=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],X6=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ml=[],Bi=[],Qo=[],J6=1,Yv=2,Bl=[],gi=[];zs("UpsampleRgbLinePair",di,3),zs("UpsampleBgrLinePair",Gn,3),zs("UpsampleRgbaLinePair",va,4),zs("UpsampleBgraLinePair",Ol,4),zs("UpsampleArgbLinePair",Mc,4),zs("UpsampleRgba4444LinePair",po,2),zs("UpsampleRgb565LinePair",Ko,2);var Q6=R.UpsampleRgbLinePair,Z6=R.UpsampleBgrLinePair,Xv=R.UpsampleRgbaLinePair,Jv=R.UpsampleBgraLinePair,Qv=R.UpsampleArgbLinePair,Zv=R.UpsampleRgba4444LinePair,e8=R.UpsampleRgb565LinePair,q0=16,V0=1<<q0-1,ed=-227,o1=482,t8=6,ey=0,r8=s(256),n8=s(256),a8=s(256),s8=s(256),i8=s(o1-ed),o8=s(o1-ed);Mi("YuvToRgbRow",di,3),Mi("YuvToBgrRow",Gn,3),Mi("YuvToRgbaRow",va,4),Mi("YuvToBgraRow",Ol,4),Mi("YuvToArgbRow",Mc,4),Mi("YuvToRgba4444Row",po,2),Mi("YuvToRgb565Row",Ko,2);var ty=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],G0=[0,2,8],l8=[8,7,6,4,4,2,2,2,1,1,1,1],c8=1;this.WebPDecodeRGBA=function(h,v,E,O,K){var ee=z0,re=new ut,ie=new pr;re.ba=ie,ie.S=ee,ie.width=[ie.width],ie.height=[ie.height];var ue=ie.width,_e=ie.height,Ie=new ar;if(Ie==null||h==null)var Qe=2;else t(Ie!=null),Qe=mo(h,v,E,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if(Qe!=0?ue=0:(ue!=null&&(ue[0]=Ie.width[0]),_e!=null&&(_e[0]=Ie.height[0]),ue=1),ue){ie.width=ie.width[0],ie.height=ie.height[0],O!=null&&(O[0]=ie.width),K!=null&&(K[0]=ie.height);e:{if(O=new Ro,(K=new vt).data=h,K.w=v,K.ha=E,K.kd=1,v=[0],t(K!=null),((h=mo(K.data,K.w,K.ha,null,null,null,v,null,K))==0||h==7)&&v[0]&&(h=4),(v=h)==0){if(t(re!=null),O.data=K.data,O.w=K.w+K.offset,O.ha=K.ha-K.offset,O.put=mt,O.ac=un,O.bc=yr,O.ma=re,K.xa){if((h=$e())==null){re=1;break e}if(function(Ne,Be){var We=[0],ot=[0],Xe=[0];t:for(;;){if(Ne==null)return 0;if(Be==null)return Ne.a=2,0;if(Ne.l=Be,Ne.a=0,he(Ne.m,Be.data,Be.w,Be.ha),!Hr(Ne.m,We,ot,Xe)){Ne.a=3;break t}if(Ne.xb=Yv,Be.width=We[0],Be.height=ot[0],!Ke(We[0],ot[0],1,Ne,null))break t;return 1}return t(Ne.a!=0),0}(h,O)){if(O=(v=go(O.width,O.height,re.Oa,re.ba))==0){t:{O=h;r:for(;;){if(O==null){O=0;break t}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((E=O.l)!=null),t((K=E.ma)!=null),O.xb!=0){if(O.ca=K.ba,O.tb=K.tb,t(O.ca!=null),!Bc(K.Oa,E,H0)){O.a=2;break r}if(!Ye(O,E.width)||E.da)break r;if((E.da||Xt(O.ca.S))&&$a(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&$a()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!ae(O.s.vb,O.s.Wa.Xa)){O.a=1;break r}O.xb=0}if(!qe(O,O.V,O.Ba,O.c,O.i,E.o,ce))break r;K.Dc=O.Ma,O=1;break t}t(O.a!=0),O=0}O=!O}O&&(v=h.a)}else v=h.a}else{if((h=new Au)==null){re=1;break e}if(h.Fa=K.na,h.P=K.P,h.qc=K.Sa,Ds(h,O)){if((v=go(O.width,O.height,re.Oa,re.ba))==0){if(h.Aa=0,E=re.Oa,t((K=h)!=null),E!=null){if(0<(ue=0>(ue=E.Md)?0:100<ue?255:255*ue/100)){for(_e=Ie=0;4>_e;++_e)12>(Qe=K.pb[_e]).lc&&(Qe.ia=ue*l8[0>Qe.lc?0:Qe.lc]>>3),Ie|=Qe.ia;Ie&&(alert("todo:VP8InitRandom"),K.ia=1)}K.Ga=E.Id,100<K.Ga?K.Ga=100:0>K.Ga&&(K.Ga=0)}(function(Ne,Be){if(Ne==null)return 0;if(Be==null)return wn(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!Ds(Ne,Be))return 0;if(t(Ne.cb),Be.ac==null||Be.ac(Be)){Be.ob&&(Ne.L=0);var We=G0[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=Be.v-We>>4,Ne.zb=Be.j-We>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=Be.o+15+We>>4,Ne.Hb=Be.va+15+We>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var ot=Ne.ed;for(We=0;4>We;++We){var Xe;if(Ne.Qa.Cb){var ft=Ne.Qa.Lb[We];Ne.Qa.Fb||(ft+=ot.Tb)}else ft=ot.Tb;for(Xe=0;1>=Xe;++Xe){var ht=Ne.gd[We][Xe],Pt=ft;if(ot.Pc&&(Pt+=ot.vd[0],Xe&&(Pt+=ot.od[0])),0<(Pt=0>Pt?0:63<Pt?63:Pt)){var _t=Pt;0<ot.wb&&(_t=4<ot.wb?_t>>2:_t>>1)>9-ot.wb&&(_t=9-ot.wb),1>_t&&(_t=1),ht.dd=_t,ht.tc=2*Pt+_t,ht.ld=40<=Pt?2:15<=Pt?1:0}else ht.tc=0;ht.La=Xe}}}We=0}else wn(Ne,6,"Frame setup failed"),We=Ne.a;if(We=We==0){if(We){Ne.$c=0,0<Ne.Aa||(Ne.Ic=c8);t:{We=Ne.Ic,ot=4*(_t=Ne.za);var cr=32*_t,tr=_t+1,Cr=0<Ne.L?_t*(0<Ne.Aa?2:1):0,or=(Ne.Aa==2?2:1)*_t;if((ht=ot+832+(Xe=3*(16*We+G0[Ne.L])/2*cr)+(ft=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=ht)We=0;else{if(ht>Ne.Vb){if(Ne.Vb=0,Ne.Ec=s(ht),Ne.Fc=0,Ne.Ec==null){We=wn(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=ht}ht=Ne.Ec,Pt=Ne.Fc,Ne.Ac=ht,Ne.Bc=Pt,Pt+=ot,Ne.Gd=o(cr,Ea),Ne.Hd=0,Ne.rb=o(tr+1,hn),Ne.sb=1,Ne.wa=Cr?o(Cr,Er):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=_t),t(!0),Ne.oc=ht,Ne.pc=Pt,Pt+=832,Ne.ya=o(or,ia),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=_t),Ne.R=16*_t,Ne.B=8*_t,_t=(cr=G0[Ne.L])*Ne.R,cr=cr/2*Ne.B,Ne.sa=ht,Ne.ta=Pt+_t,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*We*Ne.R+cr,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*We*Ne.B+cr,Ne.$c=0,Pt+=Xe,Ne.mb=ft?ht:null,Ne.nb=ft?Pt:null,t(Pt+ft<=Ne.Fc+Ne.Vb),Pc(Ne),a(Ne.Ac,Ne.Bc,0,ot),We=1}}if(We){if(Be.ka=0,Be.y=Ne.sa,Be.O=Ne.ta,Be.f=Ne.qa,Be.N=Ne.ra,Be.ea=Ne.Ha,Be.Vd=Ne.Ia,Be.fa=Ne.R,Be.Rc=Ne.B,Be.F=null,Be.J=0,!os){for(We=-255;255>=We;++We)Br[255+We]=0>We?-We:We;for(We=-1020;1020>=We;++We)fr[1020+We]=-128>We?-128:127<We?127:We;for(We=-112;112>=We;++We)jr[112+We]=-16>We?-16:15<We?15:We;for(We=-255;510>=We;++We)mn[255+We]=0>We?0:255<We?255:We;os=1}me=Mo,De=Fc,Oe=ss,Ae=Oc,Ce=Io,Ue=Lc,Le=qo,Te=ci,Re=V,Ge=ye,Je=Vo,He=N,lt=ke,At=ze,Bt=Wo,Ut=Ic,Et=Pu,Gt=Pl,Bi[0]=zo,Bi[1]=Dr,Bi[2]=ws,Bi[3]=Uo,Bi[4]=Is,Bi[5]=Qf,Bi[6]=xa,Bi[7]=bs,Bi[8]=Tl,Bi[9]=fo,Ml[0]=Cl,Ml[1]=Jf,Ml[2]=Rc,Ml[3]=ma,Ml[4]=Ha,Ml[5]=kl,Ml[6]=Cu,Qo[0]=ku,Qo[1]=Eu,Qo[2]=Oi,Qo[3]=Ho,Qo[4]=Ri,Qo[5]=Dc,Qo[6]=Tu,We=1}else We=0}We&&(We=function(Ur,la){for(Ur.M=0;Ur.M<Ur.Va;++Ur.M){var kr,lr=Ur.Jc[Ur.M&Ur.Xb],qt=Ur.m,Kn=Ur;for(kr=0;kr<Kn.za;++kr){var Nr=qt,zr=Kn,_n=zr.Ac,Ta=zr.Bc+4*kr,ls=zr.zc,Bn=zr.ya[zr.aa+kr];if(zr.Qa.Bb?Bn.$b=Z(Nr,zr.Pa.jb[0])?2+Z(Nr,zr.Pa.jb[2]):Z(Nr,zr.Pa.jb[1]):Bn.$b=0,zr.kc&&(Bn.Ad=Z(Nr,zr.Bd)),Bn.Za=!Z(Nr,145)+0,Bn.Za){var qa=Bn.Ob,cs=0;for(zr=0;4>zr;++zr){var ca,$r=ls[0+zr];for(ca=0;4>ca;++ca){$r=K6[_n[Ta+ca]][$r];for(var Xr=Kv[Z(Nr,$r[0])];0<Xr;)Xr=Kv[2*Xr+Z(Nr,$r[Xr])];$r=-Xr,_n[Ta+ca]=$r}n(qa,cs,_n,Ta,4),cs+=4,ls[0+zr]=$r}}else $r=Z(Nr,156)?Z(Nr,128)?1:3:Z(Nr,163)?2:0,Bn.Ob[0]=$r,a(_n,Ta,$r,4),a(ls,0,$r,4);Bn.Dd=Z(Nr,142)?Z(Nr,114)?Z(Nr,183)?1:3:2:0}if(Kn.m.Ka)return wn(Ur,7,"Premature end-of-partition0 encountered.");for(;Ur.ja<Ur.za;++Ur.ja){if(Kn=lr,Nr=(qt=Ur).rb[qt.sb-1],_n=qt.rb[qt.sb+qt.ja],kr=qt.ya[qt.aa+qt.ja],Ta=qt.kc?kr.Ad:0)Nr.la=_n.la=0,kr.Za||(Nr.Na=_n.Na=0),kr.Hc=0,kr.Gc=0,kr.ia=0;else{var Un,Jr;if(Nr=_n,_n=Kn,Ta=qt.Pa.Xc,ls=qt.ya[qt.aa+qt.ja],Bn=qt.pb[ls.$b],zr=ls.ad,qa=0,cs=qt.rb[qt.sb-1],$r=ca=0,a(zr,qa,0,384),ls.Za)var Pa=0,Ui=Ta[3];else{Xr=s(16);var Yn=Nr.Na+cs.Na;if(Yn=Zf(_n,Ta[1],Yn,Bn.Eb,0,Xr,0),Nr.Na=cs.Na=(0<Yn)+0,1<Yn)me(Xr,0,zr,qa);else{var _s=Xr[0]+3>>3;for(Xr=0;256>Xr;Xr+=16)zr[qa+Xr]=_s}Pa=1,Ui=Ta[0]}var fn=15&Nr.la,ua=15&cs.la;for(Xr=0;4>Xr;++Xr){var $s=1&ua;for(_s=Jr=0;4>_s;++_s)fn=fn>>1|($s=(Yn=Zf(_n,Ui,Yn=$s+(1&fn),Bn.Sc,Pa,zr,qa))>Pa)<<7,Jr=Jr<<2|(3<Yn?3:1<Yn?2:zr[qa+0]!=0),qa+=16;fn>>=4,ua=ua>>1|$s<<7,ca=(ca<<8|Jr)>>>0}for(Ui=fn,Pa=ua>>4,Un=0;4>Un;Un+=2){for(Jr=0,fn=Nr.la>>4+Un,ua=cs.la>>4+Un,Xr=0;2>Xr;++Xr){for($s=1&ua,_s=0;2>_s;++_s)Yn=$s+(1&fn),fn=fn>>1|($s=0<(Yn=Zf(_n,Ta[2],Yn,Bn.Qc,0,zr,qa)))<<3,Jr=Jr<<2|(3<Yn?3:1<Yn?2:zr[qa+0]!=0),qa+=16;fn>>=2,ua=ua>>1|$s<<5}$r|=Jr<<4*Un,Ui|=fn<<4<<Un,Pa|=(240&ua)<<Un}Nr.la=Ui,cs.la=Pa,ls.Hc=ca,ls.Gc=$r,ls.ia=43690&$r?0:Bn.ia,Ta=!(ca|$r)}if(0<qt.L&&(qt.wa[qt.Y+qt.ja]=qt.gd[kr.$b][kr.Za],qt.wa[qt.Y+qt.ja].La|=!Ta),Kn.Ka)return wn(Ur,7,"Premature end-of-file encountered.")}if(Pc(Ur),qt=la,Kn=1,kr=(lr=Ur).D,Nr=0<lr.L&&lr.M>=lr.zb&&lr.M<=lr.Va,lr.Aa==0)t:{if(kr.M=lr.M,kr.uc=Nr,is(lr,kr),Kn=1,kr=(Jr=lr.D).Nb,Nr=($r=G0[lr.L])*lr.R,_n=$r/2*lr.B,Xr=16*kr*lr.R,_s=8*kr*lr.B,Ta=lr.sa,ls=lr.ta-Nr+Xr,Bn=lr.qa,zr=lr.ra-_n+_s,qa=lr.Ha,cs=lr.Ia-_n+_s,ua=(fn=Jr.M)==0,ca=fn>=lr.Va-1,lr.Aa==2&&is(lr,Jr),Jr.uc)for($s=(Yn=lr).D.M,t(Yn.D.uc),Jr=Yn.yb;Jr<Yn.Hb;++Jr){Pa=Jr,Ui=$s;var us=(Ws=(La=Yn).D).Nb;Un=La.R;var Ws=Ws.wa[Ws.Y+Pa],qs=La.sa,Ns=La.ta+16*us*Un+16*Pa,Vs=Ws.dd,xn=Ws.tc;if(xn!=0)if(t(3<=xn),La.L==1)0<Pa&&Ut(qs,Ns,Un,xn+4),Ws.La&&Gt(qs,Ns,Un,xn),0<Ui&&Bt(qs,Ns,Un,xn+4),Ws.La&&Et(qs,Ns,Un,xn);else{var Gs=La.B,zi=La.qa,zc=La.ra+8*us*Gs+8*Pa,Zo=La.Ha,La=La.Ia+8*us*Gs+8*Pa;us=Ws.ld,0<Pa&&(Te(qs,Ns,Un,xn+4,Vs,us),Ge(zi,zc,Zo,La,Gs,xn+4,Vs,us)),Ws.La&&(He(qs,Ns,Un,xn,Vs,us),At(zi,zc,Zo,La,Gs,xn,Vs,us)),0<Ui&&(Le(qs,Ns,Un,xn+4,Vs,us),Re(zi,zc,Zo,La,Gs,xn+4,Vs,us)),Ws.La&&(Je(qs,Ns,Un,xn,Vs,us),lt(zi,zc,Zo,La,Gs,xn,Vs,us))}}if(lr.ia&&alert("todo:DitherRow"),qt.put!=null){if(Jr=16*fn,fn=16*(fn+1),ua?(qt.y=lr.sa,qt.O=lr.ta+Xr,qt.f=lr.qa,qt.N=lr.ra+_s,qt.ea=lr.Ha,qt.W=lr.Ia+_s):(Jr-=$r,qt.y=Ta,qt.O=ls,qt.f=Bn,qt.N=zr,qt.ea=qa,qt.W=cs),ca||(fn-=$r),fn>qt.o&&(fn=qt.o),qt.F=null,qt.J=null,lr.Fa!=null&&0<lr.Fa.length&&Jr<fn&&(qt.J=Vr(lr,qt,Jr,fn-Jr),qt.F=lr.mb,qt.F==null&&qt.F.length==0)){Kn=wn(lr,3,"Could not decode alpha data.");break t}Jr<qt.j&&($r=qt.j-Jr,Jr=qt.j,t(!(1&$r)),qt.O+=lr.R*$r,qt.N+=lr.B*($r>>1),qt.W+=lr.B*($r>>1),qt.F!=null&&(qt.J+=qt.width*$r)),Jr<fn&&(qt.O+=qt.v,qt.N+=qt.v>>1,qt.W+=qt.v>>1,qt.F!=null&&(qt.J+=qt.v),qt.ka=Jr-qt.j,qt.U=qt.va-qt.v,qt.T=fn-Jr,Kn=qt.put(qt))}kr+1!=lr.Ic||ca||(n(lr.sa,lr.ta-Nr,Ta,ls+16*lr.R,Nr),n(lr.qa,lr.ra-_n,Bn,zr+8*lr.B,_n),n(lr.Ha,lr.Ia-_n,qa,cs+8*lr.B,_n))}if(!Kn)return wn(Ur,6,"Output aborted.")}return 1}(Ne,Be)),Be.bc!=null&&Be.bc(Be),We&=1}return We?(Ne.cb=0,We):0})(h,O)||(v=h.a)}}else v=h.a}v==0&&re.Oa!=null&&re.Oa.fd&&(v=Uc(re.ba))}re=v}ee=re!=0?null:11>ee?ie.f.RGBA.eb:ie.f.kb.y}else ee=null;return ee};var ry=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(R,Y){for(var P="",B=0;B<4;B++)P+=String.fromCharCode(R[Y++]);return P}function f(R,Y){return R[Y+0]|R[Y+1]<<8}function p(R,Y){return(R[Y+0]|R[Y+1]<<8|R[Y+2]<<16)>>>0}function g(R,Y){return(R[Y+0]|R[Y+1]<<8|R[Y+2]<<16|R[Y+3]<<24)>>>0}new c;var d=[0],y=[0],x=[],_=new c,w=e,S=function(R,Y){var P={},B=0,z=!1,te=0,de=0;if(P.frames=[],!function(A,H){for(var D=0;D<4;D++)if(A[H+D]!="RIFF".charCodeAt(D))return!0;return!1}(R,Y)){for(g(R,Y+=4),Y+=8;Y<R.length;){var X=u(R,Y),W=g(R,Y+=4);Y+=4;var M=W+(1&W);switch(X){case"VP8 ":case"VP8L":P.frames[B]===void 0&&(P.frames[B]={}),(le=P.frames[B]).src_off=z?de:Y-8,le.src_size=te+W+8,B++,z&&(z=!1,te=0,de=0);break;case"VP8X":(le=P.header={}).feature_flags=R[Y];var he=Y+4;le.canvas_width=1+p(R,he),he+=3,le.canvas_height=1+p(R,he),he+=3;break;case"ALPH":z=!0,te=M+8,de=Y-8;break;case"ANIM":(le=P.header).bgcolor=g(R,Y),he=Y+4,le.loop_count=f(R,he),he+=2;break;case"ANMF":var Se,le;(le=P.frames[B]={}).offset_x=2*p(R,Y),Y+=3,le.offset_y=2*p(R,Y),Y+=3,le.width=1+p(R,Y),Y+=3,le.height=1+p(R,Y),Y+=3,le.duration=p(R,Y),Y+=3,Se=R[Y++],le.dispose=1&Se,le.blend=Se>>1&1}X!="ANMF"&&(Y+=M)}return P}}(w,0);S.response=w,S.rgbaoutput=!0,S.dataurl=!1;var j=S.header?S.header:null,T=S.frames?S.frames:null;if(j){j.loop_counter=j.loop_count,d=[j.canvas_height],y=[j.canvas_width];for(var q=0;q<T.length&&T[q].blend!=0;q++);}var se=T[0],L=_.WebPDecodeRGBA(w,se.src_off,se.src_size,y,d);se.rgba=L,se.imgwidth=y[0],se.imgheight=d[0];for(var k=0;k<y[0]*d[0]*4;k++)x[k]=L[k];return this.width=y,this.height=d,this.data=x,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function oO(){var e,t=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function lO(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,r,n,a,s,o,l,c,u,f=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new c,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var p=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=A;Object.defineProperty(this,"pdf",{get:function(){return H}});var D=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return D},set:function(ae){D=!!ae}});var I=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return I},set:function(ae){I=!!ae}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(ae){isNaN(ae)||(ne=ae)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(ae){isNaN(ae)||(ge=ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ae){var Pe;typeof ae=="number"?Pe=[ae,ae,ae,ae]:((Pe=new Array(4))[0]=ae[0],Pe[1]=ae.length>=2?ae[1]:Pe[0],Pe[2]=ae.length>=3?ae[2]:Pe[0],Pe[3]=ae.length>=4?ae[3]:Pe[1]),u.margin=Pe}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(ae){Ee=ae}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(ae){xe=ae}});var Z=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Z},set:function(ae){Z=ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ae){ae instanceof f&&(u=ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ae){u.path=ae}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(ae){Me=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var Pe;Pe=g(ae),this.ctx.fillStyle=Pe.style,this.ctx.isFillTransparent=Pe.a===0,this.ctx.fillOpacity=Pe.a,this.pdf.setFillColor(Pe.r,Pe.g,Pe.b,{a:Pe.a}),this.pdf.setTextColor(Pe.r,Pe.g,Pe.b,{a:Pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var Pe=g(ae);this.ctx.strokeStyle=Pe.style,this.ctx.isStrokeTransparent=Pe.a===0,this.ctx.strokeOpacity=Pe.a,Pe.a===0?this.pdf.setDrawColor(255,255,255):(Pe.a,this.pdf.setDrawColor(Pe.r,Pe.g,Pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var Ve=null,it=null,dt=null;Object.defineProperty(this,"fontFaces",{get:function(){return dt},set:function(ae){Ve=null,it=null,dt=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var Pe;if(this.ctx.font=ae,(Pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ae))!==null){var et=Pe[1];Pe[2];var yt=Pe[3],Fe=Pe[4];Pe[5];var gt=Pe[6],xt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(xt==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:xt==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var Rt=function(bt){var wr,Mt,Zt=[],sr=bt.trim();if(sr==="")return vg;if(sr in sb)return[sb[sr]];for(;sr!=="";){switch(Mt=null,wr=(sr=ob(sr)).charAt(0)){case'"':case"'":Mt=tO(sr.substring(1),wr);break;default:Mt=rO(sr)}if(Mt===null||(Zt.push(Mt[0]),(sr=ob(Mt[1]))!==""&&sr.charAt(0)!==","))return vg;sr=sr.replace(/^,/,"")}return Zt}(gt);if(this.fontFaces){var Nt=function(bt,wr){var Mt=bt.getFontList(),Zt=JSON.stringify(Mt);if(Ve===null||it!==Zt){var sr=function(Tt){var Vt=[];return Object.keys(Tt).forEach(function(ir){Tt[ir].forEach(function(Xt){var at=null;switch(Xt){case"bold":at={family:ir,weight:"bold"};break;case"italic":at={family:ir,style:"italic"};break;case"bolditalic":at={family:ir,weight:"bold",style:"italic"};break;case"":case"normal":at={family:ir}}at!==null&&(at.ref={name:ir,style:Xt},Vt.push(at))})}),Vt}(Mt);Ve=function(Tt){for(var Vt={},ir=0;ir<Tt.length;++ir){var Xt=xg(Tt[ir]),at=Xt.family,Sr=Xt.stretch,pr=Xt.style,ar=Xt.weight;Vt[at]=Vt[at]||{},Vt[at][Sr]=Vt[at][Sr]||{},Vt[at][Sr][pr]=Vt[at][Sr][pr]||{},Vt[at][Sr][pr][ar]=Xt}return Vt}(sr.concat(wr)),it=Zt}return Ve}(this.pdf,this.fontFaces),je=Rt.map(function(bt){return{family:bt,stretch:"normal",weight:yt,style:et}}),jt=function(bt,wr,Mt){for(var Zt=(Mt=Mt||{}).defaultFontFamily||"times",sr=Object.assign({},eO,Mt.genericFontFamilies||{}),Tt=null,Vt=null,ir=0;ir<wr.length;++ir)if(sr[(Tt=xg(wr[ir])).family]&&(Tt.family=sr[Tt.family]),bt.hasOwnProperty(Tt.family)){Vt=bt[Tt.family];break}if(!(Vt=Vt||bt[Zt]))throw new Error("Could not find a font-family for the rule '"+ib(Tt)+"' and default family '"+Zt+"'.");if(Vt=function(Xt,at){if(at[Xt])return at[Xt];var Sr=i2[Xt],pr=Sr<=i2.normal?-1:1,ar=ab(at,LS,Sr,pr);if(!ar)throw new Error("Could not find a matching font-stretch value for "+Xt);return ar}(Tt.stretch,Vt),Vt=function(Xt,at){if(at[Xt])return at[Xt];for(var Sr=PS[Xt],pr=0;pr<Sr.length;++pr)if(at[Sr[pr]])return at[Sr[pr]];throw new Error("Could not find a matching font-style for "+Xt)}(Tt.style,Vt),!(Vt=function(Xt,at){if(at[Xt])return at[Xt];if(Xt===400&&at[500])return at[500];if(Xt===500&&at[400])return at[400];var Sr=ZF[Xt],pr=ab(at,FS,Sr,Xt<400?-1:1);if(!pr)throw new Error("Could not find a matching font-weight for value "+Xt);return pr}(Tt.weight,Vt)))throw new Error("Failed to resolve a font for the rule '"+ib(Tt)+"'.");return Vt}(Nt,je);this.pdf.setFont(jt.ref.name,jt.ref.style)}else{var pe="";(yt==="bold"||parseInt(yt,10)>=700||et==="bold")&&(pe="bold"),et==="italic"&&(pe+="italic"),pe.length===0&&(pe="normal");for(var Ze="",pt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<Rt.length;tt++){if(this.pdf.internal.getFont(Rt[tt],pe,{noFallback:!0,disableWarning:!0})!==void 0){Ze=Rt[tt];break}if(pe==="bolditalic"&&this.pdf.internal.getFont(Rt[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ze=Rt[tt],pe="bold";else if(this.pdf.internal.getFont(Rt[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ze=Rt[tt],pe="normal";break}}if(Ze===""){for(var Ct=0;Ct<Rt.length;Ct++)if(pt[Rt[Ct]]){Ze=pt[Rt[Ct]];break}}Ze=Ze===""?"Times":Ze,this.pdf.setFont(Ze,pe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};p.prototype.setLineDash=function(A){this.lineDash=A},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){T.call(this,"fill",!1)},p.prototype.stroke=function(){T.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(A,H){if(isNaN(A)||isNaN(H))throw dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var D=this.ctx.transform.applyToPoint(new o(A,H));this.path.push({type:"mt",x:D.x,y:D.y}),this.ctx.lastPoint=new o(A,H)},p.prototype.closePath=function(){var A=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&tn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){A=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},p.prototype.lineTo=function(A,H){if(isNaN(A)||isNaN(H))throw dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var D=this.ctx.transform.applyToPoint(new o(A,H));this.path.push({type:"lt",x:D.x,y:D.y}),this.ctx.lastPoint=new o(D.x,D.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},p.prototype.quadraticCurveTo=function(A,H,D,I){if(isNaN(D)||isNaN(I)||isNaN(A)||isNaN(H))throw dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(D,I)),ge=this.ctx.transform.applyToPoint(new o(A,H));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},p.prototype.bezierCurveTo=function(A,H,D,I,ne,ge){if(isNaN(ne)||isNaN(ge)||isNaN(A)||isNaN(H)||isNaN(D)||isNaN(I))throw dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new o(ne,ge)),xe=this.ctx.transform.applyToPoint(new o(A,H)),Z=this.ctx.transform.applyToPoint(new o(D,I));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Z.x,y2:Z.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new o(Ee.x,Ee.y)},p.prototype.arc=function(A,H,D,I,ne,ge){if(isNaN(A)||isNaN(H)||isNaN(D)||isNaN(I)||isNaN(ne))throw dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new o(A,H));A=Ee.x,H=Ee.y;var xe=this.ctx.transform.applyToPoint(new o(0,D)),Z=this.ctx.transform.applyToPoint(new o(0,0));D=Math.sqrt(Math.pow(xe.x-Z.x,2)+Math.pow(xe.y-Z.y,2))}Math.abs(ne-I)>=2*Math.PI&&(I=0,ne=2*Math.PI),this.path.push({type:"arc",x:A,y:H,radius:D,startAngle:I,endAngle:ne,counterclockwise:ge})},p.prototype.arcTo=function(A,H,D,I,ne){throw new Error("arcTo not implemented.")},p.prototype.rect=function(A,H,D,I){if(isNaN(A)||isNaN(H)||isNaN(D)||isNaN(I))throw dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,H),this.lineTo(A+D,H),this.lineTo(A+D,H+I),this.lineTo(A,H+I),this.lineTo(A,H),this.lineTo(A+D,H),this.lineTo(A,H)},p.prototype.fillRect=function(A,H,D,I){if(isNaN(A)||isNaN(H)||isNaN(D)||isNaN(I))throw dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,H,D,I),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},p.prototype.strokeRect=function(A,H,D,I){if(isNaN(A)||isNaN(H)||isNaN(D)||isNaN(I))throw dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(A,H,D,I),this.stroke())},p.prototype.clearRect=function(A,H,D,I){if(isNaN(A)||isNaN(H)||isNaN(D)||isNaN(I))throw dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,H,D,I))},p.prototype.save=function(A){A=typeof A!="boolean"||A;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var I=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=I}},p.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("Q");this.pdf.setPage(H),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(A){var H,D,I,ne;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))H=0,D=0,I=0,ne=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(ge!==null)H=parseInt(ge[1]),D=parseInt(ge[2]),I=parseInt(ge[3]),ne=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)H=parseInt(ge[1]),D=parseInt(ge[2]),I=parseInt(ge[3]),ne=parseFloat(ge[4]);else{if(ne=1,typeof A=="string"&&A.charAt(0)!=="#"){var Ee=new SS(A);A=Ee.ok?Ee.toHex():"#000000"}A.length===4?(H=A.substring(1,2),H+=H,D=A.substring(2,3),D+=D,I=A.substring(3,4),I+=I):(H=A.substring(1,3),D=A.substring(3,5),I=A.substring(5,7)),H=parseInt(H,16),D=parseInt(D,16),I=parseInt(I,16)}}return{r:H,g:D,b:I,a:ne,style:A}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(A,H,D,I){if(isNaN(H)||isNaN(D)||typeof A!="string")throw dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(I=isNaN(I)?void 0:I,!d.call(this)){var ne=M(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;B.call(this,{text:A,x:H,y:D,scale:ge,angle:ne,align:this.textAlign,maxWidth:I})}},p.prototype.strokeText=function(A,H,D,I){if(isNaN(H)||isNaN(D)||typeof A!="string")throw dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){I=isNaN(I)?void 0:I;var ne=M(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;B.call(this,{text:A,x:H,y:D,scale:ge,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:I})}},p.prototype.measureText=function(A){if(typeof A!="string")throw dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,D=this.pdf.internal.scaleFactor,I=H.internal.getFontSize(),ne=H.getStringUnitWidth(A)*I/H.internal.scaleFactor;return new function(ge){var Ee=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:ne*=Math.round(96*D/72*1e4)/1e4})},p.prototype.scale=function(A,H){if(isNaN(A)||isNaN(H))throw dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var D=new c(A,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(D)},p.prototype.rotate=function(A){if(isNaN(A))throw dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.translate=function(A,H){if(isNaN(A)||isNaN(H))throw dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var D=new c(1,0,0,1,A,H);this.ctx.transform=this.ctx.transform.multiply(D)},p.prototype.transform=function(A,H,D,I,ne,ge){if(isNaN(A)||isNaN(H)||isNaN(D)||isNaN(I)||isNaN(ne)||isNaN(ge))throw dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new c(A,H,D,I,ne,ge);this.ctx.transform=this.ctx.transform.multiply(Ee)},p.prototype.setTransform=function(A,H,D,I,ne,ge){A=isNaN(A)?1:A,H=isNaN(H)?0:H,D=isNaN(D)?0:D,I=isNaN(I)?1:I,ne=isNaN(ne)?0:ne,ge=isNaN(ge)?0:ge,this.ctx.transform=new c(A,H,D,I,ne,ge)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(A,H,D,I,ne,ge,Ee,xe,Z){var Me=this.pdf.getImageProperties(A),Ve=1,it=1,dt=1,ae=1;I!==void 0&&xe!==void 0&&(dt=xe/I,ae=Z/ne,Ve=Me.width/I*xe/I,it=Me.height/ne*Z/ne),ge===void 0&&(ge=H,Ee=D,H=0,D=0),I!==void 0&&xe===void 0&&(xe=I,Z=ne),I===void 0&&xe===void 0&&(xe=Me.width,Z=Me.height);var Pe=this.ctx.transform.decompose(),et=M(Pe.rotate.shx),yt=new c,Fe=(yt=(yt=(yt=yt.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale)).applyToRectangle(new l(ge-H*dt,Ee-D*ae,I*Ve,ne*it));if(this.autoPaging){for(var gt,xt=_.call(this,Fe),Rt=[],Nt=0;Nt<xt.length;Nt+=1)Rt.indexOf(xt[Nt])===-1&&Rt.push(xt[Nt]);j(Rt);for(var je=Rt[0],jt=Rt[Rt.length-1],pe=je;pe<jt+1;pe++){this.pdf.setPage(pe);var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=pe===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=pe===1?0:tt+(pe-2)*Ct;if(this.ctx.clip_path.length!==0){var wr=this.path;gt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(gt,this.posX+this.margin[3],-bt+pt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=wr}var Mt=JSON.parse(JSON.stringify(Fe));Mt=S([Mt],this.posX+this.margin[3],-bt+pt+this.ctx.prevPageLastElemOffset)[0];var Zt=(pe>je||pe<jt)&&x.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,Ct,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,et),Zt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(A,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,et)};var _=function(A,H,D){var I=[];H=H||this.pdf.internal.pageSize.width,D=D||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":I.push(Math.floor((A.y+ne)/D)+1);break;case"arc":I.push(Math.floor((A.y+ne-A.radius)/D)+1),I.push(Math.floor((A.y+ne+A.radius)/D)+1);break;case"qct":var ge=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);I.push(Math.floor((ge.y+ne)/D)+1),I.push(Math.floor((ge.y+ge.h+ne)/D)+1);break;case"bct":var Ee=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);I.push(Math.floor((Ee.y+ne)/D)+1),I.push(Math.floor((Ee.y+Ee.h+ne)/D)+1);break;case"rect":I.push(Math.floor((A.y+ne)/D)+1),I.push(Math.floor((A.y+A.h+ne)/D)+1)}for(var xe=0;xe<I.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<I[xe];)w.call(this);return I},w=function(){var A=this.fillStyle,H=this.strokeStyle,D=this.font,I=this.lineCap,ne=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=H,this.font=D,this.lineCap=I,this.lineWidth=ne,this.lineJoin=ge},S=function(A,H,D){for(var I=0;I<A.length;I++)switch(A[I].type){case"bct":A[I].x2+=H,A[I].y2+=D;case"qct":A[I].x1+=H,A[I].y1+=D;default:A[I].x+=H,A[I].y+=D}return A},j=function(A){return A.sort(function(H,D){return H-D})},T=function(A,H){var D=this.fillStyle,I=this.strokeStyle,ne=this.lineCap,ge=this.lineWidth,Ee=Math.abs(ge*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Z,Me,Ve=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),dt=[],ae=0;ae<it.length;ae++)if(it[ae].x!==void 0)for(var Pe=_.call(this,it[ae]),et=0;et<Pe.length;et+=1)dt.indexOf(Pe[et])===-1&&dt.push(Pe[et]);for(var yt=0;yt<dt.length;yt++)for(;this.pdf.internal.getNumberOfPages()<dt[yt];)w.call(this);j(dt);for(var Fe=dt[0],gt=dt[dt.length-1],xt=Fe;xt<gt+1;xt++){this.pdf.setPage(xt),this.fillStyle=D,this.strokeStyle=I,this.lineCap=ne,this.lineWidth=Ee,this.lineJoin=xe;var Rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=xt===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pe=xt===1?0:je+(xt-2)*jt;if(this.ctx.clip_path.length!==0){var Ze=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Z,this.posX+this.margin[3],-pe+Nt+this.ctx.prevPageLastElemOffset),q.call(this,A,!0),this.path=Ze}if(Me=JSON.parse(JSON.stringify(Ve)),this.path=S(Me,this.posX+this.margin[3],-pe+Nt+this.ctx.prevPageLastElemOffset),H===!1||xt===0){var pt=(xt>Fe||xt<gt)&&x.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,jt,null).clip().discardPath()),q.call(this,A,H),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}this.path=Ve}else this.lineWidth=Ee,q.call(this,A,H),this.lineWidth=ge},q=function(A,H){if((A!=="stroke"||H||!y.call(this))&&(A==="stroke"||H||!d.call(this))){for(var D,I,ne=[],ge=this.path,Ee=0;Ee<ge.length;Ee++){var xe=ge[Ee];switch(xe.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:xe,deltas:[],abs:[]});break;case"lt":var Z=ne.length;if(ge[Ee-1]&&!isNaN(ge[Ee-1].x)&&(D=[xe.x-ge[Ee-1].x,xe.y-ge[Ee-1].y],Z>0)){for(;Z>=0;Z--)if(ne[Z-1].close!==!0&&ne[Z-1].begin!==!0){ne[Z-1].deltas.push(D),ne[Z-1].abs.push(xe);break}}break;case"bct":D=[xe.x1-ge[Ee-1].x,xe.y1-ge[Ee-1].y,xe.x2-ge[Ee-1].x,xe.y2-ge[Ee-1].y,xe.x-ge[Ee-1].x,xe.y-ge[Ee-1].y],ne[ne.length-1].deltas.push(D);break;case"qct":var Me=ge[Ee-1].x+2/3*(xe.x1-ge[Ee-1].x),Ve=ge[Ee-1].y+2/3*(xe.y1-ge[Ee-1].y),it=xe.x+2/3*(xe.x1-xe.x),dt=xe.y+2/3*(xe.y1-xe.y),ae=xe.x,Pe=xe.y;D=[Me-ge[Ee-1].x,Ve-ge[Ee-1].y,it-ge[Ee-1].x,dt-ge[Ee-1].y,ae-ge[Ee-1].x,Pe-ge[Ee-1].y],ne[ne.length-1].deltas.push(D);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(xe)}}I=H?null:A==="stroke"?"stroke":"fill";for(var et=!1,yt=0;yt<ne.length;yt++)if(ne[yt].arc)for(var Fe=ne[yt].abs,gt=0;gt<Fe.length;gt++){var xt=Fe[gt];xt.type==="arc"?k.call(this,xt.x,xt.y,xt.radius,xt.startAngle,xt.endAngle,xt.counterclockwise,void 0,H,!et):z.call(this,xt.x,xt.y),et=!0}else if(ne[yt].close===!0)this.pdf.internal.out("h"),et=!1;else if(ne[yt].begin!==!0){var Rt=ne[yt].start.x,Nt=ne[yt].start.y;te.call(this,ne[yt].deltas,Rt,Nt),et=!0}I&&R.call(this,I),H&&Y.call(this)}},se=function(A){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,D=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-D;case"top":return A+H-D;case"hanging":return A+H-2*D;case"middle":return A+H/2-D;default:return A}},L=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(H,D){this.colorStops.push([H,D])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(A,H,D,I,ne,ge,Ee,xe,Z){for(var Me=X.call(this,D,I,ne,ge),Ve=0;Ve<Me.length;Ve++){var it=Me[Ve];Ve===0&&(Z?P.call(this,it.x1+A,it.y1+H):z.call(this,it.x1+A,it.y1+H)),de.call(this,A,H,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}xe?Y.call(this):R.call(this,Ee)},R=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Y=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(A,H){this.pdf.internal.out(r(A)+" "+n(H)+" m")},B=function(A){var H;switch(A.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var D,I,ne,ge=this.pdf.getTextDimensions(A.text),Ee=se.call(this,A.y),xe=L.call(this,Ee)-ge.h,Z=this.ctx.transform.applyToPoint(new o(A.x,Ee));if(this.autoPaging){var Me=this.ctx.transform.decompose(),Ve=new c;Ve=(Ve=(Ve=Ve.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale);for(var it=this.ctx.transform.applyToRectangle(new l(A.x,Ee,ge.w,ge.h)),dt=Ve.applyToRectangle(new l(A.x,xe,ge.w,ge.h)),ae=_.call(this,dt),Pe=[],et=0;et<ae.length;et+=1)Pe.indexOf(ae[et])===-1&&Pe.push(ae[et]);j(Pe);for(var yt=Pe[0],Fe=Pe[Pe.length-1],gt=yt;gt<Fe+1;gt++){this.pdf.setPage(gt);var xt=gt===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[2],je=Nt-this.margin[0],jt=this.pdf.internal.pageSize.width-this.margin[1],pe=jt-this.margin[3],Ze=gt===1?0:Rt+(gt-2)*je;if(this.ctx.clip_path.length!==0){var pt=this.path;D=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(D,this.posX+this.margin[3],-1*Ze+xt),q.call(this,"fill",!0),this.path=pt}var tt=S([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-Ze+xt+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(I=this.pdf.internal.getFontSize(),this.pdf.setFontSize(I*A.scale),ne=this.lineWidth,this.lineWidth=ne*A.scale);var Ct=this.autoPaging!=="text";if(Ct||tt.y+tt.h<=Nt){if(Ct||tt.y>=xt&&tt.x<=jt){var bt=Ct?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||jt-tt.x)[0],wr=S([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Ze+xt+this.ctx.prevPageLastElemOffset)[0],Mt=Ct&&(gt>yt||gt<Fe)&&x.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pe,je,null).clip().discardPath()),this.pdf.text(bt,wr.x,wr.y,{angle:A.angle,align:H,renderingMode:A.renderingMode}),Mt&&this.pdf.restoreGraphicsState()}}else tt.y<Nt&&(this.ctx.prevPageLastElemOffset+=Nt-tt.y);A.scale>=.01&&(this.pdf.setFontSize(I),this.lineWidth=ne)}}else A.scale>=.01&&(I=this.pdf.internal.getFontSize(),this.pdf.setFontSize(I*A.scale),ne=this.lineWidth,this.lineWidth=ne*A.scale),this.pdf.text(A.text,Z.x+this.posX,Z.y+this.posY,{angle:A.angle,align:H,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(I),this.lineWidth=ne)},z=function(A,H,D,I){D=D||0,I=I||0,this.pdf.internal.out(r(A+D)+" "+n(H+I)+" l")},te=function(A,H,D){return this.pdf.lines(A,H,D,null,null)},de=function(A,H,D,I,ne,ge,Ee,xe){this.pdf.internal.out([t(a(D+A)),t(s(I+H)),t(a(ne+A)),t(s(ge+H)),t(a(Ee+A)),t(s(xe+H)),"c"].join(" "))},X=function(A,H,D,I){for(var ne=2*Math.PI,ge=Math.PI/2;H>D;)H-=ne;var Ee=Math.abs(D-H);Ee<ne&&I&&(Ee=ne-Ee);for(var xe=[],Z=I?-1:1,Me=H;Ee>1e-5;){var Ve=Me+Z*Math.min(Ee,ge);xe.push(W.call(this,A,Me,Ve)),Ee-=Math.abs(Ve-Me),Me=Ve}return xe},W=function(A,H,D){var I=(D-H)/2,ne=A*Math.cos(I),ge=A*Math.sin(I),Ee=ne,xe=-ge,Z=Ee*Ee+xe*xe,Me=Z+Ee*ne+xe*ge,Ve=4/3*(Math.sqrt(2*Z*Me)-Me)/(Ee*ge-xe*ne),it=Ee-Ve*xe,dt=xe+Ve*Ee,ae=it,Pe=-dt,et=I+H,yt=Math.cos(et),Fe=Math.sin(et);return{x1:A*Math.cos(H),y1:A*Math.sin(H),x2:it*yt-dt*Fe,y2:it*Fe+dt*yt,x3:ae*yt-Pe*Fe,y3:ae*Fe+Pe*yt,x4:A*Math.cos(D),y4:A*Math.sin(D)}},M=function(A){return 180*A/Math.PI},he=function(A,H,D,I,ne,ge){var Ee=A+.5*(D-A),xe=H+.5*(I-H),Z=ne+.5*(D-ne),Me=ge+.5*(I-ge),Ve=Math.min(A,ne,Ee,Z),it=Math.max(A,ne,Ee,Z),dt=Math.min(H,ge,xe,Me),ae=Math.max(H,ge,xe,Me);return new l(Ve,dt,it-Ve,ae-dt)},Se=function(A,H,D,I,ne,ge,Ee,xe){var Z,Me,Ve,it,dt,ae,Pe,et,yt,Fe,gt,xt,Rt,Nt,je=D-A,jt=I-H,pe=ne-D,Ze=ge-I,pt=Ee-ne,tt=xe-ge;for(Me=0;Me<41;Me++)yt=(Pe=(Ve=A+(Z=Me/40)*je)+Z*((dt=D+Z*pe)-Ve))+Z*(dt+Z*(ne+Z*pt-dt)-Pe),Fe=(et=(it=H+Z*jt)+Z*((ae=I+Z*Ze)-it))+Z*(ae+Z*(ge+Z*tt-ae)-et),Me==0?(gt=yt,xt=Fe,Rt=yt,Nt=Fe):(gt=Math.min(gt,yt),xt=Math.min(xt,Fe),Rt=Math.max(Rt,yt),Nt=Math.max(Nt,Fe));return new l(Math.round(gt),Math.round(xt),Math.round(Rt-gt),Math.round(Nt-xt))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,H,D=(A=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:H}));this.prevLineDash!==D&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=D)}}})(Yt.API),function(e){var t=function(o){var l,c,u,f,p,g,d,y,x,_;for(c=[],u=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(p=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(g=(p=((p=((p=((p=(p-(_=p%85))/85)-(x=p%85))/85)-(y=p%85))/85)-(d=p%85))/85)%85,c.push(g+33,d+33,y+33,x+33,_+33)):c.push(122);return function(w,S){for(var j=S;j>0;j--)w.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,f,p,g=String,d="length",y=255,x="charCodeAt",_="slice",w="replace";for(o[_](-2),o=o[_](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],f=0,p=(o+=l="uuuuu"[_](o[d]%5||5))[d];p>f;f+=5)c=52200625*(o[x](f)-33)+614125*(o[x](f+1)-33)+7225*(o[x](f+2)-33)+85*(o[x](f+3)-33)+(o[x](f+4)-33),u.push(y&c>>24,y&c>>16,y&c>>8,y&c);return function(S,j){for(var T=j;T>0;T--)S.pop()}(u,l[d]),g.fromCharCode.apply(g,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=Zx(l)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(Yt.API),function(e){e.loadFile=function(t,r,n){return function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,f){var p=new XMLHttpRequest,g=0,d=function(y){var x=y.length,_=[],w=String.fromCharCode;for(g=0;g<x;g+=1)_.push(w(255&y.charCodeAt(g)));return _.join("")};if(p.open("GET",c,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?f(d(this.responseText)):f(void 0)}),p.send(null),u&&p.status===200)return d(p.responseText)}(a,s,o)}catch{}return l}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(Yt.API),function(e){function t(){return(vr.html2canvas?Promise.resolve(vr.html2canvas):Z1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(vr.DOMPurify?Promise.resolve(vr.DOMPurify):Z1(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=tn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},s=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),u);return(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var d=0;d<f.length;++d){var y=f[d],x=y.src.find(function(_){return _.format==="truetype"});x&&u.addFont(x.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(l=l||Yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,f){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(f,p){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,f),g}).then(f,p).then(function(g){return u.updateProgress(1),g})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),g=u.call(p,l,c);return o.convert(g,f.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Yt.getPageSize=function(l,c,u){if(tn(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var p,g=(""+u).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var y,x=0,_=0;if(d.hasOwnProperty(g))x=d[g][1]/p,_=d[g][0]/p;else try{x=u[1],_=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",_>x&&(y=_,_=x,x=y);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>_&&(y=_,_=x,x=y)}return{width:_,height:x,unit:c,k:p,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(xg):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(Yt.API),Yt.API.addJS=function(e){var t,r,n=e;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var p=r.internal.newObject();f.push(p);var g=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<f.length;s++)r.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(Yt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,o,l){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(p){for(var g,d=256*p.charCodeAt(4)+p.charCodeAt(5),y=p.length,x={width:0,height:0,numcomponents:1},_=4;_<y;_+=2){if(_+=d,t.indexOf(p.charCodeAt(_+1))!==-1){g=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),x={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:g,numcomponents:p.charCodeAt(_+9)};break}d=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return f}}(Yt.API),Yt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=BF(e,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,u=s.palette,f=s.depth;a=u&&c===1?function(k){for(var R=k.width,Y=k.height,P=k.data,B=k.palette,z=k.depth,te=!1,de=[],X=[],W=void 0,M=!1,he=0,Se=0;Se<B.length;Se++){var le=hw(B[Se],4),A=le[0],H=le[1],D=le[2],I=le[3];de.push(A,H,D),I!=null&&(I===0?(he++,X.length<1&&X.push(Se)):I<255&&(M=!0))}if(M||he>1){te=!0,X=void 0;var ne=R*Y;W=new Uint8Array(ne);for(var ge=new DataView(P.buffer),Ee=0;Ee<ne;Ee++){var xe=yg(ge,Ee,z),Z=hw(B[xe],4)[3];W[Ee]=Z}}else he===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:te?8:void 0,colorBytes:P,alphaBytes:W,needSMask:te,palette:de,mask:X}}(s):c===2||c===4?function(k){for(var R=k.data,Y=k.width,P=k.height,B=k.channels,z=k.depth,te=B===2?"DeviceGray":"DeviceRGB",de=B-1,X=Y*P,W=de,M=X*W,he=1*X,Se=Math.ceil(M*z/8),le=Math.ceil(he*z/8),A=new Uint8Array(Se),H=new Uint8Array(le),D=new DataView(R.buffer),I=new DataView(A.buffer),ne=new DataView(H.buffer),ge=!1,Ee=0;Ee<X;Ee++){for(var xe=Ee*B,Z=0;Z<W;Z++)gb(I,yg(D,xe+Z,z),Ee*W+Z,z);var Me=yg(D,xe+W,z);Me<(1<<z)-1&&(ge=!0),gb(ne,Me,1*Ee,z)}return{colorSpace:te,colorsPerPixel:de,sMaskBitsPerComponent:ge?z:void 0,colorBytes:A,alphaBytes:H,needSMask:ge}}(s):function(k){var R=k.data,Y=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Y,colorsPerPixel:Y==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?function(P){for(var B=P.length,z=new Uint8Array(2*B),te=new DataView(z.buffer,z.byteOffset,z.byteLength),de=0;de<B;de++)te.setUint16(2*de,P[de],!1);return z}(R):R,needSMask:!1}}(s);var p,g,d,y=a,x=y.colorSpace,_=y.colorsPerPixel,w=y.sMaskBitsPerComponent,S=y.colorBytes,j=y.alphaBytes,T=y.needSMask,q=y.palette,se=y.mask,L=null;return n!==Yt.API.image_compression.NONE&&typeof Zx=="function"?(L=function(k){var R;switch(k){case Yt.API.image_compression.FAST:R=11;break;case Yt.API.image_compression.MEDIUM:R=13;break;case Yt.API.image_compression.SLOW:R=14;break;default:R=12}return R}(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(L," /Colors ").concat(_," /BitsPerComponent ").concat(f," /Columns ").concat(o),e=fb(S,Math.ceil(o*_*f/8),_,f,n),T&&(d=fb(j,Math.ceil(o*w/8),1,w,n))):(p=void 0,g=void 0,e=S,T&&(d=j)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:r,data:e,index:t,filter:p,decodeParameters:g,transparency:se,palette:q,sMask:d,predictor:L,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:w,colorSpace:x}}},function(e){e.processGIF89A=function(t,r,n,a){var s=new iO(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},f=new wg(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)},e.processGIF87A=e.processGIF89A}(Yt.API),$i.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},$i.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(r){dn.log("bit decode error:"+r)}},$i.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},$i.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},$i.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},$i.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,f=n*this.width*4+4*a;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=u}this.pos+=e}},$i.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,f=a*this.width*4+4*s;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},$i.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},$i.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},$i.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new $i(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new wg(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Yt.API),vb.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new vb(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new wg(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Yt.API),Yt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var f=n[u],p=n[u+1],g=n[u+2],d=n[u+3];s[l++]=f,s[l++]=p,s[l++]=g,o[c++]=d}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Yt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Du=Yt.API,Eh=Du.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,f=u.fof?u.fof:1,p=t.doKerning!==!1,g=0,d=e.length,y=0,x=l[0]||c,_=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?_.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(g=p&&tn(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/f:0,_.push((l[n]||x)/c+g)),y=n;return _},lb=Du.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Du.processArabic&&(e=Du.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Eh.apply(this,arguments).reduce(function(s,o){return s+o},0)},cb=function(e,t,r,n){for(var a=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;a.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>n&&(a.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},ub=function(e,t,r){r||(r={});var n,a,s,o,l,c,u,f=[],p=[f],g=r.textIndent||0,d=0,y=0,x=e.split(" "),_=Eh.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var w=Array(c).join(" "),S=[];x.map(function(T){(T=T.split(/\s*\n/)).length>1?S=S.concat(T.map(function(q,se){return(se&&q.length?`
`:"")+q})):S.push(T[0])}),x=S,c=lb.apply(this,[w,r])}for(s=0,o=x.length;s<o;s++){var j=0;if(n=x[s],c&&n[0]==`
`&&(n=n.substr(1),j=1),g+d+(y=(a=Eh.apply(this,[n,r])).reduce(function(T,q){return T+q},0))>t||j){if(y>t){for(l=cb.apply(this,[n,a,t-(g+d),t]),f.push(l.shift()),f=[l.pop()];l.length;)p.push([l.shift()]);y=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(T,q){return T+q},0)}else f=[n];p.push(f),g=y+c,d=_}else f.push(n),g+=d+y,d=_}return u=c?function(T,q){return(q?w:"")+T.join(" ")}:function(T){return T.join(" ")},p.map(u)},Du.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(ub.apply(this,[n[l],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=t[s],a[t[s]]=r[s];var o=function(g){return"0x"+parseInt(g,10).toString(16)},l=e.__fontmetrics__.compress=function(g){var d,y,x,_,w=["{"];for(var S in g){if(d=g[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=o(S).slice(2)).slice(0,-1)+a[y.slice(-1)]),typeof d=="number")d<0?(x=o(d).slice(3),_="-"):(x=o(d).slice(2),_=""),x=_+x.slice(0,-1)+a[x.slice(-1)];else{if(tn(d)!=="object")throw new Error("Don't know what to do with value type "+tn(d)+".");x=l(d)}w.push(y+x)}return w.push("}"),w.join("")},c=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,y,x,_,w={},S=1,j=w,T=[],q="",se="",L=g.length-1,k=1;k<L;k+=1)(_=g[k])=="'"?d?(x=d.join(""),d=void 0):d=[]:d?d.push(_):_=="{"?(T.push([j,x]),j={},x=void 0):_=="}"?((y=T.pop())[0][y[1]]=j,x=void 0,j=y[0]):_=="-"?S=-1:x===void 0?n.hasOwnProperty(_)?(q+=n[_],x=parseInt(q,16)*S,S=1,q=""):q+=_:n.hasOwnProperty(_)?(se+=n[_],j[x]=parseInt(se,16)*S,S=1,x=void 0,se=""):se+=_;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var d=g.font,y=p.Unicode[d.postScriptName];y&&(d.metadata.Unicode={},d.metadata.Unicode.widths=y.widths,d.metadata.Unicode.kerning=y.kerning);var x=f.Unicode[d.postScriptName];x&&(d.metadata.Unicode.encoding=x,d.encoding=x.codePages[0])}])}(Yt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(sp(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Yt),Yt.API.addSvgAsImage=function(e,t,r,n,a,s,o,l){if(isNaN(t)||isNaN(r))throw dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(vr.canvg?Promise.resolve(vr.canvg):Z1(()=>import("./index.es-D5auhUIS.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),t,r,n,a,o,l)})},Yt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Yt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,f=0,p=0;function g(y,x){var _,w=!1;for(_=0;_<y.length;_+=1)y[_]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=l.length;for(p=0;p<d;p+=1)r[l[p]].value=r[l[p]].defaultValue,r[l[p]].explicitSet=!1}if(tn(e)==="object"){for(a in e)if(s=e[a],g(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&g(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,x=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?x.push("/"+y+" /"+r[y].value):x.push("/"+y+" "+r[y].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Yt.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",lO),this.internal.events.subscribe("postPutResources",oO)),this},function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],p=0,g=s.length;p<g;++p){if(l=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(u[4-l.length],l)}return f.join("")},n=function(s){var o,l,c,u,f,p,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(l=Object.keys(s).sort(function(d,y){return d-y})).length;p<g;p++)o=l[p],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),d="",y=0;y<g.length;y++)d+=String.fromCharCode(g[y]);var x=u();f({data:d,addLength1:!0,objectId:x}),c("endobj");var _=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var w=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+$u(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var S=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+$u(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+e.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+_+" 0 R"),c("/BaseFont /"+$u(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+S+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,g="",d=0;d<p.length;d++)g+=String.fromCharCode(p[d]);var y=u();f({data:g,addLength1:!0,objectId:y}),c("endobj");var x=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var _=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+$u(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+$u(l.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,l=s.text||"",c=s.x,u=s.y,f=s.options||{},p=s.mutex||{},g=p.pdfEscape,d=p.activeFontKey,y=p.fonts,x=d,_="",w=0,S="",j=y[x].encoding;if(y[x].encoding!=="Identity-H")return{text:l,x:c,y:u,options:f,mutex:p};for(S=l,x=d,Array.isArray(l)&&(S=l[0]),w=0;w<S.length;w+=1)y[x].metadata.hasOwnProperty("cmap")&&(o=y[x].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),o||S[w].charCodeAt(0)<256&&y[x].metadata.hasOwnProperty("Unicode")?_+=S[w]:_+="";var T="";return parseInt(x.slice(1))<14||j==="WinAnsiEncoding"?T=g(_,x).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(T=r(_,y[x])),p.isHex=!0,{text:T,x:c,y:u,options:f,mutex:p}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:o})).text}])}(Yt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Yt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,o,l,c,u,f,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,j=0;this.__bidiEngine__={};var T=function(P){var B=P.charCodeAt(),z=B>>8,te=x[z];return te!==void 0?p[256*te+(255&B)]:z===252||z===253?"AL":w.test(z)?"L":z===8?"R":"N"},q=function(P){for(var B,z=0;z<P.length;z++){if((B=T(P.charAt(z)))==="L")return!1;if(B==="R")return!0}return!1},se=function(P,B,z,te){var de,X,W,M,he=B[te];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(he="AN");break;case"AL":S=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":te<1||te+1>=B.length||(de=z[te-1])!=="EN"&&de!=="AN"||(X=B[te+1])!=="EN"&&X!=="AN"?he="N":S&&(X="AN"),he=X===de?X:"N";break;case"ES":he=(de=te>0?z[te-1]:"B")==="EN"&&te+1<B.length&&B[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&z[te-1]==="EN"){he="EN";break}if(S){he="N";break}for(W=te+1,M=B.length;W<M&&B[W]==="ET";)W++;he=W<M&&B[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(M=B.length,W=te+1;W<M&&B[W]==="NSM";)W++;if(W<M){var Se=P[te],le=Se>=1425&&Se<=2303||Se===64286;if(de=B[W],le&&(de==="R"||de==="AL")){he="R";break}}}he=te<1||(de=B[te-1])==="B"?"N":z[te-1];break;case"B":S=!1,a=!0,he=j;break;case"S":s=!0,he="N"}return he},L=function(P,B,z){var te=P.split("");return z&&k(te,z,{hiLevel:j}),te.reverse(),B&&B.reverse(),te.join("")},k=function(P,B,z){var te,de,X,W,M,he=-1,Se=P.length,le=0,A=[],H=j?d:g,D=[];for(S=!1,a=!1,s=!1,de=0;de<Se;de++)D[de]=T(P[de]);for(X=0;X<Se;X++){if(M=le,A[X]=se(P,D,A,X),te=240&(le=H[M][y[A[X]]]),le&=15,B[X]=W=H[le][5],te>0)if(te===16){for(de=he;de<X;de++)B[de]=1;he=-1}else he=-1;if(H[le][6])he===-1&&(he=X);else if(he>-1){for(de=he;de<X;de++)B[de]=W;he=-1}D[X]==="B"&&(B[X]=0),z.hiLevel|=W}s&&function(I,ne,ge){for(var Ee=0;Ee<ge;Ee++)if(I[Ee]==="S"){ne[Ee]=j;for(var xe=Ee-1;xe>=0&&I[xe]==="WS";xe--)ne[xe]=j}}(D,B,Se)},R=function(P,B,z,te,de){if(!(de.hiLevel<P)){if(P===1&&j===1&&!a)return B.reverse(),void(z&&z.reverse());for(var X,W,M,he,Se=B.length,le=0;le<Se;){if(te[le]>=P){for(M=le+1;M<Se&&te[M]>=P;)M++;for(he=le,W=M-1;he<W;he++,W--)X=B[he],B[he]=B[W],B[W]=X,z&&(X=z[he],z[he]=z[W],z[W]=X);le=M}le++}}},Y=function(P,B,z){var te=P.split(""),de={hiLevel:j};return z||(z=[]),k(te,z,de),function(X,W,M){if(M.hiLevel!==0&&f)for(var he,Se=0;Se<X.length;Se++)W[Se]===1&&(he=_.indexOf(X[Se]))>=0&&(X[Se]=_[he+1])}(te,z,de),R(2,te,B,z,de),R(1,te,B,z,de),te.join("")};return this.__bidiEngine__.doBidiReorder=function(P,B,z){if(function(de,X){if(X)for(var W=0;W<de.length;W++)X[W]=W;l===void 0&&(l=q(de)),u===void 0&&(u=q(de))}(P,B),o||!c||u)if(o&&c&&l^u)j=l?1:0,P=L(P,B,z);else if(!o&&c&&u)j=l?1:0,P=Y(P,B,z),P=L(P,B);else if(!o||l||c||u){if(o&&!c&&l^u)P=L(P,B),l?(j=0,P=Y(P,B,z)):(j=1,P=Y(P,B,z),P=L(P,B));else if(o&&l&&!c&&u)j=1,P=Y(P,B,z),P=L(P,B);else if(!o&&!c&&l^u){var te=f;l?(j=1,P=Y(P,B,z),j=0,f=!1,P=Y(P,B,z),f=te):(j=0,P=Y(P,B,z),P=L(P,B),j=1,f=!1,P=Y(P,B,z),f=te,P=L(P,B))}}else j=0,P=Y(P,B,z);else j=l?1:0,P=Y(P,B,z);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,u=P.isOutputRtl,f=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Yt),Yt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new bc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new NO(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new cO(this.contents),this.head=new fO(this),this.name=new gO(this),this.cmap=new RS(this),this.toUnicode={},this.hhea=new dO(this),this.maxp=new xO(this),this.hmtx=new vO(this),this.post=new pO(this),this.os2=new hO(this),this.loca=new _O(this),this.glyf=new yO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var co,bc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),cO=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,o,l,c,u,f,p,g,d,y,x;for(x in d=Object.keys(r).length,c=Math.log(2),p=16*Math.floor(Math.log(d)/c),o=Math.floor(p/c),f=16*d-p,(a=new bc).writeInt(this.scalarType),a.writeShort(d),a.writeShort(p),a.writeShort(o),a.writeShort(f),s=16*d,u=a.pos+s,l=null,y=[],r)for(g=r[x],a.writeString(x),a.writeInt(e(g)),a.writeInt(u),a.writeInt(g.length),y=y.concat(g),x==="head"&&(l=u),u+=g.length;u%4;)y.push(0),u++;return a.write(y),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,o;for(r=DS.call(r);r.length%4;)r.push(0);for(s=new bc(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),uO={}.hasOwnProperty,Oo=function(e,t){for(var r in t)uO.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};co=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var fO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,co),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new bc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),yb=function(){function e(t,r){var n,a,s,o,l,c,u,f,p,g,d,y,x,_,w,S,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(d=t.readUInt16(),g=d/2,t.pos+=6,s=function(){var T,q;for(q=[],c=T=0;0<=g?T<g:T>g;c=0<=g?++T:--T)q.push(t.readUInt16());return q}(),t.pos+=2,x=function(){var T,q;for(q=[],c=T=0;0<=g?T<g:T>g;c=0<=g?++T:--T)q.push(t.readUInt16());return q}(),u=function(){var T,q;for(q=[],c=T=0;0<=g?T<g:T>g;c=0<=g?++T:--T)q.push(t.readUInt16());return q}(),f=function(){var T,q;for(q=[],c=T=0;0<=g?T<g:T>g;c=0<=g?++T:--T)q.push(t.readUInt16());return q}(),a=(this.length-t.pos+this.offset)/2,l=function(){var T,q;for(q=[],c=T=0;0<=a?T<a:T>a;c=0<=a?++T:--T)q.push(t.readUInt16());return q}(),c=w=0,j=s.length;w<j;c=++w)for(_=s[c],n=S=y=x[c];y<=_?S<=_:S>=_;n=y<=_?++S:--S)f[c]===0?o=n+u[c]:(o=l[f[c]/2+(n-y)-(g-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=p}return e.encode=function(t,r){var n,a,s,o,l,c,u,f,p,g,d,y,x,_,w,S,j,T,q,se,L,k,R,Y,P,B,z,te,de,X,W,M,he,Se,le,A,H,D,I,ne,ge,Ee,xe,Z,Me,Ve;switch(te=new bc,o=Object.keys(t).sort(function(it,dt){return it-dt}),r){case"macroman":for(x=0,_=function(){var it=[];for(y=0;y<256;++y)it.push(0);return it}(),S={0:0},s={},de=0,he=o.length;de<he;de++)S[xe=t[a=o[de]]]==null&&(S[xe]=++x),s[a]={old:t[a],new:S[t[a]]},_[a]=S[t[a]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(_),{charMap:s,subtable:te.data,maxGlyphID:x+1};case"unicode":for(B=[],p=[],j=0,S={},n={},w=u=null,X=0,Se=o.length;X<Se;X++)S[q=t[a=o[X]]]==null&&(S[q]=++j),n[a]={old:q,new:S[q]},l=S[q]-a,w!=null&&l===u||(w&&p.push(w),B.push(a),u=l),w=a;for(w&&p.push(w),p.push(65535),B.push(65535),Y=2*(R=B.length),k=2*Math.pow(Math.log(R)/Math.LN2,2),g=Math.log(k/2)/Math.LN2,L=2*R-k,c=[],se=[],d=[],y=W=0,le=B.length;W<le;y=++W){if(P=B[y],f=p[y],P===65535){c.push(0),se.push(0);break}if(P-(z=n[P].new)>=32768)for(c.push(0),se.push(2*(d.length+R-y)),a=M=P;P<=f?M<=f:M>=f;a=P<=f?++M:--M)d.push(n[a].new);else c.push(z-P),se.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*R+2*d.length),te.writeUInt16(0),te.writeUInt16(Y),te.writeUInt16(k),te.writeUInt16(g),te.writeUInt16(L),ge=0,A=p.length;ge<A;ge++)a=p[ge],te.writeUInt16(a);for(te.writeUInt16(0),Ee=0,H=B.length;Ee<H;Ee++)a=B[Ee],te.writeUInt16(a);for(Z=0,D=c.length;Z<D;Z++)l=c[Z],te.writeUInt16(l);for(Me=0,I=se.length;Me<I;Me++)T=se[Me],te.writeUInt16(T);for(Ve=0,ne=d.length;Ve<ne;Ve++)x=d[Ve],te.writeUInt16(x);return{charMap:n,subtable:te.data,maxGlyphID:j+1}}},e}(),RS=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,co),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new yb(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=yb.encode(t,r),(a=new bc).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),dO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,co),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),hO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,co),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),pO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,co),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),mO=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},gO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,co),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,s,o,l,c,u,f,p,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},s=f=0,p=n.length;f<p;s=++f)a=n[s],t.pos=a.offset,u=t.readString(a.length),o=new mO(u,a),c[g=a.nameID]==null&&(c[g]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),xO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,co),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),vO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,co),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,s,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)f.push(t.readInt16());return f}(),this.widths=(function(){var u,f,p,g;for(g=[],u=0,f=(p=this.metrics).length;u<f;u++)s=p[u],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),DS=[].slice,yO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,co),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,s,o,l,c,u,f,p;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new bc(r.read(a))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[t]=o===-1?new bO(l,u,p,c,f):new wO(l,o,u,p,c,f),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,s,o,l,c;for(o=[],s=[],l=0,c=r.length;l<c;l++)a=t[r[l]],s.push(o.length),a&&(o=o.concat(a.encode(n)));return s.push(o.length),{table:o,offsets:s}},e}(),wO=function(){function e(t,r,n,a,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),bO=function(){function e(t,r,n,a,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new bc(DS.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),_O=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,co),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<n.length;++o)if(n[o]=a,s<r.length&&r[s]==o){++s,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),f=0;f<n.length;++f)u[4*f+3]=255&n[f],u[4*f+2]=(65280&n[f])>>8,u[4*f+1]=(16711680&n[f])>>16,u[4*f]=(4278190080&n[f])>>24;return u},e}(),NO=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,o,l,c,u,f,p,g,d,y,x,_,w;for(a in n=RS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),d={0:0},w=n.charMap)d[(c=w[a]).old]=c.new;for(y in g=n.maxGlyphID,o)y in d||(d[y]=g++);return f=function(S){var j,T;for(j in T={},S)T[S[j]]=j;return T}(d),p=Object.keys(f).sort(function(S,j){return S-j}),x=function(){var S,j,T;for(T=[],S=0,j=p.length;S<j;S++)l=p[S],T.push(f[l]);return T}(),s=this.font.glyf.encode(o,x,d),u=this.font.loca.encode(s.offsets,x),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},e}();Yt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();function IS(e,t,r,n,a){n=n||{};var s=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():s,u=l*c,f=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof e=="string"?e.split(f):e,g=p.length||1),r+=l*(2-s),n.valign==="middle"?r-=g/2*u:n.valign==="bottom"&&(r-=g*u),n.halign==="center"||n.halign==="right"){var d=l;if(n.halign==="center"&&(d*=.5),p&&g>=1){for(var y=0;y<p.length;y++)a.text(p[y],t-a.getStringUnitWidth(p[y])*d,r),r+=u;return a}t-=a.getStringUnitWidth(e)*d}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var wb={},_f=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:wb=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,s;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var f=e.unifyColor(t.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=e.unifyColor(t.textColor),f&&(a=this.jsPDFDocument).setTextColor.apply(a,f),f=e.unifyColor(t.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,s){return this.jsPDFDocument.rect(t,r,n,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return wb||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),o2=function(e,t){return o2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},o2(e,t)};function MS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var BS=function(e){MS(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function SO(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function jO(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Xp(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return a}function US(e,t,r,n){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var o=zS(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,o)}function zS(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function Vm(e,t){var r,n,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function HS(e,t){var r=Vm(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function AO(e,t,r,n,a){var s={},o=1.3333333333333333,l=bg(t,function(j){return a.getComputedStyle(j).backgroundColor});l!=null&&(s.fillColor=l);var c=bg(t,function(j){return a.getComputedStyle(j).color});c!=null&&(s.textColor=c);var u=CO(n,r);u&&(s.cellPadding=u);var f="borderTopColor",p=o*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var d=(parseFloat(g)||0)/p;d&&(s.lineWidth=d)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var y=bg(t,function(j){return a.getComputedStyle(j)[f]});y!=null&&(s.lineColor=y);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var _=parseInt(n.fontSize||"");isNaN(_)||(s.fontSize=_/o);var w=EO(n);w&&(s.fontStyle=w);var S=(n.fontFamily||"").toLowerCase();return e.indexOf(S)!==-1&&(s.font=S),s}function EO(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function bg(e,t){var r=$S(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function $S(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:$S(e.parentElement,t):r}function CO(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=r.map(function(l){return parseInt(l||"0")/n}),o=Vm(s,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function WS(e,t,r,n,a){var s,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof t=="string"?l=r.document.querySelector(t):l=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),f=[],p=[],g=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:f,body:p,foot:g};for(var d=0;d<l.rows.length;d++){var y=l.rows[d],x=(o=(s=y==null?void 0:y.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),_=kO(c,u,r,y,n,a);_&&(x==="thead"?f.push(_):x==="tfoot"?g.push(_):p.push(_))}return{head:f,body:p,foot:g}}function kO(e,t,r,n,a,s){for(var o=new BS(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(a||u.display!=="none"){var f=void 0;s&&(f=AO(e,c,t,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:TO(c)})}}var p=r.getComputedStyle(n);if(o.length>0&&(a||p.display!=="none"))return o}function TO(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function PO(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function ul(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function qS(e,t){var r=new _f(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();PO(a,n,t);var s=ul({},a,n,t),o;typeof window<"u"&&(o=window);var l=LO(a,n,t),c=FO(a,n,t),u=OO(r,s),f=DO(r,s,o);return{id:t.tableId,content:f,hooks:c,styles:l,settings:u}}function LO(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=e[c],f=t[c],p=r[c];n.columnStyles=ul({},u,f,p)}else{var g=[e,t,r],d=g.map(function(y){return y[c]||{}});n[c]=ul({},d[0],d[1],d[2])}},s=0,o=Object.keys(n);s<o.length;s++){var l=o[s];a(l)}return n}function FO(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var l=o[s];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function OO(e,t){var r,n,a,s,o,l,c,u,f,p,g,d,y=Vm(t.margin,40/e.scaleFactor()),x=(r=RO(e,t.startY))!==null&&r!==void 0?r:y.top,_;t.showFoot===!0?_="everyPage":t.showFoot===!1?_="never":_=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var w;t.showHead===!0?w="everyPage":t.showHead===!1?w="never":w=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var S=(s=t.useCss)!==null&&s!==void 0?s:!1,j=t.theme||(S?"plain":"striped"),T=!!t.horizontalPageBreak,q=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:S,theme:j,startY:x,margin:y,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=t.tableWidth)!==null&&f!==void 0?f:"auto",showHead:w,showFoot:_,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:T,horizontalPageBreakRepeat:q,horizontalPageBreakBehaviour:(d=t.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function RO(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function DO(e,t,r){var n=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(r){var l=WS(e,t.html,r,o,t.useCss)||{};n=l.head||n,a=l.body||n,s=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||IO(n,a,s);return{columns:c,head:n,body:a,foot:s}}function IO(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(n)?l=n[parseInt(s)]:l=n[s],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=a.length:u=s+(c>0?"_".concat(c):"");var f={dataKey:u};a.push(f)}}),a}var l2=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),MO=function(e){MS(t,e);function t(r,n,a,s,o,l){var c=e.call(this,r,n,l)||this;return c.cell=a,c.row=s,c.column=o,c.section=s.section,c}return t}(l2),BO=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,s,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],f=new MO(t,this,n,a,s,o),p=u(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new l2(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new l2(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),VS=function(){function e(t,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof BS&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,s){var o=n.cells[s.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>a?u:a},0)},e}(),GS=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=Vm(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),UO=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var s=a[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},e}();function zO(e,t){HO(e,t);var r=[],n=0;t.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(t);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=c2(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=c2(r,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),WO(t),qO(t,e),$O(t)}function HO(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=HS(e,t);t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){var f=t.hooks.didParseCell;t.callCellHooks(e,f,u,s,c,null);var p=u.padding("horizontal");u.contentWidth=Xp(u.text,u.styles,e)+p;var g=Xp(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var d=10/r;u.minWidth=u.styles.minCellWidth||d,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(s){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var f=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},p=f.cellWidth||f.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function c2(e,t,r){for(var n=t,a=e.reduce(function(d,y){return d+y.wrappedWidth},0),s=0;s<e.length;s++){var o=e[s],l=o.wrappedWidth/a,c=n*l,u=o.width+c,f=r(o),p=u<f?f:u;t-=p-o.width,o.width=p}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(d){return t<0?d.width>r(d):!0});g.length&&(t=c2(g,t,r))}return t}function $O(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var s=n[a],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=t[c.index];if(r>1)r--,delete s.cells[c.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var f=s.cells[c.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var p=n.length-a,g=f.rowSpan>p?p:f.rowSpan;t[c.index]={cell:f,left:g,row:s}}}}}function WO(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,s=0,o=0,l=0;l<e.columns.length;l++){var c=e.columns[l];if(o-=1,o>1&&e.columns[l+1])s+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+s}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){a=u,s+=c.width;continue}u.width=c.width+s}}}function qO(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var s=a[n],o=0,l=e.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){t.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,f+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=bb(u.text,f,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=bb(u.text,f,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,f);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<g*u.rowSpan?r={height:g,count:u.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>s.height&&(s.height=g)}}r.count--}}function bb(e,t,r,n,a){return e.map(function(s){return VO(s,t,r,n,a)})}function VO(e,t,r,n,a){var s=1e4*n.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Xp(e,r,n))return e;for(;t<Xp(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function KS(e,t){var r=new _f(e),n=GO(t,r.scaleFactor()),a=new BO(t,n);return zO(r,a),r.applyStyles(r.userStyles),a}function GO(e,t){var r=e.content,n=YO(r.columns);if(r.head.length===0){var a=_b(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=_b(n,"foot");a&&r.foot.push(a)}var s=e.settings.theme,o=e.styles;return{columns:n,head:_g("head",r.head,n,o,s,t),body:_g("body",r.body,n,o,s,t),foot:_g("foot",r.foot,n,o,s,t)}}function _g(e,t,r,n,a,s){var o={},l=t.map(function(c,u){for(var f=0,p={},g=0,d=0,y=0,x=r;y<x.length;y++){var _=x[y];if(o[_.index]==null||o[_.index].left===0)if(d===0){var w=void 0;Array.isArray(c)?w=c[_.index-g-f]:w=c[_.dataKey];var S={};typeof w=="object"&&!Array.isArray(w)&&(S=(w==null?void 0:w.styles)||{});var j=XO(e,_,u,a,n,s,S),T=new GS(w,j,e);p[_.dataKey]=T,p[_.index]=T,d=T.colSpan-1,o[_.index]={left:T.rowSpan-1,times:d}}else d--,g++;else o[_.index].left--,d=o[_.index].times,f++}return new VS(c,u,e,p)});return l}function _b(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=KO(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function KO(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function YO(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new UO(a,t,r)})}function XO(e,t,r,n,a,s,o){var l=jO(n),c;e==="head"?c=a.headStyles:e==="body"?c=a.bodyStyles:e==="foot"&&(c=a.footStyles);var u=ul({},l.table,l[e],a.styles,c),f=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},p=e==="body"?f:{},g=e==="body"&&r%2===0?ul({},l.alternateRow,a.alternateRowStyles):{},d=SO(s),y=ul({},d,u,g,p);return ul(y,o)}function JO(e,t,r){var n;r===void 0&&(r={});var a=HS(e,t),s=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var d=t.columns.find(function(y){return y.dataKey===g||y.index===g});d&&!s.has(d.index)&&(s.set(d.index,!0),o.push(d.index),l.push(t.columns[d.index]),a-=d.wrappedWidth)});for(var u=!0,f=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;f<t.columns.length;){if(s.has(f)){f++;continue}var p=t.columns[f].wrappedWidth;if(u||a>=p)u=!1,o.push(f),l.push(t.columns[f]),a-=p;else break;f++}return{colIndexes:o,columns:l,lastIndex:f-1}}function QO(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=JO(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function YS(e,t){var r=t.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(g,d){return g+d.height},0);l+=u}var f=new _f(e);(r.pageBreak==="always"||r.startY!=null&&l>f.pageSize().height)&&(JS(f),s.y=a.top),t.callWillDrawPageHooks(f,s);var p=ul({},s);t.startPageNumber=f.pageNumber(),r.horizontalPageBreak?ZO(f,t,p,s):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(g){return bl(f,t,g,s,t.columns)}),f.applyStyles(f.userStyles),t.body.forEach(function(g,d){var y=d===t.body.length-1;Jp(f,t,g,y,p,s,t.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(g){return bl(f,t,g,s,t.columns)})),US(f,t,p,s),t.callEndPageHooks(f,s),t.finalY=s.y,e.lastAutoTable=t,f.applyStyles(f.userStyles)}function ZO(e,t,r,n){var a=QO(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,f){e.applyStyles(e.userStyles),f>0?Id(e,t,r,n,u.columns,!0):Nb(e,t,n,u.columns),eR(e,t,r,n,u.columns),Ng(e,t,n,u.columns)});else for(var o=-1,l=a[0],c=function(){var u=o;if(l){e.applyStyles(e.userStyles);var f=l.columns;o>=0?Id(e,t,r,n,f,!0):Nb(e,t,n,f),u=Sb(e,t,o+1,n,f),Ng(e,t,n,f)}var p=u-o;a.slice(1).forEach(function(g){e.applyStyles(e.userStyles),Id(e,t,r,n,g.columns,!0),Sb(e,t,o+1,n,g.columns,p),Ng(e,t,n,g.columns)}),o=u};o<t.body.length-1;)c()}function Nb(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return bl(e,t,s,r,n)})}function eR(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,o){var l=o===t.body.length-1;Jp(e,t,s,l,r,n,a)})}function Sb(e,t,r,n,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var o=Math.min(r+s,t.body.length),l=-1;return t.body.slice(r,o).forEach(function(c,u){var f=r+u===t.body.length-1,p=XS(e,t,f,n);c.canEntireRowFit(p,a)&&(bl(e,t,c,n,a),l=r+u)}),l}function Ng(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return bl(e,t,s,r,n)})}function tR(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/n);return Math.max(0,s)}function rR(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new GS(u.raw,u.styles,u.section);f=ul(f,u),f.text=[];var p=tR(u,t,n);u.text.length>p&&(f.text=u.text.splice(p,u.text.length));var g=n.scaleFactor(),d=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,d),u.contentHeight>=t&&(u.contentHeight=t,f.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),f.contentHeight=f.getContentHeight(g,d),f.contentHeight>s&&(s=f.contentHeight),a[c.index]=f}}var y=new VS(e.raw,-1,e.section,a,!0);y.height=s;for(var x=0,_=r.columns;x<_.length;x++){var c=_[x],f=y.cells[c.index];f&&(f.height=y.height);var u=e.cells[c.index];u&&(u.height=e.height)}return y}function nR(e,t,r,n){var a=e.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,l=a-o;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>l)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=t.hasRowSpan(n.columns),p=t.getMaxCellHeight(n.columns)>l;return p?(f&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function Jp(e,t,r,n,a,s,o){var l=XS(e,t,n,s);if(r.canEntireRowFit(l,o))bl(e,t,r,s,o);else if(nR(e,r,l,t)){var c=rR(r,l,t,e);bl(e,t,r,s,o),Id(e,t,a,s,o),Jp(e,t,c,n,a,s,o)}else Id(e,t,a,s,o),Jp(e,t,r,n,a,s,o)}function bl(e,t,r,n,a){n.x=t.settings.margin.left;for(var s=0,o=a;s<o.length;s++){var l=o[s],c=r.cells[l.index];if(!c){n.x+=l.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}aR(e,c,n);var f=c.getTextPos();IS(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function aR(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=zS(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),sR(e,t,r,n.lineWidth))}function sR(e,t,r,n){var a,s,o,l;n.top&&(a=r.x,s=r.y,o=r.x+t.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,s,o,l)),n.bottom&&(a=r.x,s=r.y+t.height,o=r.x+t.width,l=r.y+t.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,s,o,l)),n.left&&(a=r.x,s=r.y,o=r.x,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,s,o,l)),n.right&&(a=r.x+t.width,s=r.y,o=r.x+t.width,l=r.y+t.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,s,o,l));function c(u,f,p,g,d){e.getDocument().setLineWidth(u),e.getDocument().line(f,p,g,d,"S")}}function XS(e,t,r,n){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Id(e,t,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(l){return bl(e,t,l,n,a)}),t.callEndPageHooks(e,n);var o=t.settings.margin;US(e,t,r,n),JS(e),t.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return bl(e,t,l,n,a)}),e.applyStyles(e.userStyles))}function JS(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function iR(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=qS(this,n),s=KS(this,a);return YS(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){IS(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return _f.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){_f.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new _f(this),s=WS(a,t,window,r,!1),o=s.head,l=s.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var Sg;function ao(e,t){var r=qS(e,t),n=KS(e,r);YS(e,n)}try{if(typeof window<"u"&&window){var jb=window,Ab=jb.jsPDF||((Sg=jb.jspdf)===null||Sg===void 0?void 0:Sg.jsPDF);Ab&&iR(Ab)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Ch="https://lifexschoolmanager.com",jg=async e=>{if(!e)return null;try{const t=new Image;t.crossOrigin="anonymous",await new Promise((n,a)=>{t.onload=n,t.onerror=a,t.src=e});const r=document.createElement("canvas");return r.width=t.naturalWidth,r.height=t.naturalHeight,r.getContext("2d").drawImage(t,0,0),{dataUrl:r.toDataURL("image/png"),width:t.naturalWidth,height:t.naturalHeight}}catch{return null}},oR=()=>{const{isAdmin:e,isTeacher:t,user:r,isPremium:n}=sn(),a=e||t,{get:s,del:o,loading:l}=En(),[c,u]=G.useState([]),[f,p]=G.useState([]),[g,d]=G.useState({search:"",class_id:""}),[y,x]=G.useState(0),[_,w]=G.useState(1),S=G.useCallback(async()=>{try{const k={page:_,limit:20};g.search&&(k.search=g.search),g.class_id&&(k.class_id=g.class_id);const R=await s("/pupils",k,{silent:!0});u(R.data.pupils),x(R.data.total)}catch{}},[s,_,g]),j=G.useCallback(async()=>{try{const k=await s("/classes",null,{silent:!0});p(k.data||[])}catch{}},[s]);G.useEffect(()=>{S()},[S]),G.useEffect(()=>{j()},[j]);const T=async(k,R)=>{if(window.confirm(`Remove ${R}?`))try{await o(`/pupils/${k}`),ct.success("Pupil removed"),S()}catch{}},q=async()=>{var Se;ct("Generating register",{icon:"",duration:1500});let k=c;if(y>20)try{const le={page:1,limit:9999};g.search&&(le.search=g.search),g.class_id&&(le.class_id=g.class_id),k=(await s("/pupils",le,{silent:!0})).data.pupils||[]}catch{}const R=(r==null?void 0:r.school_name)||"School Manager",Y=r!=null&&r.school_badge_url?await jg(`${Ch}${r.school_badge_url}`):null,P=n?`Generated by ${R} digital system on ${new Date().toLocaleDateString()}`:`Generated by School Manager  ${new Date().getFullYear()}`,B=g.class_id?(Se=f.find(le=>le.id===g.class_id))==null?void 0:Se.name:"All Classes",z=new Yt,te=z.internal.pageSize.getWidth(),de=z.internal.pageSize.getHeight();let X=15;if(z.setFillColor(30,58,95),z.rect(0,0,te,10,"F"),z.setFillColor(240,173,78),z.rect(0,10,te,2,"F"),Y){const A=Y.height/Y.width*20;z.addImage(Y.dataUrl,"PNG",(te-20)/2,X,20,A),X+=A+5}z.setFontSize(18),z.setFont(void 0,"bold"),z.setTextColor(30,58,95),z.text(R.toUpperCase(),te/2,X,{align:"center"}),X+=8,z.setFontSize(12),z.setFont(void 0,"normal"),z.setTextColor(80,80,80),z.text(`PUPILS REGISTER  ${B}`,te/2,X,{align:"center"}),X+=6;const W=k.filter(le=>le.gender==="Male").length,M=k.filter(le=>le.gender==="Female").length;z.setFontSize(9),z.text(`Total: ${k.length} | Boys: ${W} | Girls: ${M} | Generated: ${new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})}`,te/2,X,{align:"center"}),X+=8,z.setDrawColor(200),z.line(14,X,te-14,X),X+=5;const he=k.map((le,A)=>{const H=le.date_of_birth?new Date(le.date_of_birth).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"";return[A+1,`${le.first_name} ${le.last_name}`,le.class_name||"",le.gender||"",le.admission_number||"",H]});ao(z,{startY:X,head:[["#","Name","Class","Gender","Admission #","Date of Birth"]],body:he,theme:"grid",headStyles:{fillColor:[30,58,95],fontSize:8,textColor:[255,255,255]},bodyStyles:{fontSize:8,textColor:[50,50,50]},columnStyles:{0:{cellWidth:10}}}),z.setFillColor(30,58,95),z.rect(0,de-10,te,10,"F"),z.setFillColor(240,173,78),z.rect(0,de-12,te,2,"F"),z.setFontSize(7),z.setTextColor(255,255,255),z.text(P,te/2,de-5,{align:"center"}),z.save(`Pupils_Register_${R.replace(/\s+/g,"_")}.pdf`),ct.success("Register downloaded!")},se=async()=>{var he;ct("Generating PDF",{icon:"",duration:1500});let k=c;if(y>20)try{const Se={page:1,limit:9999};g.search&&(Se.search=g.search),g.class_id&&(Se.class_id=g.class_id),k=(await s("/pupils",Se,{silent:!0})).data.pupils||[]}catch{}const R=(r==null?void 0:r.school_name)||"School Manager",Y=r!=null&&r.school_badge_url?await jg(`${Ch}${r.school_badge_url}`):null,P=n?`Generated by ${R} digital system on ${new Date().toLocaleDateString()}`:`Generated by School Manager  ${new Date().getFullYear()}`,B=g.class_id?(he=f.find(Se=>Se.id===g.class_id))==null?void 0:he.name:"All Classes",z=new Yt;let te=15;if(z.setFillColor(30,58,95),z.rect(0,0,z.internal.pageSize.getWidth(),10,"F"),z.setFillColor(240,173,78),z.rect(0,10,z.internal.pageSize.getWidth(),2,"F"),Y){const le=Y.height/Y.width*20;z.addImage(Y.dataUrl,"PNG",(z.internal.pageSize.getWidth()-20)/2,te,20,le),te+=le+5}z.setFontSize(18),z.setFont(void 0,"bold"),z.setTextColor(30,58,95),z.text(R.toUpperCase(),z.internal.pageSize.getWidth()/2,te,{align:"center"}),te+=8,z.setFontSize(12),z.setFont(void 0,"normal"),z.setTextColor(80,80,80),z.text(`PUPILS REGISTER  ${B}`,z.internal.pageSize.getWidth()/2,te,{align:"center"}),te+=6;const de=k.filter(Se=>Se.gender==="Male").length,X=k.filter(Se=>Se.gender==="Female").length;z.setFontSize(9),z.text(`Total: ${k.length} | Boys: ${de} | Girls: ${X} | Generated: ${new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})}`,z.internal.pageSize.getWidth()/2,te,{align:"center"}),te+=8,z.setDrawColor(200),z.line(14,te,z.internal.pageSize.getWidth()-14,te),te+=5;const W=k.map((Se,le)=>{const A=Se.date_of_birth?new Date(Se.date_of_birth).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"";return[le+1,`${Se.first_name} ${Se.last_name}`,Se.class_name||"",Se.gender||"",Se.admission_number||"",A]});ao(z,{startY:te,head:[["#","Name","Class","Gender","Admission #","Date of Birth"]],body:W,theme:"grid",headStyles:{fillColor:[30,58,95],fontSize:8,textColor:[255,255,255]},bodyStyles:{fontSize:8,textColor:[50,50,50]},columnStyles:{0:{cellWidth:10}}});const M=z.internal.pageSize.getHeight();z.setFillColor(30,58,95),z.rect(0,M-10,z.internal.pageSize.getWidth(),10,"F"),z.setFillColor(240,173,78),z.rect(0,M-12,z.internal.pageSize.getWidth(),2,"F"),z.setFontSize(7),z.setTextColor(255,255,255),z.text(P,z.internal.pageSize.getWidth()/2,M-5,{align:"center"}),z.save(`Pupils_Register_${R.replace(/\s+/g,"_")}.pdf`)},L=async()=>{ct("Generating admission form",{icon:"",duration:1500});const k=(r==null?void 0:r.school_name)||"School Manager",R=r!=null&&r.school_badge_url?await jg(`${Ch}${r.school_badge_url}`):null,Y=n?`Generated by ${k} digital system on ${new Date().toLocaleDateString()}`:`Generated by School Manager  ${new Date().getFullYear()}`,P=new Yt,B=P.internal.pageSize.getWidth(),z=P.internal.pageSize.getHeight(),te=14;let de=14;if(R){const D=R.height/R.width*14;P.addImage(R.dataUrl,"PNG",(B-14)/2,de,14,D),de+=D+2}P.setFontSize(16),P.setFont(void 0,"bold"),P.setTextColor(40,40,40),P.text(k.toUpperCase(),B/2,de,{align:"center"}),de+=6,P.setFontSize(11),P.setFont(void 0,"normal"),P.setTextColor(120,120,120),P.text("PUPIL ADMISSION FORM",B/2,de,{align:"center"}),de+=5,P.setDrawColor(180,180,180),P.setLineWidth(.4),P.line(te,de,B-te,de),de+=6;const X=26,W=32,M=B-te-X,he=de;P.setDrawColor(180,180,180),P.setLineWidth(.3),P.roundedRect(M,he,X,W,2,2,"S"),P.setFontSize(7),P.setTextColor(180,180,180),P.text("Passport",M+X/2,he+13,{align:"center"}),P.text("Photo",M+X/2,he+18,{align:"center"});const Se=H=>{de>z-40&&(P.addPage(),de=15),P.setFillColor(240,240,240),P.roundedRect(te,de,B-te*2,7,1,1,"F"),P.setFontSize(8.5),P.setFont(void 0,"bold"),P.setTextColor(60,60,60),P.text(H,te+3,de+5),de+=11},le=(H,D=3)=>{const ge=(B-te*2-6*(D-1))/D;let Ee=0;H.forEach(xe=>{const Z=te+Ee*(ge+6);P.setFontSize(6.5),P.setFont(void 0,"normal"),P.setTextColor(140,140,140),P.text(xe.toUpperCase(),Z,de),P.setDrawColor(210,210,210),P.setLineWidth(.2),P.line(Z,de+6,Z+ge,de+6),Ee++,Ee>=D&&(Ee=0,de+=11)}),Ee!==0&&(de+=11)};Se("1.  PERSONAL INFORMATION"),le(["Surname (Last Name)","First Name","Other Names"],3),le(["Gender","Date of Birth","Nationality"],3),le(["Religion","Blood Group"],2),Se("2.  SCHOOL INFORMATION"),le(["Admission Number","Class","Enrollment Type"],3),le(["Boarding / Day","Date of Admission"],2),Se("3.  CONTACT & RESIDENCE"),le(["Address / Village","District"],2),Se("4.  PREVIOUS SCHOOL"),le(["School Name","Class Completed","Reason for Leaving"],3),Se("5.  HEALTH & MEDICAL INFORMATION"),le(["Blood Group","Allergies","Disabilities"],3),le(["Additional Medical Notes"],1),Se("6.  EMERGENCY CONTACT"),le(["Contact Person Name","Phone Number","Relationship"],3),Se("7.  PARENT / GUARDIAN"),le(["Full Name","Phone","Email"],3),le(["Occupation","Address"],2),de+=8,de>z-45&&(P.addPage(),de=20);const A=(B-te*2-20)/3;["Parent / Guardian Signature","School Admin Signature","Date"].forEach((H,D)=>{const I=te+D*(A+10);P.setDrawColor(160,160,160),P.setLineWidth(.3),P.line(I,de+18,I+A,de+18),P.setFontSize(7),P.setFont(void 0,"normal"),P.setTextColor(130,130,130),P.text(H,I+A/2,de+23,{align:"center"})}),P.setDrawColor(200,200,200),P.setLineWidth(.3),P.line(te,z-14,B-te,z-14),P.setFontSize(6.5),P.setTextColor(160,160,160),P.text(Y,B/2,z-9,{align:"center"}),P.save(`Admission_Form_${k.replace(/\s+/g,"_")}.pdf`),ct.success("Admission form downloaded!")};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pupils"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:L,className:"btn-secondary flex items-center gap-2 text-sm",children:[i.jsx(ms,{className:"w-4 h-4"})," Print Form"]}),i.jsxs("button",{onClick:q,className:"btn-secondary flex items-center gap-2 text-sm",children:[i.jsx(wc,{className:"w-4 h-4"})," Print"]}),i.jsxs("button",{onClick:se,className:"btn-secondary flex items-center gap-2 text-sm",children:[i.jsx(Um,{className:"w-4 h-4"})," PDF"]}),a&&i.jsxs(ra,{to:"/pupils/new",className:"btn-primary flex items-center gap-2",children:[i.jsx(oo,{className:"w-5 h-5"})," Add Pupil"]})]})]}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("select",{value:g.class_id,onChange:k=>{d({...g,class_id:k.target.value}),w(1)},className:"input-field sm:w-48",children:[i.jsx("option",{value:"",children:"All Classes"}),f.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]}),i.jsxs("div",{className:"relative flex-1",children:[i.jsx($m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search pupils...",value:g.search,onChange:k=>{d({...g,search:k.target.value}),w(1)},className:"input-field pl-10"})]})]})}),i.jsxs("div",{className:"card overflow-hidden p-0",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"table-header",children:[i.jsx("th",{className:"text-left p-3",children:"Name"}),i.jsx("th",{className:"text-left p-3 hidden sm:table-cell",children:"Class"}),i.jsx("th",{className:"text-left p-3 hidden md:table-cell",children:"Gender"}),i.jsx("th",{className:"text-left p-3 hidden lg:table-cell",children:"Admission #"}),i.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),i.jsxs("tbody",{children:[c.map(k=>i.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50 transition",children:[i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[k.photo_url?i.jsx("img",{src:`${Ch}${k.photo_url}`,alt:`${k.first_name} ${k.last_name}`,className:"w-9 h-9 rounded-full object-cover border border-gray-200"}):i.jsxs("div",{className:"w-9 h-9 bg-primary-100 rounded-full flex items-center justify-center text-primary-600 font-semibold text-sm",children:[k.first_name[0],k.last_name[0]]}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-gray-800",children:[k.first_name," ",k.last_name]}),i.jsx("p",{className:"text-xs text-gray-500 sm:hidden",children:k.class_name||""})]})]})}),i.jsx("td",{className:"p-3 text-gray-600 hidden sm:table-cell",children:k.class_name||""}),i.jsx("td",{className:"p-3 text-gray-600 hidden md:table-cell",children:k.gender||""}),i.jsx("td",{className:"p-3 text-gray-600 hidden lg:table-cell",children:k.admission_number||""}),i.jsx("td",{className:"p-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(ra,{to:`/report-card/${k.id}`,className:"p-1.5 rounded hover:bg-blue-50 text-gray-400 hover:text-blue-600",title:"View Report Card",children:i.jsx(fu,{className:"w-4 h-4"})}),a&&i.jsx(ra,{to:`/pupils/${k.id}/edit`,className:"p-1.5 rounded hover:bg-gray-100 text-gray-500",title:"Edit",children:i.jsx(kc,{className:"w-4 h-4"})}),e&&i.jsx("button",{onClick:()=>T(k.id,`${k.first_name} ${k.last_name}`),className:"p-1.5 rounded hover:bg-red-50 text-red-500",title:"Delete",children:i.jsx(To,{className:"w-4 h-4"})})]})})]},k.id)),c.length===0&&!l&&i.jsx("tr",{children:i.jsxs("td",{colSpan:"5",className:"text-center py-12 text-gray-400",children:["No pupils found. ",a&&i.jsx(ra,{to:"/pupils/new",className:"text-primary-500 hover:underline",children:"Add your first pupil"})]})})]})]})}),y>20&&i.jsxs("div",{className:"flex items-center justify-between p-3 border-t border-gray-100",children:[i.jsxs("span",{className:"text-sm text-gray-500",children:[y," pupils total"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>w(Math.max(1,_-1)),disabled:_===1,className:"btn-secondary text-sm py-1.5 px-3",children:"Previous"}),i.jsx("button",{onClick:()=>w(_+1),disabled:c.length<20,className:"btn-secondary text-sm py-1.5 px-3",children:"Next"})]})]})]})]})},Ag="https://lifexschoolmanager.com",Eb=async e=>{if(!e)return null;try{const t=new Image;t.crossOrigin="anonymous",await new Promise((n,a)=>{t.onload=n,t.onerror=a,t.src=e});const r=document.createElement("canvas");return r.width=t.naturalWidth,r.height=t.naturalHeight,r.getContext("2d").drawImage(t,0,0),{dataUrl:r.toDataURL("image/png"),width:t.naturalWidth,height:t.naturalHeight}}catch{return null}},Hc=({icon:e,title:t,children:r,defaultOpen:n=!0})=>{const[a,s]=G.useState(n);return i.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[i.jsxs("button",{type:"button",onClick:()=>s(o=>!o),className:"w-full flex items-center justify-between px-5 py-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[i.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[e&&i.jsx(e,{className:"w-4 h-4 text-primary-500"}),t]}),a?i.jsx(HN,{className:"w-4 h-4 text-gray-400"}):i.jsx(Bm,{className:"w-4 h-4 text-gray-400"})]}),a&&i.jsx("div",{className:"p-5 bg-white",children:r})]})},Cb=()=>{const{id:e}=Z_(),t=!!e,r=so(),{user:n,isPremium:a}=sn(),{get:s,post:o,put:l,loading:c}=En(),[u,f]=G.useState([]),[p,g]=G.useState([]),d=G.useRef(null),y=G.useRef(null),[x,_]=G.useState({first_name:"",last_name:"",other_names:"",gender:"",date_of_birth:"",nationality:"Ugandan",religion:"",admission_number:"",class_id:"",enrollment_type:"new",is_boarding:!1,address:"",district:"",previous_school:"",previous_class:"",reason_for_leaving:"",medical_notes:"",blood_group:"",allergies:"",disabilities:"",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relationship:"",parent_id:""}),[w,S]=G.useState(null),[j,T]=G.useState(null),[q,se]=G.useState(!1),L=G.useCallback(async()=>{try{const X=await s("/classes",null,{silent:!0});f(X.data||[])}catch{}},[s]),k=G.useCallback(async()=>{try{const X=await s("/parents",null,{silent:!0});g(X.data||[])}catch{}},[s]),R=G.useCallback(async()=>{var X;if(t)try{const M=(await s(`/pupils/${e}`,null,{silent:!0})).data;_({first_name:M.first_name||"",last_name:M.last_name||"",other_names:M.other_names||"",gender:M.gender||"",date_of_birth:((X=M.date_of_birth)==null?void 0:X.slice(0,10))||"",nationality:M.nationality||"Ugandan",religion:M.religion||"",admission_number:M.admission_number||"",class_id:M.class_id||"",enrollment_type:M.enrollment_type||"new",is_boarding:!!M.is_boarding,address:M.address||"",district:M.district||"",previous_school:M.previous_school||"",previous_class:M.previous_class||"",reason_for_leaving:M.reason_for_leaving||"",medical_notes:M.medical_notes||"",blood_group:M.blood_group||"",allergies:M.allergies||"",disabilities:M.disabilities||"",emergency_contact_name:M.emergency_contact_name||"",emergency_contact_phone:M.emergency_contact_phone||"",emergency_contact_relationship:M.emergency_contact_relationship||"",parent_id:""}),M.photo_url&&S(M.photo_url)}catch{}},[s,e,t]);G.useEffect(()=>{L(),k(),R()},[L,k,R]);const Y=X=>{const{name:W,value:M,type:he,checked:Se}=X.target;_(le=>({...le,[W]:he==="checkbox"?Se:M}))},P=X=>{var he;const W=(he=X.target.files)==null?void 0:he[0];if(!W)return;if(W.size>5*1024*1024){ct.error("Photo must be under 5 MB");return}const M=new FileReader;M.onloadend=()=>T(M.result),M.readAsDataURL(W)},B=async X=>{var M,he,Se,le;const W=(he=(M=y.current)==null?void 0:M.files)==null?void 0:he[0];if(W){se(!0);try{const A=new FormData;A.append("photo",W);const{data:H}=await es.put(`/pupils/${X}/photo`,A,{headers:{"Content-Type":"multipart/form-data"}});S(H.data.photo_url),T(null),ct.success("Photo uploaded!")}catch(A){ct.error(((le=(Se=A.response)==null?void 0:Se.data)==null?void 0:le.message)||"Photo upload failed")}finally{se(!1)}}},z=async X=>{var W,M;X.preventDefault();try{const he={...x};he.class_id||delete he.class_id,he.date_of_birth||delete he.date_of_birth,he.parent_id||delete he.parent_id,Object.keys(he).forEach(le=>{he[le]===""&&(he[le]=null)}),he.first_name=x.first_name,he.last_name=x.last_name;let Se=e;t?(await l(`/pupils/${e}`,he),ct.success("Pupil updated")):(Se=(await o("/pupils",he)).data.id,ct.success("Pupil enrolled successfully!")),(M=(W=y.current)==null?void 0:W.files)!=null&&M[0]&&Se&&await B(Se),r("/pupils")}catch{}},te=async()=>{var et;ct("Generating admission form",{icon:"",duration:1500});const X=(n==null?void 0:n.school_name)||"School Manager",W=n!=null&&n.school_badge_url?await Eb(`${Ag}${n.school_badge_url}`):null,M=j||(w?`${Ag}${w}`:null),he=M?await Eb(M):null,Se=`${x.first_name} ${x.other_names?x.other_names+" ":""}${x.last_name}`.trim()||"Pupil",le=((et=u.find(yt=>yt.id===x.class_id))==null?void 0:et.name)||"",A=p.find(yt=>yt.id===x.parent_id),H=A?`${A.first_name} ${A.last_name}`:"",D=a?`Generated by ${X} digital system on ${new Date().toLocaleDateString()}`:`Generated by School Manager  ${new Date().getFullYear()}`,I=new Yt,ne=I.internal.pageSize.getWidth(),ge=I.internal.pageSize.getHeight(),Ee=14;let xe=14;if(W){const Fe=W.height/W.width*14;I.addImage(W.dataUrl,"PNG",(ne-14)/2,xe,14,Fe),xe+=Fe+2}I.setFontSize(16),I.setFont(void 0,"bold"),I.setTextColor(40,40,40),I.text(X.toUpperCase(),ne/2,xe,{align:"center"}),xe+=6,I.setFontSize(11),I.setFont(void 0,"normal"),I.setTextColor(120,120,120),I.text("PUPIL ADMISSION FORM",ne/2,xe,{align:"center"}),xe+=5,I.setDrawColor(180,180,180),I.setLineWidth(.4),I.line(Ee,xe,ne-Ee,xe),xe+=6;const Z=26,Me=32,Ve=ne-Ee-Z,it=xe;if(I.setDrawColor(180,180,180),I.setLineWidth(.3),I.roundedRect(Ve,it,Z,Me,2,2,"S"),he){const Fe=Z-2,gt=Me-1*2,xt=he.height/he.width;let Rt=Fe,Nt=Rt*xt;Nt>gt&&(Nt=gt,Rt=Nt/xt);const je=Ve+1+(Fe-Rt)/2,jt=it+1+(gt-Nt)/2;I.addImage(he.dataUrl,"PNG",je,jt,Rt,Nt)}else I.setFontSize(7),I.setTextColor(180,180,180),I.text("Passport",Ve+Z/2,it+13,{align:"center"}),I.text("Photo",Ve+Z/2,it+18,{align:"center"});const dt=yt=>{xe>ge-40&&(I.addPage(),xe=15),I.setFillColor(240,240,240),I.roundedRect(Ee,xe,ne-Ee*2,7,1,1,"F"),I.setFontSize(8.5),I.setFont(void 0,"bold"),I.setTextColor(60,60,60),I.text(yt,Ee+3,xe+5),xe+=11},ae=(yt,Fe=3)=>{const Rt=(ne-Ee*2-6*(Fe-1))/Fe;let Nt=0;yt.forEach(([je,jt])=>{const pe=Ee+Nt*(Rt+6);I.setFontSize(6.5),I.setFont(void 0,"normal"),I.setTextColor(140,140,140),I.text(je.toUpperCase(),pe,xe),I.setFontSize(9),I.setFont(void 0,jt?"bold":"normal"),I.setTextColor(jt?30:200,jt?30:200,jt?30:200),I.text(jt||"",pe,xe+4.5),I.setDrawColor(210,210,210),I.setLineWidth(.2),I.line(pe,xe+6,pe+Rt,xe+6),Nt++,Nt>=Fe&&(Nt=0,xe+=11)}),Nt!==0&&(xe+=11)};dt("1.  PERSONAL INFORMATION"),ae([["Surname",x.last_name],["First Name",x.first_name],["Other Names",x.other_names]],3),ae([["Gender",x.gender],["Date of Birth",x.date_of_birth],["Nationality",x.nationality]],3),ae([["Religion",x.religion],["Blood Group",x.blood_group]],2),dt("2.  SCHOOL INFORMATION"),ae([["Admission Number",x.admission_number],["Class",le],["Enrollment Type",x.enrollment_type]],3),ae([["Boarding / Day",x.is_boarding?"Boarding":"Day"],["Date of Admission",new Date().toLocaleDateString("en-GB")]],2),dt("3.  CONTACT & RESIDENCE"),ae([["Address / Village",x.address],["District",x.district]],2),dt("4.  PREVIOUS SCHOOL"),ae([["School Name",x.previous_school],["Class Completed",x.previous_class],["Reason for Leaving",x.reason_for_leaving]],3),dt("5.  HEALTH & MEDICAL INFORMATION"),ae([["Blood Group",x.blood_group],["Allergies",x.allergies],["Disabilities",x.disabilities]],3),ae([["Medical Notes",x.medical_notes]],1),dt("6.  EMERGENCY CONTACT"),ae([["Contact Name",x.emergency_contact_name],["Phone",x.emergency_contact_phone],["Relationship",x.emergency_contact_relationship]],3),dt("7.  PARENT / GUARDIAN"),ae([["Full Name",H],["Phone",(A==null?void 0:A.phone)||""],["Email",(A==null?void 0:A.email)||""]],3),xe+=8,xe>ge-45&&(I.addPage(),xe=20);const Pe=(ne-Ee*2-20)/3;["Parent / Guardian Signature","School Admin Signature","Date"].forEach((yt,Fe)=>{const gt=Ee+Fe*(Pe+10);I.setDrawColor(160,160,160),I.setLineWidth(.3),I.line(gt,xe+18,gt+Pe,xe+18),I.setFontSize(7),I.setFont(void 0,"normal"),I.setTextColor(130,130,130),I.text(yt,gt+Pe/2,xe+23,{align:"center"})}),I.setDrawColor(200,200,200),I.setLineWidth(.3),I.line(Ee,ge-14,ne-Ee,ge-14),I.setFontSize(6.5),I.setTextColor(160,160,160),I.text(D,ne/2,ge-9,{align:"center"}),I.save(`Admission_Form_${Se.replace(/\s+/g,"_")}.pdf`),ct.success("Admission form downloaded!")},de=j||(w?`${Ag}${w}`:null);return i.jsxs("div",{className:"max-w-4xl mx-auto pb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"Edit Pupil":" Pupil Admission Form"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t?"Update pupil details below":"Fill in all relevant sections to enroll a new pupil"})]}),i.jsxs("button",{type:"button",onClick:te,className:"btn-secondary flex items-center gap-2",title:"Print admission form",children:[i.jsx(wc,{className:"w-4 h-4"}),"Print Form"]})]}),i.jsxs("form",{onSubmit:z,className:"space-y-4",children:[i.jsxs("div",{className:"card flex flex-col items-center py-6",children:[i.jsxs("div",{className:"relative group",children:[de?i.jsx("img",{src:de,alt:"Student",className:"w-32 h-32 rounded-full object-cover border-4 border-primary-100 shadow-md"}):i.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center border-4 border-primary-50 shadow-md",children:i.jsx(xf,{className:"w-14 h-14 text-primary-400"})}),i.jsx("button",{type:"button",onClick:()=>{var X;return(X=y.current)==null?void 0:X.click()},className:"absolute bottom-1 right-1 w-10 h-10 bg-primary-500 hover:bg-primary-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors border-2 border-white",title:"Upload photo",children:i.jsx(P0,{className:"w-5 h-5"})}),i.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:P,className:"hidden"})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:j?"New photo selected  will be saved with the form":"Click the camera icon to upload a passport photo"}),q&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary-500 mt-1",children:[i.jsx("div",{className:"w-3 h-3 border-2 border-primary-300 border-t-primary-600 rounded-full animate-spin"}),"Uploading"]})]}),i.jsx(Hc,{icon:xf,title:"1. Personal Information",defaultOpen:!0,children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Surname (Last Name) *"}),i.jsx("input",{name:"last_name",value:x.last_name,onChange:Y,className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"First Name *"}),i.jsx("input",{name:"first_name",value:x.first_name,onChange:Y,className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Other Names"}),i.jsx("input",{name:"other_names",value:x.other_names,onChange:Y,className:"input-field",placeholder:"Middle / other names"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Gender"}),i.jsxs("select",{name:"gender",value:x.gender,onChange:Y,className:"input-field",children:[i.jsx("option",{value:"",children:"Select"}),i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Date of Birth"}),i.jsxs("div",{className:"relative",children:[i.jsx("button",{type:"button",onClick:()=>{var X,W,M;return((W=(X=d.current)==null?void 0:X.showPicker)==null?void 0:W.call(X))||((M=d.current)==null?void 0:M.focus())},className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-primary-500 transition-colors cursor-pointer z-10",children:i.jsx(_i,{className:"w-5 h-5"})}),i.jsx("input",{ref:d,name:"date_of_birth",type:"date",value:x.date_of_birth,onChange:Y,className:"input-field pl-10 cursor-pointer"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Nationality"}),i.jsx("input",{name:"nationality",value:x.nationality,onChange:Y,className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Religion"}),i.jsxs("select",{name:"religion",value:x.religion,onChange:Y,className:"input-field",children:[i.jsx("option",{value:"",children:"Select"}),i.jsx("option",{value:"Christian",children:"Christian"}),i.jsx("option",{value:"Muslim",children:"Muslim"}),i.jsx("option",{value:"Hindu",children:"Hindu"}),i.jsx("option",{value:"Other",children:"Other"})]})]})]})}),i.jsx(Hc,{icon:na,title:"2. School Information",defaultOpen:!0,children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Admission Number"}),i.jsx("input",{name:"admission_number",value:x.admission_number,onChange:Y,className:"input-field",placeholder:"Auto-generated if left blank"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Class"}),i.jsxs("select",{name:"class_id",value:x.class_id,onChange:Y,className:"input-field",children:[i.jsx("option",{value:"",children:"Select Class"}),u.map(X=>i.jsx("option",{value:X.id,children:X.name},X.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Enrollment Type"}),i.jsxs("select",{name:"enrollment_type",value:x.enrollment_type,onChange:Y,className:"input-field",children:[i.jsx("option",{value:"new",children:"New Admission"}),i.jsx("option",{value:"transfer",children:"Transfer"}),i.jsx("option",{value:"repeating",children:"Repeating"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 pt-5",children:[i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",name:"is_boarding",checked:x.is_boarding,onChange:Y,className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-500"})]}),i.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Boarding Student"})]})]})}),i.jsx(Hc,{icon:Ji,title:"3. Contact & Residence",defaultOpen:!0,children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Address / Village"}),i.jsx("input",{name:"address",value:x.address,onChange:Y,className:"input-field",placeholder:"e.g., Kampala, Wandegeya"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"District"}),i.jsx("input",{name:"district",value:x.district,onChange:Y,className:"input-field",placeholder:"e.g., Kampala"})]})]})}),i.jsx(Hc,{icon:ms,title:"4. Previous School",defaultOpen:x.enrollment_type==="transfer",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Previous School Name"}),i.jsx("input",{name:"previous_school",value:x.previous_school,onChange:Y,className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Previous Class"}),i.jsx("input",{name:"previous_class",value:x.previous_class,onChange:Y,className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Reason for Leaving"}),i.jsx("input",{name:"reason_for_leaving",value:x.reason_for_leaving,onChange:Y,className:"input-field"})]})]})}),i.jsx(Hc,{icon:tP,title:"5. Health & Medical Information",defaultOpen:!1,children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Blood Group"}),i.jsxs("select",{name:"blood_group",value:x.blood_group,onChange:Y,className:"input-field",children:[i.jsx("option",{value:"",children:"Select"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(X=>i.jsx("option",{value:X,children:X},X))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Allergies"}),i.jsx("input",{name:"allergies",value:x.allergies,onChange:Y,className:"input-field",placeholder:"e.g., Penicillin, Peanuts"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Disabilities"}),i.jsx("input",{name:"disabilities",value:x.disabilities,onChange:Y,className:"input-field",placeholder:"None / Specify"})]}),i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"label",children:"Additional Medical Notes"}),i.jsx("textarea",{name:"medical_notes",value:x.medical_notes,onChange:Y,className:"input-field",rows:2,placeholder:"Any other medical conditions or special needs"})]})]})}),i.jsx(Hc,{icon:Hp,title:"6. Emergency Contact",defaultOpen:!1,children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Contact Person Name"}),i.jsx("input",{name:"emergency_contact_name",value:x.emergency_contact_name,onChange:Y,className:"input-field",placeholder:"Full name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Phone Number"}),i.jsx("input",{name:"emergency_contact_phone",value:x.emergency_contact_phone,onChange:Y,className:"input-field",placeholder:"e.g., +256771234567"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Relationship"}),i.jsxs("select",{name:"emergency_contact_relationship",value:x.emergency_contact_relationship,onChange:Y,className:"input-field",children:[i.jsx("option",{value:"",children:"Select"}),i.jsx("option",{value:"Father",children:"Father"}),i.jsx("option",{value:"Mother",children:"Mother"}),i.jsx("option",{value:"Guardian",children:"Guardian"}),i.jsx("option",{value:"Uncle",children:"Uncle"}),i.jsx("option",{value:"Aunt",children:"Aunt"}),i.jsx("option",{value:"Sibling",children:"Sibling"}),i.jsx("option",{value:"Other",children:"Other"})]})]})]})}),i.jsx(Hc,{icon:xf,title:"7. Link Parent / Guardian",defaultOpen:!1,children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Select Parent / Guardian"}),i.jsxs("select",{name:"parent_id",value:x.parent_id,onChange:Y,className:"input-field",children:[i.jsx("option",{value:"",children:" None "}),p.map(X=>i.jsxs("option",{value:X.id,children:[X.first_name," ",X.last_name," ",X.phone?`(${X.phone})`:""]},X.id))]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You can also link parents later from the Parents page."})]})})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[i.jsx("button",{type:"button",onClick:()=>r("/pupils"),className:"btn-secondary w-full sm:w-auto",children:"Cancel"}),i.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[i.jsxs("button",{type:"button",onClick:te,className:"btn-secondary flex items-center justify-center gap-2 w-full sm:w-auto",children:[i.jsx(wc,{className:"w-4 h-4"}),"Print"]}),i.jsx("button",{type:"submit",disabled:c||q,className:"btn-primary w-full sm:w-auto",children:c||q?"Saving...":t?"Update Pupil":"Enroll Pupil"})]})]})})]})]})},lR=()=>{const{get:e,post:t,put:r,del:n,loading:a}=En(),[s,o]=G.useState([]),[l,c]=G.useState([]),[u,f]=G.useState([]),[p,g]=G.useState(!1),[d,y]=G.useState(null),[x,_]=G.useState({name:"",section:"",capacity:40,academic_year:"",teacher_id:""}),w=G.useCallback(async()=>{try{const[L,k,R]=await Promise.all([e("/classes",null,{silent:!0}),e("/teachers",{limit:100},{silent:!0}),e("/subjects/assignments/list",null,{silent:!0})]);o(L.data||[]),c(k.data||[]),f(R.data||[])}catch{}},[e]);G.useEffect(()=>{w()},[w]);const S={};u.forEach(L=>{L.class_id&&(S[L.class_id]||(S[L.class_id]=[]),S[L.class_id].push(L))});const j=()=>{_({name:"",section:"",capacity:40,academic_year:"",teacher_id:""}),y(null)},T=async L=>{L.preventDefault();try{const k={...x,capacity:parseInt(x.capacity)||40};k.teacher_id||(k.teacher_id=null),d?(await r(`/classes/${d}`,k),ct.success("Class updated")):(await t("/classes",k),ct.success("Class created")),g(!1),j(),w()}catch{}},q=L=>{y(L.id),_({name:L.name,section:L.section||"",capacity:L.capacity,academic_year:L.academic_year||"",teacher_id:L.teacher_id||""}),g(!0)},se=async(L,k)=>{if(window.confirm(`Delete class "${k}"?`))try{await n(`/classes/${L}`),ct.success("Class deleted"),w()}catch{}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Classes"}),i.jsxs("button",{onClick:()=>{g(!p),j()},className:"btn-primary flex items-center gap-2",children:[i.jsx(oo,{className:"w-5 h-5"})," Add Class"]})]}),p&&i.jsxs("form",{onSubmit:T,className:"card space-y-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:d?"Edit Class":"New Class"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Class Name *"}),i.jsx("input",{value:x.name,onChange:L=>_({...x,name:L.target.value}),className:"input-field",required:!0,placeholder:"e.g. Baby Class"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Section"}),i.jsx("input",{value:x.section,onChange:L=>_({...x,section:L.target.value}),className:"input-field",placeholder:"e.g. A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Capacity"}),i.jsx("input",{type:"number",value:x.capacity,onChange:L=>_({...x,capacity:L.target.value}),className:"input-field",min:1})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Academic Year"}),i.jsx("input",{value:x.academic_year,onChange:L=>_({...x,academic_year:L.target.value}),className:"input-field",placeholder:"2026"})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[i.jsx("label",{className:"label",children:"Class Teacher"}),i.jsxs("select",{value:x.teacher_id,onChange:L=>_({...x,teacher_id:L.target.value}),className:"input-field",children:[i.jsx("option",{value:"",children:" No teacher assigned "}),l.map(L=>i.jsxs("option",{value:L.user_id,children:[L.first_name," ",L.last_name,L.employee_number?` (${L.employee_number})`:""]},L.id))]})]})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>{g(!1),j()},className:"btn-secondary",children:"Cancel"}),i.jsxs("button",{type:"submit",disabled:a,className:"btn-primary",children:[d?"Update":"Create"," Class"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.map(L=>{const k=S[L.id]||[];return i.jsxs("div",{className:"card flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[L.name," ",L.section?`(${L.section})`:""]}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Teacher: ",i.jsx("span",{className:L.teacher_name?"text-primary-600 font-medium":"text-gray-400 italic",children:L.teacher_name||"Unassigned"})]}),i.jsxs("div",{className:"flex gap-4 mt-3 text-sm",children:[i.jsxs("span",{className:"text-primary-600 font-medium",children:[L.pupil_count||0," pupils"]}),i.jsxs("span",{className:"text-gray-400",children:["/ ",L.capacity," capacity"]})]}),L.academic_year&&i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Year: ",L.academic_year]}),k.length>0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase mb-1.5",children:"Subjects"}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:k.map(R=>i.jsxs("span",{className:"text-xs bg-accent-100 text-accent-700 rounded-full px-2.5 py-0.5 font-medium",children:[R.subject_name,R.teacher_first_name?`  ${R.teacher_first_name} ${R.teacher_last_name[0]}.`:""]},R.assignment_id))})]})]}),i.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-gray-100",children:[i.jsxs("button",{onClick:()=>q(L),className:"btn-secondary text-sm py-1.5 px-3 flex items-center gap-1",children:[i.jsx(kc,{className:"w-4 h-4"})," Edit"]}),i.jsxs("button",{onClick:()=>se(L.id,L.name),className:"btn-danger text-sm py-1.5 px-3 flex items-center gap-1",children:[i.jsx(To,{className:"w-4 h-4"})," Delete"]})]})]},L.id)}),s.length===0&&i.jsx("div",{className:"col-span-full card text-center py-12 text-gray-400",children:i.jsx("p",{children:"No classes yet. Create your first class above."})})]})]})},kb={name:"",code:"",description:""},Tb={teacher_id:"",subject_id:"",class_id:""},cR=()=>{const{get:e,post:t,put:r,del:n,loading:a}=En(),[s,o]=G.useState([]),[l,c]=G.useState([]),[u,f]=G.useState([]),[p,g]=G.useState([]),[d,y]=G.useState(!1),[x,_]=G.useState(null),[w,S]=G.useState({...kb}),[j,T]=G.useState(!1),[q,se]=G.useState({...Tb}),[L,k]=G.useState("subjects"),R=G.useCallback(async()=>{try{const[M,he,Se,le]=await Promise.all([e("/subjects",null,{silent:!0}),e("/teachers",{limit:200},{silent:!0}),e("/classes",null,{silent:!0}),e("/subjects/assignments/list",null,{silent:!0})]);o(M.data||[]),c(he.data||[]),f(Se.data||[]),g(le.data||[])}catch{}},[e]);G.useEffect(()=>{R()},[R]);const Y=()=>{S({...kb}),_(null)},P=async M=>{M.preventDefault();try{x?(await r(`/subjects/${x}`,w),ct.success("Subject updated")):(await t("/subjects",w),ct.success("Subject created")),y(!1),Y(),R()}catch{}},B=M=>{_(M.id),S({name:M.name,code:M.code||"",description:M.description||""}),y(!0),k("subjects"),window.scrollTo({top:0,behavior:"smooth"})},z=async(M,he)=>{if(window.confirm(`Delete subject "${he}"? Existing assignments will also be removed.`))try{await n(`/subjects/${M}`),ct.success("Subject deleted"),R()}catch{}},te=()=>se({...Tb}),de=async M=>{M.preventDefault();try{const he={...q};he.class_id||(he.class_id=null),await t("/subjects/assignments",he),ct.success("Teacher assigned to subject"),T(!1),te(),R()}catch{}},X=async M=>{if(window.confirm("Remove this teacher-subject assignment?"))try{await n(`/subjects/assignments/${M}`),ct.success("Assignment removed"),R()}catch{}},W={};return p.forEach(M=>{W[M.subject_id]||(W[M.subject_id]=[]),W[M.subject_id].push(M)}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Subjects"}),i.jsxs("div",{className:"flex gap-2 self-start",children:[i.jsxs("button",{onClick:()=>{T(!j),y(!1),te()},className:"btn-secondary flex items-center gap-2 text-sm",children:[i.jsx(Kx,{className:"w-4 h-4"})," Assign Teacher"]}),i.jsxs("button",{onClick:()=>{y(!d),T(!1),Y()},className:"btn-primary flex items-center gap-2 text-sm",children:[i.jsx(oo,{className:"w-5 h-5"})," Add Subject"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>k("subjects"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${L==="subjects"?"bg-primary-500 text-white":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:["All Subjects (",s.length,")"]}),i.jsxs("button",{onClick:()=>k("assignments"),className:`px-4 py-2 rounded-lg text-sm font-medium transition ${L==="assignments"?"bg-primary-500 text-white":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:["Assignments (",p.length,")"]})]}),d&&i.jsxs("form",{onSubmit:P,className:"card space-y-4 border-primary-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:x?"Edit Subject":"New Subject"}),i.jsx("button",{type:"button",onClick:()=>{y(!1),Y()},className:"p-1 rounded hover:bg-gray-100",children:i.jsx(Aa,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Subject Name *"}),i.jsx("input",{value:w.name,onChange:M=>S({...w,name:M.target.value}),className:"input-field",required:!0,placeholder:"e.g. Mathematics"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Subject Code"}),i.jsx("input",{value:w.code,onChange:M=>S({...w,code:M.target.value}),className:"input-field",placeholder:"e.g. MATH"})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[i.jsx("label",{className:"label",children:"Description"}),i.jsx("input",{value:w.description,onChange:M=>S({...w,description:M.target.value}),className:"input-field",placeholder:"Brief description"})]})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>{y(!1),Y()},className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving...":x?"Update Subject":"Create Subject"})]})]}),j&&i.jsxs("form",{onSubmit:de,className:"card space-y-4 border-accent-200 bg-accent-50/30",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Assign Teacher to Subject"}),i.jsx("button",{type:"button",onClick:()=>{T(!1),te()},className:"p-1 rounded hover:bg-gray-100",children:i.jsx(Aa,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Teacher *"}),i.jsxs("select",{value:q.teacher_id,onChange:M=>se({...q,teacher_id:M.target.value}),className:"input-field",required:!0,children:[i.jsx("option",{value:"",children:"Select teacher"}),l.map(M=>i.jsxs("option",{value:M.id,children:[M.first_name," ",M.last_name,M.employee_number?` (${M.employee_number})`:""]},M.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Subject *"}),i.jsxs("select",{value:q.subject_id,onChange:M=>se({...q,subject_id:M.target.value}),className:"input-field",required:!0,children:[i.jsx("option",{value:"",children:"Select subject"}),s.map(M=>i.jsxs("option",{value:M.id,children:[M.name,M.code?` (${M.code})`:""]},M.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Class (optional)"}),i.jsxs("select",{value:q.class_id,onChange:M=>se({...q,class_id:M.target.value}),className:"input-field",children:[i.jsx("option",{value:"",children:"All classes"}),u.map(M=>i.jsxs("option",{value:M.id,children:[M.name,M.section?` (${M.section})`:""]},M.id))]})]})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"If no class is selected, the teacher is assigned to this subject across all classes."}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>{T(!1),te()},className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a,className:"btn-accent",children:a?"Assigning...":"Assign Teacher"})]})]}),L==="subjects"&&i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.map(M=>{const he=W[M.id]||[];return i.jsx("div",{className:"card flex flex-col justify-between",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:M.name}),M.code&&i.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 rounded px-2 py-0.5 font-medium",children:M.code})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>B(M),className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-400 hover:text-primary-500 transition",title:"Edit",children:i.jsx(kc,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>z(M.id,M.name),className:"p-1.5 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-500 transition",title:"Delete",children:i.jsx(To,{className:"w-4 h-4"})})]})]}),M.description&&i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:M.description}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[i.jsxs("p",{className:"text-xs font-semibold text-gray-400 uppercase mb-2",children:["Assigned Teachers (",he.length,")"]}),he.length>0?i.jsx("div",{className:"space-y-1.5",children:he.map(Se=>i.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg px-3 py-1.5",children:[i.jsxs("div",{className:"text-sm",children:[i.jsxs("span",{className:"font-medium text-gray-700",children:[Se.first_name," ",Se.last_name]}),Se.class_name&&i.jsx("span",{className:"ml-2 text-xs bg-primary-100 text-primary-600 rounded px-1.5 py-0.5",children:Se.class_name}),!Se.class_name&&i.jsx("span",{className:"ml-2 text-xs bg-gray-200 text-gray-500 rounded px-1.5 py-0.5",children:"All classes"})]}),i.jsx("button",{onClick:()=>X(Se.assignment_id),className:"text-gray-400 hover:text-red-500 transition",title:"Remove",children:i.jsx(Aa,{className:"w-4 h-4"})})]},Se.assignment_id))}):i.jsx("p",{className:"text-xs text-gray-400 italic",children:"No teachers assigned"})]})]})},M.id)}),s.length===0&&i.jsx("div",{className:"col-span-full card text-center py-12 text-gray-400",children:i.jsx("p",{children:'No subjects yet. Click "Add Subject" to create one.'})})]}),L==="assignments"&&i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"All Teacher-Subject Assignments"}),p.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"table-header",children:[i.jsx("th",{className:"text-left p-3",children:"Teacher"}),i.jsx("th",{className:"text-left p-3",children:"Subject"}),i.jsx("th",{className:"text-left p-3",children:"Class"}),i.jsx("th",{className:"text-center p-3",children:"Action"})]})}),i.jsx("tbody",{children:p.map(M=>i.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center text-primary-600 font-semibold text-xs",children:[M.teacher_first_name[0],M.teacher_last_name[0]]}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-gray-800",children:[M.teacher_first_name," ",M.teacher_last_name]}),M.employee_number&&i.jsx("p",{className:"text-xs text-gray-400",children:M.employee_number})]})]})}),i.jsxs("td",{className:"p-3",children:[i.jsx("span",{className:"font-medium text-gray-700",children:M.subject_name}),M.subject_code&&i.jsxs("span",{className:"ml-2 text-xs text-gray-400",children:["(",M.subject_code,")"]})]}),i.jsx("td",{className:"p-3",children:M.class_name?i.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-600 rounded text-xs font-medium",children:M.class_name}):i.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-500 rounded text-xs",children:"All classes"})}),i.jsx("td",{className:"p-3 text-center",children:i.jsx("button",{onClick:()=>X(M.assignment_id),className:"text-red-400 hover:text-red-600 transition",title:"Remove assignment",children:i.jsx(To,{className:"w-4 h-4 mx-auto"})})})]},M.assignment_id))})]})}):i.jsxs("div",{className:"text-center py-12 text-gray-400",children:[i.jsx(lP,{className:"w-10 h-10 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"No teacher-subject assignments yet."}),i.jsx("p",{className:"text-sm mt-1",children:'Click "Assign Teacher" to get started.'})]})]})]})},kh="https://lifexschoolmanager.com",Pb={first_name:"",last_name:"",email:"",phone:"",qualification:"",employee_number:"",specialization:"",nin:"",salary:""},Lb=async e=>{if(!e)return null;try{const t=new Image;t.crossOrigin="anonymous",await new Promise((n,a)=>{t.onload=n,t.onerror=a,t.src=e});const r=document.createElement("canvas");return r.width=t.naturalWidth,r.height=t.naturalHeight,r.getContext("2d").drawImage(t,0,0),{dataUrl:r.toDataURL("image/png"),width:t.naturalWidth,height:t.naturalHeight}}catch{return null}},uR=()=>{const{get:e,post:t,put:r,del:n,loading:a}=En(),{user:s,isPremium:o}=sn(),[l,c]=G.useState([]),[u,f]=G.useState([]),[p,g]=G.useState(""),[d,y]=G.useState(!1),[x,_]=G.useState(null),[w,S]=G.useState({...Pb}),j=G.useRef(null),[T,q]=G.useState(null),[se,L]=G.useState(null),[k,R]=G.useState(!1),Y=G.useCallback(async()=>{try{const[le,A]=await Promise.all([e("/teachers",p?{search:p}:null,{silent:!0}),e("/subjects/assignments/list",null,{silent:!0})]);c(le.data||[]),f(A.data||[])}catch{}},[e,p]);G.useEffect(()=>{Y()},[Y]);const P={};u.forEach(le=>{P[le.teacher_id]||(P[le.teacher_id]=[]),P[le.teacher_id].push(le)});const B=()=>{S({...Pb}),_(null),q(null),L(null),j.current&&(j.current.value="")},z=le=>{_(le.id),S({first_name:le.first_name||"",last_name:le.last_name||"",email:le.email||"",phone:le.phone||"",qualification:le.qualification||"",employee_number:le.employee_number||"",specialization:le.specialization||"",nin:le.nin||"",salary:le.salary||""}),L(le.avatar_url||null),q(null),y(!0),window.scrollTo({top:0,behavior:"smooth"})},te=le=>{var D;const A=(D=le.target.files)==null?void 0:D[0];if(!A)return;if(A.size>5*1024*1024){ct.error("Photo must be under 5 MB");return}const H=new FileReader;H.onloadend=()=>q(H.result),H.readAsDataURL(A)},de=async le=>{var H,D,I,ne;const A=(D=(H=j.current)==null?void 0:H.files)==null?void 0:D[0];if(A){R(!0);try{const ge=new FormData;ge.append("photo",A),await es.put(`/teachers/${le}/photo`,ge,{headers:{"Content-Type":"multipart/form-data"}}),ct.success("Photo uploaded!")}catch(ge){ct.error(((ne=(I=ge.response)==null?void 0:I.data)==null?void 0:ne.message)||"Photo upload failed")}finally{R(!1)}}},X=async le=>{var A,H;le.preventDefault();try{let D=x;if(x){const I={...w};I.salary?I.salary=parseFloat(I.salary):delete I.salary,await r(`/teachers/${x}`,I),ct.success("Teacher updated")}else D=(await t("/teachers",{...w,password:"Teacher@123"})).data.id,ct.success("Teacher added");(H=(A=j.current)==null?void 0:A.files)!=null&&H[0]&&D&&await de(D),y(!1),B(),Y()}catch{}},W=async(le,A)=>{if(window.confirm(`Are you sure you want to remove ${A}? This will deactivate their account.`))try{await n(`/teachers/${le}`),ct.success("Teacher removed"),Y()}catch{}},M=async()=>{ct("Generating teachers list",{icon:"",duration:1500});const le=(s==null?void 0:s.school_name)||"School Manager",A=s!=null&&s.school_badge_url?await Lb(`${kh}${s.school_badge_url}`):null,H=o?`Generated by ${le} digital system on ${new Date().toLocaleDateString()}`:`Generated by School Manager  ${new Date().getFullYear()}`,D=new Yt("landscape"),I=D.internal.pageSize.getWidth(),ne=D.internal.pageSize.getHeight();let ge=15;if(D.setFillColor(30,58,95),D.rect(0,0,I,10,"F"),D.setFillColor(240,173,78),D.rect(0,10,I,2,"F"),A){const Z=A.height/A.width*20;D.addImage(A.dataUrl,"PNG",(I-20)/2,ge,20,Z),ge+=Z+5}D.setFontSize(18),D.setFont(void 0,"bold"),D.setTextColor(30,58,95),D.text(le.toUpperCase(),I/2,ge,{align:"center"}),ge+=8,D.setFontSize(12),D.setFont(void 0,"normal"),D.setTextColor(80,80,80),D.text("TEACHERS DIRECTORY",I/2,ge,{align:"center"}),ge+=6,D.setFontSize(9),D.text(`Total Teachers: ${l.length} | Generated: ${new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})}`,I/2,ge,{align:"center"}),ge+=8,D.setDrawColor(200),D.line(14,ge,I-14,ge),ge+=5;const Ee=l.map((xe,Z)=>[Z+1,`${xe.first_name} ${xe.last_name}`,xe.email||"",xe.phone||"",xe.employee_number||"",xe.qualification||"",xe.specialization||""]);ao(D,{startY:ge,head:[["#","Name","Email","Phone","Employee #","Qualification","Specialization"]],body:Ee,theme:"grid",headStyles:{fillColor:[30,58,95],fontSize:8,textColor:[255,255,255]},bodyStyles:{fontSize:8,textColor:[50,50,50]},columnStyles:{0:{cellWidth:10}}}),D.setFillColor(30,58,95),D.rect(0,ne-10,I,10,"F"),D.setFillColor(240,173,78),D.rect(0,ne-12,I,2,"F"),D.setFontSize(7),D.setTextColor(255,255,255),D.text(H,I/2,ne-5,{align:"center"}),D.save(`Teachers_List_${le.replace(/\s+/g,"_")}.pdf`)},he=async()=>{ct("Generating PDF",{icon:"",duration:1500});const le=(s==null?void 0:s.school_name)||"School Manager",A=s!=null&&s.school_badge_url?await Lb(`${kh}${s.school_badge_url}`):null,H=o?`Generated by ${le} digital system on ${new Date().toLocaleDateString()}`:`Generated by School Manager  ${new Date().getFullYear()}`,D=new Yt("landscape"),I=D.internal.pageSize.getWidth(),ne=D.internal.pageSize.getHeight();let ge=15;if(D.setFillColor(30,58,95),D.rect(0,0,I,10,"F"),D.setFillColor(240,173,78),D.rect(0,10,I,2,"F"),A){const Z=A.height/A.width*20;D.addImage(A.dataUrl,"PNG",(I-20)/2,ge,20,Z),ge+=Z+5}D.setFontSize(18),D.setFont(void 0,"bold"),D.setTextColor(30,58,95),D.text(le.toUpperCase(),I/2,ge,{align:"center"}),ge+=8,D.setFontSize(12),D.setFont(void 0,"normal"),D.setTextColor(80,80,80),D.text("TEACHERS DIRECTORY",I/2,ge,{align:"center"}),ge+=6,D.setFontSize(9),D.text(`Total Teachers: ${l.length} | Generated: ${new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})}`,I/2,ge,{align:"center"}),ge+=8,D.setDrawColor(200),D.line(14,ge,I-14,ge),ge+=5;const Ee=l.map((xe,Z)=>[Z+1,`${xe.first_name} ${xe.last_name}`,xe.email||"",xe.phone||"",xe.employee_number||"",xe.qualification||"",xe.specialization||"",xe.salary>0?`UGX ${Number(xe.salary).toLocaleString()}`:""]);ao(D,{startY:ge,head:[["#","Name","Email","Phone","Employee #","Qualification","Specialization","Salary"]],body:Ee,theme:"grid",headStyles:{fillColor:[30,58,95],fontSize:8,textColor:[255,255,255]},bodyStyles:{fontSize:8,textColor:[50,50,50]},columnStyles:{0:{cellWidth:10},7:{halign:"right"}}}),D.setFillColor(30,58,95),D.rect(0,ne-10,I,10,"F"),D.setFillColor(240,173,78),D.rect(0,ne-12,I,2,"F"),D.setFontSize(7),D.setTextColor(255,255,255),D.text(H,I/2,ne-5,{align:"center"}),D.save(`Teachers_Directory_${le.replace(/\s+/g,"_")}.pdf`)},Se=T||(se?`${kh}${se}`:null);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Teachers"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:M,className:"btn-secondary flex items-center gap-2 text-sm",children:[i.jsx(wc,{className:"w-4 h-4"})," Print"]}),i.jsxs("button",{onClick:he,className:"btn-secondary flex items-center gap-2 text-sm",children:[i.jsx(Um,{className:"w-4 h-4"})," PDF"]}),i.jsxs("button",{onClick:()=>{y(!d),B()},className:"btn-primary flex items-center gap-2",children:[i.jsx(oo,{className:"w-5 h-5"})," Add Teacher"]})]})]}),d&&i.jsxs("form",{onSubmit:X,className:"card space-y-4 border-primary-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:x?"Edit Teacher":"New Teacher"}),i.jsx("button",{type:"button",onClick:()=>{y(!1),B()},className:"p-1 rounded hover:bg-gray-100",children:i.jsx(Aa,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"flex flex-col items-center mb-2",children:[i.jsxs("div",{className:"relative group",children:[Se?i.jsx("img",{src:Se,alt:"Teacher",className:"w-24 h-24 rounded-full object-cover border-4 border-primary-100 shadow-md"}):i.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center border-4 border-primary-50 shadow-md",children:i.jsx(xf,{className:"w-10 h-10 text-primary-400"})}),i.jsx("button",{type:"button",onClick:()=>{var le;return(le=j.current)==null?void 0:le.click()},className:"absolute bottom-0 right-0 w-8 h-8 bg-primary-500 hover:bg-primary-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors border-2 border-white",title:"Upload photo",children:i.jsx(P0,{className:"w-4 h-4"})}),i.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:te,className:"hidden"})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:T?"New photo selected  saved with form":"Click camera to upload a photo"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"First Name *"}),i.jsx("input",{value:w.first_name,onChange:le=>S({...w,first_name:le.target.value}),className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Last Name *"}),i.jsx("input",{value:w.last_name,onChange:le=>S({...w,last_name:le.target.value}),className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"label",children:["Email ",x?"":"*"]}),i.jsx("input",{type:"email",value:w.email,onChange:le=>S({...w,email:le.target.value}),className:"input-field",...x?{}:{required:!w.phone}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Phone"}),i.jsx("input",{value:w.phone,onChange:le=>S({...w,phone:le.target.value}),className:"input-field",placeholder:"e.g., +256771234567"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Employee Number"}),i.jsx("input",{value:w.employee_number,onChange:le=>S({...w,employee_number:le.target.value}),className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Qualification"}),i.jsx("input",{value:w.qualification,onChange:le=>S({...w,qualification:le.target.value}),className:"input-field",placeholder:"e.g., B.Ed, Diploma"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Specialization"}),i.jsx("input",{value:w.specialization,onChange:le=>S({...w,specialization:le.target.value}),className:"input-field",placeholder:"e.g., Mathematics"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"NIN"}),i.jsx("input",{value:w.nin,onChange:le=>S({...w,nin:le.target.value}),className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Salary (UGX)"}),i.jsx("input",{type:"number",value:w.salary,onChange:le=>S({...w,salary:le.target.value}),className:"input-field",min:"0"})]})]}),!x&&i.jsx("p",{className:"text-xs text-gray-400",children:"Default password: Teacher@123 (teacher should change it after first login)"}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>{y(!1),B()},className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a||k,className:"btn-primary",children:a||k?"Saving...":x?"Update Teacher":"Add Teacher"})]})]}),i.jsxs("div",{className:"relative max-w-md",children:[i.jsx($m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search teachers...",value:p,onChange:le=>g(le.target.value),className:"input-field pl-10"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.map(le=>{const A=P[le.id]||[];return i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[le.avatar_url?i.jsx("img",{src:`${kh}${le.avatar_url}`,alt:`${le.first_name} ${le.last_name}`,className:"w-12 h-12 rounded-full object-cover border-2 border-primary-100"}):i.jsxs("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center text-primary-600 font-bold",children:[le.first_name[0],le.last_name[0]]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-800",children:[le.first_name," ",le.last_name]}),i.jsx("p",{className:"text-xs text-gray-500",children:le.employee_number||"No employee #"})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>z(le),className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-400 hover:text-primary-500 transition",title:"Edit teacher",children:i.jsx(kc,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>W(le.id,`${le.first_name} ${le.last_name}`),className:"p-1.5 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-500 transition",title:"Remove teacher",children:i.jsx(To,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[le.email&&i.jsxs("p",{children:[" ",le.email]}),le.phone&&i.jsxs("p",{children:[" ",le.phone]}),le.qualification&&i.jsxs("p",{children:[" ",le.qualification]}),le.specialization&&i.jsxs("p",{children:[" ",le.specialization]}),le.salary>0&&i.jsxs("p",{children:[" UGX ",Number(le.salary).toLocaleString()]})]}),A.length>0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase mb-1.5",children:"Subjects"}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:A.map(H=>i.jsxs("span",{className:"text-xs bg-accent-100 text-accent-700 rounded-full px-2.5 py-0.5 font-medium",children:[H.subject_name,H.class_name?`  ${H.class_name}`:""]},H.assignment_id))})]})]},le.id)}),l.length===0&&i.jsx("div",{className:"col-span-full card text-center py-12 text-gray-400",children:"No teachers found"})]})]})},yd="https://lifexschoolmanager.com",Fb={first_name:"",last_name:"",email:"",phone:"",occupation:"",address:"",relationship:"Parent"},Ob=async e=>{if(!e)return null;try{const t=new Image;t.crossOrigin="anonymous",await new Promise((n,a)=>{t.onload=n,t.onerror=a,t.src=e});const r=document.createElement("canvas");return r.width=t.naturalWidth,r.height=t.naturalHeight,r.getContext("2d").drawImage(t,0,0),{dataUrl:r.toDataURL("image/png"),width:t.naturalWidth,height:t.naturalHeight}}catch{return null}},fR=()=>{var dt,ae;const{get:e,post:t,put:r,del:n,loading:a}=En(),{user:s,isPremium:o}=sn(),[l,c]=G.useState([]),[u,f]=G.useState([]),[p,g]=G.useState(""),[d,y]=G.useState(!1),[x,_]=G.useState(null),[w,S]=G.useState({...Fb}),j=G.useRef(null),[T,q]=G.useState(null),[se,L]=G.useState(null),[k,R]=G.useState(!1),[Y,P]=G.useState(null),[B,z]=G.useState(""),[te,de]=G.useState(!0),[X,W]=G.useState(null),[M,he]=G.useState({}),Se=G.useCallback(async()=>{try{const Pe=await e("/parents",p?{search:p}:null,{silent:!0});c(Pe.data||[])}catch{}},[e,p]),le=G.useCallback(async()=>{var Pe;try{const et=await e("/pupils",{limit:500},{silent:!0});f(((Pe=et.data)==null?void 0:Pe.pupils)||et.data||[])}catch{}},[e]);G.useEffect(()=>{Se(),le()},[Se,le]);const A=()=>{S({...Fb}),_(null),q(null),L(null),j.current&&(j.current.value="")},H=Pe=>{_(Pe.id),S({first_name:Pe.first_name||"",last_name:Pe.last_name||"",email:Pe.email||"",phone:Pe.phone||"",occupation:Pe.occupation||"",address:Pe.address||"",relationship:Pe.relationship||"Parent"}),L(Pe.avatar_url||null),q(null),y(!0),window.scrollTo({top:0,behavior:"smooth"})},D=Pe=>{var Fe;const et=(Fe=Pe.target.files)==null?void 0:Fe[0];if(!et)return;if(et.size>5*1024*1024){ct.error("Photo must be under 5 MB");return}const yt=new FileReader;yt.onloadend=()=>q(yt.result),yt.readAsDataURL(et)},I=async Pe=>{var yt,Fe,gt,xt;const et=(Fe=(yt=j.current)==null?void 0:yt.files)==null?void 0:Fe[0];if(et){R(!0);try{const Rt=new FormData;Rt.append("photo",et),await es.put(`/parents/${Pe}/photo`,Rt,{headers:{"Content-Type":"multipart/form-data"}}),ct.success("Photo uploaded!")}catch(Rt){ct.error(((xt=(gt=Rt.response)==null?void 0:gt.data)==null?void 0:xt.message)||"Photo upload failed")}finally{R(!1)}}},ne=async Pe=>{var et,yt;Pe.preventDefault();try{let Fe=x;x?(await r(`/parents/${x}`,w),ct.success("Parent updated")):(Fe=(await t("/parents",{...w,password:"Parent@123"})).data.id,ct.success("Parent added")),(yt=(et=j.current)==null?void 0:et.files)!=null&&yt[0]&&Fe&&await I(Fe),y(!1),A(),Se()}catch{}},ge=async Pe=>{if(Pe.preventDefault(),!(!B||!Y))try{await t(`/parents/${Y}/link-child`,{pupil_id:B,is_primary:te}),ct.success("Child linked to parent"),P(null),z(""),de(!0),Se(),X===Y&&Ee(Y)}catch{}},Ee=async Pe=>{try{const et=await e(`/parents/${Pe}`,null,{silent:!0});he(yt=>{var Fe;return{...yt,[Pe]:((Fe=et.data)==null?void 0:Fe.children)||[]}})}catch{}},xe=async(Pe,et)=>{if(window.confirm(`Are you sure you want to remove ${et}? This will unlink their children and deactivate their account.`))try{await n(`/parents/${Pe}`),ct.success("Parent removed"),Se()}catch{}},Z=Pe=>{X===Pe?W(null):(W(Pe),M[Pe]||Ee(Pe))},Me=async()=>{ct("Generating parents list",{icon:"",duration:1500});const Pe=(s==null?void 0:s.school_name)||"School Manager",et=s!=null&&s.school_badge_url?await Ob(`${yd}${s.school_badge_url}`):null,yt=o?`Generated by ${Pe} digital system on ${new Date().toLocaleDateString()}`:`Generated by School Manager  ${new Date().getFullYear()}`,Fe=new Yt("landscape"),gt=Fe.internal.pageSize.getWidth(),xt=Fe.internal.pageSize.getHeight();let Rt=15;if(Fe.setFillColor(30,58,95),Fe.rect(0,0,gt,10,"F"),Fe.setFillColor(240,173,78),Fe.rect(0,10,gt,2,"F"),et){const jt=et.height/et.width*20;Fe.addImage(et.dataUrl,"PNG",(gt-20)/2,Rt,20,jt),Rt+=jt+5}Fe.setFontSize(18),Fe.setFont(void 0,"bold"),Fe.setTextColor(30,58,95),Fe.text(Pe.toUpperCase(),gt/2,Rt,{align:"center"}),Rt+=8,Fe.setFontSize(12),Fe.setFont(void 0,"normal"),Fe.setTextColor(80,80,80),Fe.text("PARENTS / GUARDIANS DIRECTORY",gt/2,Rt,{align:"center"}),Rt+=6,Fe.setFontSize(9),Fe.text(`Total Parents: ${l.length} | Generated: ${new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})}`,gt/2,Rt,{align:"center"}),Rt+=8,Fe.setDrawColor(200),Fe.line(14,Rt,gt-14,Rt),Rt+=5;const Nt=l.map((je,jt)=>[jt+1,`${je.first_name} ${je.last_name}`,je.relationship||"Parent",je.phone||"",je.email||"",je.occupation||"",je.children_count||0]);ao(Fe,{startY:Rt,head:[["#","Name","Relationship","Phone","Email","Occupation","Children"]],body:Nt,theme:"grid",headStyles:{fillColor:[30,58,95],fontSize:8,textColor:[255,255,255]},bodyStyles:{fontSize:8,textColor:[50,50,50]},columnStyles:{0:{cellWidth:10},6:{halign:"center",cellWidth:18}}}),Fe.setFillColor(30,58,95),Fe.rect(0,xt-10,gt,10,"F"),Fe.setFillColor(240,173,78),Fe.rect(0,xt-12,gt,2,"F"),Fe.setFontSize(7),Fe.setTextColor(255,255,255),Fe.text(yt,gt/2,xt-5,{align:"center"}),Fe.save(`Parents_List_${Pe.replace(/\s+/g,"_")}.pdf`)},Ve=async()=>{ct("Generating PDF",{icon:"",duration:1500});const Pe=(s==null?void 0:s.school_name)||"School Manager",et=s!=null&&s.school_badge_url?await Ob(`${yd}${s.school_badge_url}`):null,yt=o?`Generated by ${Pe} digital system on ${new Date().toLocaleDateString()}`:`Generated by School Manager  ${new Date().getFullYear()}`,Fe=new Yt("landscape"),gt=Fe.internal.pageSize.getWidth();let xt=15;if(Fe.setFillColor(30,58,95),Fe.rect(0,0,gt,10,"F"),Fe.setFillColor(240,173,78),Fe.rect(0,10,gt,2,"F"),et){const jt=et.height/et.width*20;Fe.addImage(et.dataUrl,"PNG",(gt-20)/2,xt,20,jt),xt+=jt+5}Fe.setFontSize(18),Fe.setFont(void 0,"bold"),Fe.setTextColor(30,58,95),Fe.text(Pe.toUpperCase(),gt/2,xt,{align:"center"}),xt+=8,Fe.setFontSize(12),Fe.setFont(void 0,"normal"),Fe.setTextColor(80,80,80),Fe.text("PARENTS / GUARDIANS DIRECTORY",gt/2,xt,{align:"center"}),xt+=6,Fe.setFontSize(9),Fe.text(`Total Parents: ${l.length} | Generated: ${new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})}`,gt/2,xt,{align:"center"}),xt+=8,Fe.setDrawColor(200),Fe.line(14,xt,gt-14,xt),xt+=5;const Rt=l.map((je,jt)=>[jt+1,`${je.first_name} ${je.last_name}`,je.relationship||"Parent",je.phone||"",je.email||"",je.occupation||"",je.address||"",je.children_count||0]);ao(Fe,{startY:xt,head:[["#","Name","Relationship","Phone","Email","Occupation","Address","Children"]],body:Rt,theme:"grid",headStyles:{fillColor:[30,58,95],fontSize:8,textColor:[255,255,255]},bodyStyles:{fontSize:8,textColor:[50,50,50]},columnStyles:{0:{cellWidth:10},7:{halign:"center",cellWidth:18}}});const Nt=Fe.internal.pageSize.getHeight();Fe.setFillColor(30,58,95),Fe.rect(0,Nt-10,gt,10,"F"),Fe.setFillColor(240,173,78),Fe.rect(0,Nt-12,gt,2,"F"),Fe.setFontSize(7),Fe.setTextColor(255,255,255),Fe.text(yt,gt/2,Nt-5,{align:"center"}),Fe.save(`Parents_Directory_${Pe.replace(/\s+/g,"_")}.pdf`)},it=T||(se?`${yd}${se}`:null);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parents"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:Me,className:"btn-secondary flex items-center gap-2 text-sm",children:[i.jsx(wc,{className:"w-4 h-4"})," Print"]}),i.jsxs("button",{onClick:Ve,className:"btn-secondary flex items-center gap-2 text-sm",children:[i.jsx(Um,{className:"w-4 h-4"})," PDF"]}),i.jsxs("button",{onClick:()=>{y(!d),A()},className:"btn-primary flex items-center gap-2",children:[i.jsx(oo,{className:"w-5 h-5"})," Add Parent"]})]})]}),d&&i.jsxs("form",{onSubmit:ne,className:"card space-y-4 border-primary-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:x?"Edit Parent":"New Parent"}),i.jsx("button",{type:"button",onClick:()=>{y(!1),A()},className:"p-1 rounded hover:bg-gray-100",children:i.jsx(Aa,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"flex flex-col items-center mb-2",children:[i.jsxs("div",{className:"relative group",children:[it?i.jsx("img",{src:it,alt:"Parent",className:"w-24 h-24 rounded-full object-cover border-4 border-primary-100 shadow-md"}):i.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center border-4 border-primary-50 shadow-md",children:i.jsx(xf,{className:"w-10 h-10 text-primary-400"})}),i.jsx("button",{type:"button",onClick:()=>{var Pe;return(Pe=j.current)==null?void 0:Pe.click()},className:"absolute bottom-0 right-0 w-8 h-8 bg-primary-500 hover:bg-primary-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors border-2 border-white",title:"Upload photo",children:i.jsx(P0,{className:"w-4 h-4"})}),i.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:D,className:"hidden"})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:T?"New photo selected  saved with form":"Click camera to upload a photo"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"First Name *"}),i.jsx("input",{value:w.first_name,onChange:Pe=>S({...w,first_name:Pe.target.value}),className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Last Name *"}),i.jsx("input",{value:w.last_name,onChange:Pe=>S({...w,last_name:Pe.target.value}),className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Email"}),i.jsx("input",{type:"email",value:w.email,onChange:Pe=>S({...w,email:Pe.target.value}),className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Phone"}),i.jsx("input",{value:w.phone,onChange:Pe=>S({...w,phone:Pe.target.value}),className:"input-field",placeholder:"e.g., +256771234567"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Occupation"}),i.jsx("input",{value:w.occupation,onChange:Pe=>S({...w,occupation:Pe.target.value}),className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Relationship"}),i.jsxs("select",{value:w.relationship,onChange:Pe=>S({...w,relationship:Pe.target.value}),className:"input-field",children:[i.jsx("option",{value:"Parent",children:"Parent"}),i.jsx("option",{value:"Father",children:"Father"}),i.jsx("option",{value:"Mother",children:"Mother"}),i.jsx("option",{value:"Guardian",children:"Guardian"}),i.jsx("option",{value:"Uncle",children:"Uncle"}),i.jsx("option",{value:"Aunt",children:"Aunt"}),i.jsx("option",{value:"Grandparent",children:"Grandparent"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-3",children:[i.jsx("label",{className:"label",children:"Address"}),i.jsx("input",{value:w.address,onChange:Pe=>S({...w,address:Pe.target.value}),className:"input-field"})]})]}),!x&&i.jsx("p",{className:"text-xs text-gray-400",children:"Default password: Parent@123 (parent should change it after first login)"}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>{y(!1),A()},className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a||k,className:"btn-primary",children:a||k?"Saving...":x?"Update Parent":"Add Parent"})]})]}),Y&&i.jsxs("form",{onSubmit:ge,className:"card space-y-4 border-accent-200 bg-accent-50",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"font-semibold text-gray-800",children:["Link Child to ",(dt=l.find(Pe=>Pe.id===Y))==null?void 0:dt.first_name," ",(ae=l.find(Pe=>Pe.id===Y))==null?void 0:ae.last_name]}),i.jsx("button",{type:"button",onClick:()=>P(null),className:"p-1 rounded hover:bg-gray-100",children:i.jsx(Aa,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 items-end",children:[i.jsxs("div",{className:"sm:col-span-2",children:[i.jsx("label",{className:"label",children:"Select Pupil *"}),i.jsxs("select",{value:B,onChange:Pe=>z(Pe.target.value),className:"input-field",required:!0,children:[i.jsx("option",{value:"",children:" Choose a pupil "}),u.map(Pe=>i.jsxs("option",{value:Pe.id,children:[Pe.first_name," ",Pe.last_name,Pe.class_name?` (${Pe.class_name})`:""]},Pe.id))]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:te,onChange:Pe=>de(Pe.target.checked),className:"rounded border-gray-300 text-primary-500 focus:ring-primary-400"}),"Primary guardian"]})})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>P(null),className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Linking...":"Link Child"})]})]}),i.jsxs("div",{className:"relative max-w-md",children:[i.jsx($m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{placeholder:"Search parents...",value:p,onChange:Pe=>g(Pe.target.value),className:"input-field pl-10"})]}),i.jsx("div",{className:"card overflow-hidden p-0",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"table-header",children:[i.jsx("th",{className:"text-left p-3",children:"Name"}),i.jsx("th",{className:"text-left p-3 hidden sm:table-cell",children:"Phone"}),i.jsx("th",{className:"text-left p-3 hidden md:table-cell",children:"Email"}),i.jsx("th",{className:"text-center p-3",children:"Children"}),i.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),i.jsxs("tbody",{children:[l.map(Pe=>{var et,yt;return i.jsxs(i.Fragment,{children:[i.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[i.jsx("td",{className:"p-3 font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[Pe.avatar_url?i.jsx("img",{src:`${yd}${Pe.avatar_url}`,alt:`${Pe.first_name} ${Pe.last_name}`,className:"w-8 h-8 rounded-full object-cover border border-gray-200"}):i.jsxs("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center text-primary-600 font-bold text-xs",children:[(et=Pe.first_name)==null?void 0:et[0],(yt=Pe.last_name)==null?void 0:yt[0]]}),i.jsxs("div",{children:[i.jsxs("span",{children:[Pe.first_name," ",Pe.last_name]}),Pe.relationship&&Pe.relationship!=="Parent"&&i.jsx("span",{className:"ml-1 text-[10px] px-1.5 py-0.5 bg-gray-100 rounded text-gray-500",children:Pe.relationship})]})]})}),i.jsx("td",{className:"p-3 text-gray-600 hidden sm:table-cell",children:Pe.phone||""}),i.jsx("td",{className:"p-3 text-gray-600 hidden md:table-cell",children:Pe.email||""}),i.jsx("td",{className:"p-3 text-center",children:i.jsxs("button",{onClick:()=>Z(Pe.id),className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-600 rounded text-xs font-medium hover:bg-primary-200 transition",children:[Pe.children_count||0,X===Pe.id?i.jsx(HN,{className:"w-3 h-3"}):i.jsx(Bm,{className:"w-3 h-3"})]})}),i.jsx("td",{className:"p-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx("button",{onClick:()=>H(Pe),className:"p-1.5 rounded hover:bg-gray-100 text-gray-500 hover:text-primary-500",title:"Edit parent",children:i.jsx(kc,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>{P(Pe.id),z(""),de(!0),window.scrollTo({top:0,behavior:"smooth"})},className:"p-1.5 rounded hover:bg-gray-100 text-gray-500 hover:text-accent-500",title:"Link a child",children:i.jsx(Kx,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>xe(Pe.id,`${Pe.first_name} ${Pe.last_name}`),className:"p-1.5 rounded hover:bg-red-50 text-gray-400 hover:text-red-500",title:"Remove parent",children:i.jsx(To,{className:"w-4 h-4"})})]})})]},Pe.id),X===Pe.id&&i.jsx("tr",{className:"bg-gray-50",children:i.jsx("td",{colSpan:"5",className:"px-6 py-3",children:M[Pe.id]?M[Pe.id].length>0?i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wide",children:"Linked Children"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:M[Pe.id].map(Fe=>{var gt,xt;return i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm",children:[Fe.photo_url?i.jsx("img",{src:`${yd}${Fe.photo_url}`,alt:"",className:"w-6 h-6 rounded-full object-cover"}):i.jsxs("span",{className:"w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center text-primary-600 font-bold text-[10px]",children:[(gt=Fe.first_name)==null?void 0:gt[0],(xt=Fe.last_name)==null?void 0:xt[0]]}),i.jsxs("span",{className:"font-medium text-gray-700",children:[Fe.first_name," ",Fe.last_name]}),Fe.class_name&&i.jsxs("span",{className:"text-xs text-gray-400",children:["(",Fe.class_name,")"]}),Fe.is_primary&&i.jsx("span",{className:"text-[10px] px-1 bg-green-100 text-green-600 rounded font-medium",children:"Primary"})]},Fe.id)})})]}):i.jsxs("p",{className:"text-sm text-gray-400",children:["No children linked yet. Use the ",i.jsx(Kx,{className:"inline w-4 h-4"})," button to link a pupil."]}):i.jsx("p",{className:"text-sm text-gray-400",children:"Loading..."})})},`${Pe.id}-children`)]})}),l.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:"5",className:"text-center py-12 text-gray-400",children:"No parents found"})})]})]})})]})},dR=()=>{const{get:e,post:t,loading:r}=En(),[n,a]=G.useState([]),[s,o]=G.useState(""),[l,c]=G.useState(new Date().toISOString().slice(0,10)),u=G.useRef(null),[f,p]=G.useState([]),[g,d]=G.useState({}),[y,x]=G.useState([]),_=G.useCallback(async()=>{try{const k=await e("/classes",null,{silent:!0});a(k.data||[])}catch{}},[e]);G.useEffect(()=>{_()},[_]);const w=G.useCallback(async()=>{if(!s){p([]);return}try{const[k,R]=await Promise.all([e("/pupils",{class_id:s,limit:100},{silent:!0}),e(`/attendance/class/${s}`,{date:l},{silent:!0})]),Y=k.data.pupils||[],P=R.data||[];p(Y),x(P);const B={};Y.forEach(z=>{const te=P.find(de=>de.pupil_id===z.id);B[z.id]=te?te.status:"present"}),d(B)}catch{}},[e,s,l]);G.useEffect(()=>{w()},[w]);const S=k=>{d(R=>{const Y=R[k]||"present",P=Y==="present"?"absent":Y==="absent"?"late":"present";return{...R,[k]:P}})},j=async()=>{if(!s)return ct.error("Please select a class");if(f.length===0)return ct.error("No pupils in this class");const k={class_id:s,date:l,records:f.map(R=>({pupil_id:R.id,status:g[R.id]||"present"}))};try{await t("/attendance/bulk",k),ct.success("Attendance saved successfully!")}catch{}},T={present:"bg-emerald-100 text-emerald-700 border-emerald-200",absent:"bg-red-100 text-red-700 border-red-200",late:"bg-amber-100 text-amber-700 border-amber-200"},q=Object.values(g).filter(k=>k==="present").length,se=Object.values(g).filter(k=>k==="absent").length,L=Object.values(g).filter(k=>k==="late").length;return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Attendance"}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("select",{value:s,onChange:k=>o(k.target.value),className:"input-field sm:w-56",children:[i.jsx("option",{value:"",children:"Select Class"}),n.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]}),i.jsxs("div",{className:"relative sm:w-48",children:[i.jsx("button",{type:"button",onClick:()=>{var k,R,Y;return((R=(k=u.current)==null?void 0:k.showPicker)==null?void 0:R.call(k))||((Y=u.current)==null?void 0:Y.focus())},className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-primary-500 transition-colors cursor-pointer z-10",children:i.jsx(_i,{className:"w-5 h-5"})}),i.jsx("input",{ref:u,type:"date",value:l,onChange:k=>c(k.target.value),className:"input-field pl-10 cursor-pointer"})]})]})}),f.length>0&&i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:q}),i.jsx("p",{className:"text-sm text-emerald-600",children:"Present"})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-red-600",children:se}),i.jsx("p",{className:"text-sm text-red-600",children:"Absent"})]}),i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-amber-600",children:L}),i.jsx("p",{className:"text-sm text-amber-600",children:"Late"})]})]}),f.length>0&&i.jsxs("div",{className:"card p-0 overflow-hidden",children:[i.jsx("div",{className:"divide-y divide-gray-50",children:f.map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 transition",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"w-9 h-9 bg-primary-100 rounded-full flex items-center justify-center text-primary-600 font-semibold text-sm",children:[k.first_name[0],k.last_name[0]]}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium text-gray-800 text-sm",children:[k.first_name," ",k.last_name]}),i.jsx("p",{className:"text-xs text-gray-500",children:k.admission_number||""})]})]}),i.jsxs("button",{onClick:()=>S(k.id),className:`px-4 py-1.5 rounded-lg text-sm font-medium border transition ${T[g[k.id]||"present"]}`,children:[g[k.id]==="present"&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Uu,{className:"w-4 h-4"})," Present"]}),g[k.id]==="absent"&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Aa,{className:"w-4 h-4"})," Absent"]}),g[k.id]==="late"&&i.jsx("span",{children:"Late"})]})]},k.id))}),i.jsx("div",{className:"p-4 border-t border-gray-100 flex justify-end",children:i.jsxs("button",{onClick:j,disabled:r,className:"btn-primary flex items-center gap-2",children:[r?i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):null,"Save Attendance "]})})]}),!s&&i.jsx("div",{className:"card text-center py-12 text-gray-400",children:i.jsx("p",{className:"text-lg",children:"Select a class to take attendance"})})]})},Rb={name:"",amount:"",class_id:"",term:"",academic_year:"",due_date:"",description:""},Db={pupil_id:"",fee_id:"",amount:"",payment_method:"cash",reference_number:""},hR=()=>{const{isAdmin:e}=sn(),{get:t,post:r,put:n,loading:a}=En(),s=G.useRef(null),[o,l]=G.useState([]),[c,u]=G.useState([]),[f,p]=G.useState([]),[g,d]=G.useState([]),[y,x]=G.useState(!1),[_,w]=G.useState(null),[S,j]=G.useState({...Rb}),[T,q]=G.useState(!1),[se,L]=G.useState({...Db}),k=G.useCallback(async()=>{try{const W=await t("/fees",null,{silent:!0});l(W.data||[])}catch{}},[t]),R=G.useCallback(async()=>{try{const W=await t("/payments",{limit:50},{silent:!0});u(W.data||[])}catch{}},[t]),Y=G.useCallback(async()=>{var W;try{const M=await t("/pupils",{limit:500},{silent:!0});p(((W=M.data)==null?void 0:W.pupils)||M.data||[])}catch{}},[t]),P=G.useCallback(async()=>{try{const W=await t("/classes",null,{silent:!0});d(W.data||[])}catch{}},[t]);G.useEffect(()=>{k(),R(),Y(),P()},[k,R,Y,P]);const B=()=>{j({...Rb}),w(null)},z=W=>{w(W.id),j({name:W.name||"",amount:W.amount||"",class_id:W.class_id||"",term:W.term||"",academic_year:W.academic_year||"",due_date:W.due_date?W.due_date.slice(0,10):"",description:W.description||""}),x(!0),q(!1)},te=async W=>{W.preventDefault();try{const M={name:S.name,amount:parseFloat(S.amount),class_id:S.class_id||null,term:S.term||null,academic_year:S.academic_year||null,due_date:S.due_date||null,description:S.description||null};_?(await n(`/fees/${_}`,M),ct.success("Fee type updated")):(await r("/fees",M),ct.success("Fee type created")),x(!1),B(),k()}catch{}},de=async(W,M)=>{if(window.confirm(`Delete fee type "${M}"?`))try{await n(`/fees/${W}`,{is_active:!1}),ct.success("Fee type removed"),k()}catch{}},X=async W=>{W.preventDefault();try{const M={pupil_id:se.pupil_id,fee_id:se.fee_id||null,amount:parseFloat(se.amount),payment_method:se.payment_method,reference_number:se.reference_number||null};await r("/payments",M),ct.success("Payment recorded"),q(!1),L({...Db}),R()}catch{}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Fees & Payments"}),e&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>{x(!y),q(!1),B()},className:"btn-secondary flex items-center gap-2",children:[i.jsx(oo,{className:"w-5 h-5"})," Add Fee Type"]}),i.jsxs("button",{onClick:()=>{q(!T),x(!1)},className:"btn-primary flex items-center gap-2",children:[i.jsx(ko,{className:"w-5 h-5"})," Record Payment"]})]})]}),y&&i.jsxs("form",{onSubmit:te,className:"card space-y-4 border-accent-200 bg-accent-50/30",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:_?"Edit Fee Type":"Create Fee Type"}),i.jsx("button",{type:"button",onClick:()=>{x(!1),B()},className:"p-1 rounded hover:bg-gray-100",children:i.jsx(Aa,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Fee Name *"}),i.jsx("input",{value:S.name,onChange:W=>j({...S,name:W.target.value}),className:"input-field",required:!0,placeholder:"e.g., Tuition Term 1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Amount (UGX) *"}),i.jsx("input",{type:"number",value:S.amount,onChange:W=>j({...S,amount:W.target.value}),className:"input-field",required:!0,min:"1",placeholder:"e.g., 350000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Class (optional)"}),i.jsxs("select",{value:S.class_id,onChange:W=>j({...S,class_id:W.target.value}),className:"input-field",children:[i.jsx("option",{value:"",children:" All classes "}),g.map(W=>i.jsxs("option",{value:W.id,children:[W.name,W.section?` (${W.section})`:""]},W.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Term"}),i.jsxs("select",{value:S.term,onChange:W=>j({...S,term:W.target.value}),className:"input-field",children:[i.jsx("option",{value:"",children:"Select term"}),i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Academic Year"}),i.jsx("input",{value:S.academic_year,onChange:W=>j({...S,academic_year:W.target.value}),className:"input-field",placeholder:"e.g., 2026"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Due Date"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{ref:s,type:"date",value:S.due_date,onChange:W=>j({...S,due_date:W.target.value}),className:"input-field pr-10 cursor-pointer"}),i.jsx("button",{type:"button",onClick:()=>{var W,M,he;return((M=(W=s.current)==null?void 0:W.showPicker)==null?void 0:M.call(W))||((he=s.current)==null?void 0:he.focus())},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-primary-500 transition-colors cursor-pointer z-10",children:i.jsx(_i,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-3",children:[i.jsx("label",{className:"label",children:"Description"}),i.jsx("input",{value:S.description,onChange:W=>j({...S,description:W.target.value}),className:"input-field",placeholder:"Optional description"})]})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>{x(!1),B()},className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving...":_?"Update Fee Type":"Create Fee Type"})]})]}),T&&i.jsxs("form",{onSubmit:X,className:"card space-y-4 border-primary-200 bg-primary-50/30",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Record Payment"}),i.jsx("button",{type:"button",onClick:()=>q(!1),className:"p-1 rounded hover:bg-gray-100",children:i.jsx(Aa,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Pupil *"}),i.jsxs("select",{value:se.pupil_id,onChange:W=>L({...se,pupil_id:W.target.value}),className:"input-field",required:!0,children:[i.jsx("option",{value:"",children:"Select pupil"}),f.map(W=>i.jsxs("option",{value:W.id,children:[W.first_name," ",W.last_name,W.class_name?` (${W.class_name})`:""]},W.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Fee Type *"}),i.jsxs("select",{value:se.fee_id,onChange:W=>L({...se,fee_id:W.target.value}),className:"input-field",required:!0,children:[i.jsx("option",{value:"",children:"Select fee type"}),o.map(W=>i.jsxs("option",{value:W.id,children:[W.name,"  UGX ",Number(W.amount).toLocaleString(),W.term?` (${W.term})`:""]},W.id))]}),o.length===0&&i.jsx("p",{className:"text-xs text-amber-600 mt-1",children:'No fee types found. Please create a fee type first using the "Add Fee Type" button above.'})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Amount Paid (UGX) *"}),i.jsx("input",{type:"number",value:se.amount,onChange:W=>L({...se,amount:W.target.value}),className:"input-field",required:!0,min:"1",placeholder:"e.g., 350000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Payment Method"}),i.jsxs("select",{value:se.payment_method,onChange:W=>L({...se,payment_method:W.target.value}),className:"input-field",children:[i.jsx("option",{value:"cash",children:"Cash"}),i.jsx("option",{value:"mobile_money",children:"Mobile Money"}),i.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Reference #"}),i.jsx("input",{value:se.reference_number,onChange:W=>L({...se,reference_number:W.target.value}),className:"input-field",placeholder:"e.g., MM-1234567"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:()=>q(!1),className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving...":"Save Payment"})]})]}),e&&o.length>0&&i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Fee Types"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:o.map(W=>i.jsxs("div",{className:"border border-gray-100 rounded-xl p-4 bg-gray-50/50 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("h4",{className:"font-semibold text-gray-800",children:W.name}),i.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:["UGX ",Number(W.amount).toLocaleString()]})]}),i.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-2",children:[W.class_name&&i.jsx("span",{className:"px-2 py-0.5 bg-primary-100 text-primary-600 rounded text-[11px] font-medium",children:W.class_name}),W.term&&i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-[11px]",children:W.term}),W.academic_year&&i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-500 rounded text-[11px]",children:W.academic_year})]}),W.description&&i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:W.description})]}),i.jsxs("div",{className:"flex gap-2 mt-3 pt-2 border-t border-gray-100",children:[i.jsxs("button",{onClick:()=>z(W),className:"text-xs text-gray-500 hover:text-primary-500 flex items-center gap-1",children:[i.jsx(kc,{className:"w-3.5 h-3.5"})," Edit"]}),i.jsxs("button",{onClick:()=>de(W.id,W.name),className:"text-xs text-gray-500 hover:text-red-500 flex items-center gap-1",children:[i.jsx(To,{className:"w-3.5 h-3.5"})," Remove"]})]})]},W.id))})]}),i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Payment History"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"table-header",children:[i.jsx("th",{className:"text-left p-3",children:"Pupil"}),i.jsx("th",{className:"text-left p-3 hidden sm:table-cell",children:"Fee Type"}),i.jsx("th",{className:"text-right p-3",children:"Amount"}),i.jsx("th",{className:"text-center p-3 hidden md:table-cell",children:"Method"}),i.jsx("th",{className:"text-center p-3 hidden lg:table-cell",children:"Date"})]})}),i.jsxs("tbody",{children:[c.map(W=>{var M;return i.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[i.jsx("td",{className:"p-3 font-medium text-gray-800",children:W.pupil_name}),i.jsx("td",{className:"p-3 text-gray-600 hidden sm:table-cell",children:W.fee_name||""}),i.jsxs("td",{className:"p-3 text-right font-semibold text-emerald-600",children:["UGX ",Number(W.amount).toLocaleString()]}),i.jsx("td",{className:"p-3 text-center hidden md:table-cell",children:i.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs capitalize",children:(M=W.payment_method)==null?void 0:M.replace("_"," ")})}),i.jsx("td",{className:"p-3 text-center text-gray-500 hidden lg:table-cell",children:new Date(W.payment_date).toLocaleDateString()})]},W.id)}),c.length===0&&i.jsx("tr",{children:i.jsxs("td",{colSpan:"5",className:"text-center py-12 text-gray-400",children:["No payments recorded yet.",e&&o.length===0&&i.jsx("span",{className:"block text-sm mt-1",children:"Start by creating fee types, then record payments."})]})})]})]})})]})]})},pR=()=>{const{isAdmin:e}=sn(),{get:t,post:r,loading:n}=En(),[a,s]=G.useState([]),[o,l]=G.useState(!1),[c,u]=G.useState({title:"",body:"",audience:"all"}),f=G.useCallback(async()=>{try{const g=await t("/announcements",null,{silent:!0});s(g.data||[])}catch{}},[t]);G.useEffect(()=>{f()},[f]);const p=async g=>{g.preventDefault();try{await r("/announcements",c),ct.success("Announcement posted"),l(!1),u({title:"",body:"",audience:"all"}),f()}catch{}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Announcements"}),e&&i.jsxs("button",{onClick:()=>l(!o),className:"btn-primary flex items-center gap-2",children:[i.jsx(oo,{className:"w-5 h-5"})," Add Announcement"]})]}),o&&i.jsxs("form",{onSubmit:p,className:"card border-primary-200 bg-primary-50/30 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Title *"}),i.jsx("input",{value:c.title,onChange:g=>u({...c,title:g.target.value}),className:"input-field",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Message *"}),i.jsx("textarea",{value:c.body,onChange:g=>u({...c,body:g.target.value}),className:"input-field",rows:4,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Audience"}),i.jsxs("select",{value:c.audience,onChange:g=>u({...c,audience:g.target.value}),className:"input-field w-48",children:[i.jsx("option",{value:"all",children:"Everyone"}),i.jsx("option",{value:"teachers",children:"Teachers Only"}),i.jsx("option",{value:"parents",children:"Parents Only"})]})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:n,className:"btn-primary",children:n?"Posting...":"Post Announcement"})]})]}),i.jsxs("div",{className:"space-y-3",children:[a.map(g=>i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-accent-100 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(Si,{className:"w-5 h-5 text-accent-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:g.title}),i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-xs text-gray-500 capitalize",children:g.audience})]}),i.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:g.body}),i.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[g.posted_by_name&&`By ${g.posted_by_name}  `,new Date(g.created_at).toLocaleDateString()]})]})]})},g.id)),a.length===0&&i.jsxs("div",{className:"card text-center py-12 text-gray-400",children:[i.jsx(Si,{className:"w-12 h-12 mx-auto mb-2"}),i.jsx("p",{children:"No announcements yet"})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Qp={};Qp.version="0.18.5";var QS=1252,mR=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ZS=function(e){mR.indexOf(e)!=-1&&(QS=e)};function gR(){ZS(1252)}var h0=function(e){ZS(e)};function xR(){h0(1200),gR()}var Th=function(t){return String.fromCharCode(t)},Ib=function(t){return String.fromCharCode(t)},Zp,sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function p0(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=sc.charAt(s)+sc.charAt(o)+sc.charAt(l)+sc.charAt(c);return t}function _l(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=sc.indexOf(e.charAt(u++)),o=sc.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=sc.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=sc.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Gr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Al=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function pu(e){return Gr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Mb(e){return Gr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Xi=function(t){return Gr?Al(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Gm(e){if(typeof ArrayBuffer>"u")return Xi(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function O0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function vR(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Da=Gr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Al(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function yR(e){for(var t=[],r=0,n=e.length+250,a=pu(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=pu(65535),n=65530)}return t.push(a.slice(0,r)),Da(t)}var Md=/\u0000/g,Ph=/[\u0001-\u0006]/g;function Nf(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Qi(e,t){var r=""+e;return r.length>=t?r:$n("0",t-r.length)+r}function Nv(e,t){var r=""+e;return r.length>=t?r:$n(" ",t-r.length)+r}function em(e,t){var r=""+e;return r.length>=t?r:r+$n(" ",t-r.length)}function wR(e,t){var r=""+Math.round(e);return r.length>=t?r:$n("0",t-r.length)+r}function bR(e,t){var r=""+e;return r.length>=t?r:$n("0",t-r.length)+r}var Bb=Math.pow(2,32);function Iu(e,t){if(e>Bb||e<-Bb)return wR(e,t);var r=Math.round(e);return bR(r,t)}function tm(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Ub=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Eg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function _R(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Wn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},zb={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},NR={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function rm(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,f=0,p=Math.floor(a);u<t&&(p=Math.floor(a),l=p*o+s,f=p*u+c,!(a-p<5e-8));)a=1/(a-p),s=o,o=l,c=u,u=f;if(f>t&&(u>t?(f=c,l=s):(f=u,l=o)),!r)return[0,n*l,f];var g=Math.floor(n*l/f);return[g,n*l-g*f,f]}function Lh(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=TR(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var ej=new Date(1899,11,31,0,0,0),SR=ej.getTime(),jR=new Date(1900,2,1,0,0,0);function tj(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=jR&&(r+=24*60*60*1e3),(r-(SR+(e.getTimezoneOffset()-ej.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Sv(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function AR(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ER(e){var t=e<0?12:11,r=Sv(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function CR(e){var t=Sv(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function kR(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=ER(e):t===10?r=e.toFixed(10).substr(0,12):r=CR(e),Sv(AR(r.toUpperCase()))}function u2(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):kR(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return _c(14,tj(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function TR(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function PR(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Eg[r.m-1][1];case 5:return Eg[r.m-1][0];default:return Eg[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return Ub[r.q][0];default:return Ub[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Qi(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=Qi(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var f=u>0?Qi(c,u):"";return f}function ic(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var rj=/%/g;function LR(e,t,r){var n=t.replace(rj,""),a=t.length-n.length;return hl(e,n,r*Math.pow(10,2*a))+$n("%",a)}function FR(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return hl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function nj(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+nj(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,f){return c+u+f.substr(0,(a+s)%a)+"."+f.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var aj=/# (\?+)( ?)\/( ?)(\d+)/;function OR(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?$n(" ",e[1].length+1+e[4].length):Nv(o,e[1].length)+e[2]+"/"+e[3]+Qi(l,e[4].length))}function RR(e,t,r){return r+(t===0?"":""+t)+$n(" ",e[1].length+2+e[4].length)}var sj=/^#*0*\.([0#]+)/,ij=/\).*[0#]/,oj=/\(###\) ###\\?-####/;function ds(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Hb(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function $b(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function DR(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function IR(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function vi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ij)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vi("n",n,r):"("+vi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return FR(e,t,r);if(t.indexOf("%")!==-1)return LR(e,t,r);if(t.indexOf("E")!==-1)return nj(t,r);if(t.charCodeAt(0)===36)return"$"+vi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Iu(c,t.length);if(t.match(/^[#?]+$/))return a=Iu(r,0),a==="0"&&(a=""),a.length>t.length?a:ds(t.substr(0,t.length-a.length))+a;if(s=t.match(aj))return OR(s,c,u);if(t.match(/^#+0+$/))return u+Iu(c,t.length-t.indexOf("0"));if(s=t.match(sj))return a=Hb(r,s[1].length).replace(/^([^\.]+)$/,"$1."+ds(s[1])).replace(/\.$/,"."+ds(s[1])).replace(/\.(\d*)$/,function(y,x){return"."+x+$n("0",ds(s[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+Hb(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+ic(Iu(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vi(e,t,-r):ic(""+(Math.floor(r)+DR(r,s[1].length)))+"."+Qi($b(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return vi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Nf(vi(e,t.replace(/[\\-]/g,""),r)),o=0,Nf(Nf(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(oj))return a=vi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=rm(c,Math.pow(10,o)-1,!1),a=""+u,f=hl("n",s[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+s[2]+"/"+s[3],f=em(l[2],o),f.length<s[4].length&&(f=ds(s[4].substr(s[4].length-f.length))+f),a+=f,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=rm(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Nv(l[1],o)+s[2]+"/"+s[3]+em(l[2],o):$n(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Iu(r,0),t.length<=a.length?a:ds(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var p=t.indexOf(".")-o,g=t.length-a.length-p;return ds(t.substr(0,p)+a+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=$b(r,s[1].length),r<0?"-"+vi(e,t,-r):ic(IR(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Qi(0,3-y.length):"")+y})+"."+Qi(o,s[1].length);switch(t){case"###,##0.00":return vi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var d=ic(Iu(c,0));return d!=="0"?u+d:"";case"###,###.00":return vi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return vi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function MR(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return hl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function BR(e,t,r){var n=t.replace(rj,""),a=t.length-n.length;return hl(e,n,r*Math.pow(10,2*a))+$n("%",a)}function lj(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+lj(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,f){return c+u+f.substr(0,(a+s)%a)+"."+f.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function bo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ij)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?bo("n",n,r):"("+bo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return MR(e,t,r);if(t.indexOf("%")!==-1)return BR(e,t,r);if(t.indexOf("E")!==-1)return lj(t,r);if(t.charCodeAt(0)===36)return"$"+bo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Qi(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ds(t.substr(0,t.length-a.length))+a;if(s=t.match(aj))return RR(s,c,u);if(t.match(/^#+0+$/))return u+Qi(c,t.length-t.indexOf("0"));if(s=t.match(sj))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ds(s[1])).replace(/\.$/,"."+ds(s[1])),a=a.replace(/\.(\d*)$/,function(y,x){return"."+x+$n("0",ds(s[1]).length-x.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+ic(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+bo(e,t,-r):ic(""+r)+"."+$n("0",s[1].length);if(s=t.match(/^#,#*,#0/))return bo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Nf(bo(e,t.replace(/[\\-]/g,""),r)),o=0,Nf(Nf(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<a.length?a.charAt(o++):y==="0"?"0":""}));if(t.match(oj))return a=bo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=rm(c,Math.pow(10,o)-1,!1),a=""+u,f=hl("n",s[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+s[2]+"/"+s[3],f=em(l[2],o),f.length<s[4].length&&(f=ds(s[4].substr(s[4].length-f.length))+f),a+=f,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=rm(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Nv(l[1],o)+s[2]+"/"+s[3]+em(l[2],o):$n(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ds(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var p=t.indexOf(".")-o,g=t.length-a.length-p;return ds(t.substr(0,p)+a+t.substr(t.length-g))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+bo(e,t,-r):ic(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Qi(0,3-y.length):"")+y})+"."+Qi(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=ic(""+c);return d!=="0"?u+d:"";default:if(t.match(/\.[0#?]*$/))return bo(e,t.slice(0,t.lastIndexOf(".")),r)+ds(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function hl(e,t,r){return(r|0)===r?bo(e,t,r):vi(e,t,r)}function UR(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var cj=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function uj(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":tm(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(cj))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function zR(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,f,p,g="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!tm(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(p=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(p);a[a.length]={t:"t",v:s},++o;break;case"\\":var d=e.charAt(++o),y=d==="("||d===")"?d:"t";a[a.length]={t:y,v:d},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Lh(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Lh(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=g),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(u==null&&(u=Lh(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(x.v=u.H>=12?"P":"A"),x.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(x.v=u.H>=12?"PM":"AM"),x.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(x.v=u.H>=12?"":""),x.t="T",o+=5,g="h"):(x.t="t",++o),u==null&&x.t==="T")return"";a[a.length]=x,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(cj)){if(u==null&&(u=Lh(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",uj(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var _=0,w=0,S;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=g,c="h",_<1&&(_=1);break;case"s":(S=a[o].v.match(/\.0+$/))&&(w=Math.max(w,S[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&a[o].v.match(/[Hh]/)&&(_=1),_<2&&a[o].v.match(/[Mm]/)&&(_=2),_<3&&a[o].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var j="",T;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=PR(a[o].t.charCodeAt(0),a[o].v,u,w),a[o].t="t";break;case"n":case"?":for(T=o+1;a[T]!=null&&((l=a[T].t)==="?"||l==="D"||(l===" "||l==="t")&&a[T+1]!=null&&(a[T+1].t==="?"||a[T+1].t==="t"&&a[T+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[T].v==="/"||a[T].v===" "&&a[T+1]!=null&&a[T+1].t=="?"));)a[o].v+=a[T].v,a[T]={v:"",t:";"},++T;j+=a[o].v,o=T-1;break;case"G":a[o].t="t",a[o].v=u2(t,r);break}var q="",se,L;if(j.length>0){j.charCodeAt(0)==40?(se=t<0&&j.charCodeAt(0)===45?-t:t,L=hl("n",j,se)):(se=t<0&&n>1?-t:t,L=hl("n",j,se),se<0&&a[0]&&a[0].t=="t"&&(L=L.substr(1),a[0].v="-"+a[0].v)),T=L.length-1;var k=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){k=o;break}var R=a.length;if(k===a.length&&L.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(T>=a[o].v.length-1?(T-=a[o].v.length,a[o].v=L.substr(T+1,a[o].v.length)):T<0?a[o].v="":(a[o].v=L.substr(0,T+1),T=-1),a[o].t="t",R=o);T>=0&&R<a.length&&(a[R].v=L.substr(0,T+1)+a[R].v)}else if(k!==a.length&&L.indexOf("E")===-1){for(T=L.indexOf(".")-1,o=k;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(f=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")-1:a[o].v.length-1,q=a[o].v.substr(f+1);f>=0;--f)T>=0&&(a[o].v.charAt(f)==="0"||a[o].v.charAt(f)==="#")&&(q=L.charAt(T--)+q);a[o].v=q,a[o].t="t",R=o}for(T>=0&&R<a.length&&(a[R].v=L.substr(0,T+1)+a[R].v),T=L.indexOf(".")+1,o=k;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==k)){for(f=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")+1:0,q=a[o].v.substr(0,f);f<a[o].v.length;++f)T<L.length&&(q+=L.charAt(T++));a[o].v=q,a[o].t="t",R=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(se=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=hl(a[o].t,a[o].v,se),a[o].t="t");var Y="";for(o=0;o!==a.length;++o)a[o]!=null&&(Y+=a[o].v);return Y}var Wb=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function qb(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function HR(e,t){var r=UR(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(Wb),l=r[1].match(Wb);return qb(t,o)?[n,r[0]]:qb(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function _c(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Wn)[e],n==null&&(n=r.table&&r.table[zb[e]]||Wn[zb[e]]),n==null&&(n=NR[e]||"General");break}if(tm(n,0))return u2(t,r);t instanceof Date&&(t=tj(t,r.date1904));var a=HR(n,t);if(tm(a[1]))return u2(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return zR(a[1],t,r,a[0])}function fj(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Wn[r]==null){t<0&&(t=r);continue}if(Wn[r]==e){t=r;break}}t<0&&(t=391)}return Wn[t]=e,t}function Km(e){for(var t=0;t!=392;++t)e[t]!==void 0&&fj(e[t],t)}function Ym(){Wn=_R()}var dj=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function $R(e){var t=typeof e=="number"?Wn[e]:e;return t=t.replace(dj,"(\\d+)"),new RegExp("^"+t+"$")}function WR(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(dj)||[]).forEach(function(p,g){var d=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=d;break;case"d":s=d;break;case"h":o=d;break;case"s":c=d;break;case"m":o>=0?l=d:a=d;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?f:u+"T"+f}var qR=function(){var e={};e.version="1.2.0";function t(){for(var L=0,k=new Array(256),R=0;R!=256;++R)L=R,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,k[R]=L;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(L){var k=0,R=0,Y=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Y=0;Y!=256;++Y)P[Y]=L[Y];for(Y=0;Y!=256;++Y)for(R=L[Y],k=256+Y;k<4096;k+=256)R=P[k]=R>>>8^L[R&255];var B=[];for(Y=1;Y!=16;++Y)B[Y-1]=typeof Int32Array<"u"?P.subarray(Y*256,Y*256+256):P.slice(Y*256,Y*256+256);return B}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],f=a[5],p=a[6],g=a[7],d=a[8],y=a[9],x=a[10],_=a[11],w=a[12],S=a[13],j=a[14];function T(L,k){for(var R=k^-1,Y=0,P=L.length;Y<P;)R=R>>>8^r[(R^L.charCodeAt(Y++))&255];return~R}function q(L,k){for(var R=k^-1,Y=L.length-15,P=0;P<Y;)R=j[L[P++]^R&255]^S[L[P++]^R>>8&255]^w[L[P++]^R>>16&255]^_[L[P++]^R>>>24]^x[L[P++]]^y[L[P++]]^d[L[P++]]^g[L[P++]]^p[L[P++]]^f[L[P++]]^u[L[P++]]^c[L[P++]]^l[L[P++]]^o[L[P++]]^s[L[P++]]^r[L[P++]];for(Y+=15;P<Y;)R=R>>>8^r[(R^L[P++])&255];return~R}function se(L,k){for(var R=k^-1,Y=0,P=L.length,B=0,z=0;Y<P;)B=L.charCodeAt(Y++),B<128?R=R>>>8^r[(R^B)&255]:B<2048?(R=R>>>8^r[(R^(192|B>>6&31))&255],R=R>>>8^r[(R^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,z=L.charCodeAt(Y++)&1023,R=R>>>8^r[(R^(240|B>>8&7))&255],R=R>>>8^r[(R^(128|B>>2&63))&255],R=R>>>8^r[(R^(128|z>>6&15|(B&3)<<4))&255],R=R>>>8^r[(R^(128|z&63))&255]):(R=R>>>8^r[(R^(224|B>>12&15))&255],R=R>>>8^r[(R^(128|B>>6&63))&255],R=R>>>8^r[(R^(128|B&63))&255]);return~R}return e.table=r,e.bstr=T,e.buf=q,e.str=se,e}(),cn=function(){var t={};t.version="1.2.1";function r(Q,we){for(var ce=Q.split("/"),fe=we.split("/"),ve=0,be=0,qe=Math.min(ce.length,fe.length);ve<qe;++ve){if(be=ce[ve].length-fe[ve].length)return be;if(ce[ve]!=fe[ve])return ce[ve]<fe[ve]?-1:1}return ce.length-fe.length}function n(Q){if(Q.charAt(Q.length-1)=="/")return Q.slice(0,-1).indexOf("/")===-1?Q:n(Q.slice(0,-1));var we=Q.lastIndexOf("/");return we===-1?Q:Q.slice(0,we+1)}function a(Q){if(Q.charAt(Q.length-1)=="/")return a(Q.slice(0,-1));var we=Q.lastIndexOf("/");return we===-1?Q:Q.slice(we+1)}function s(Q,we){typeof we=="string"&&(we=new Date(we));var ce=we.getHours();ce=ce<<6|we.getMinutes(),ce=ce<<5|we.getSeconds()>>>1,Q.write_shift(2,ce);var fe=we.getFullYear()-1980;fe=fe<<4|we.getMonth()+1,fe=fe<<5|we.getDate(),Q.write_shift(2,fe)}function o(Q){var we=Q.read_shift(2)&65535,ce=Q.read_shift(2)&65535,fe=new Date,ve=ce&31;ce>>>=5;var be=ce&15;ce>>>=4,fe.setMilliseconds(0),fe.setFullYear(ce+1980),fe.setMonth(be-1),fe.setDate(ve);var qe=we&31;we>>>=5;var nt=we&63;return we>>>=6,fe.setHours(we),fe.setMinutes(nt),fe.setSeconds(qe<<1),fe}function l(Q){Js(Q,0);for(var we={},ce=0;Q.l<=Q.length-4;){var fe=Q.read_shift(2),ve=Q.read_shift(2),be=Q.l+ve,qe={};switch(fe){case 21589:ce=Q.read_shift(1),ce&1&&(qe.mtime=Q.read_shift(4)),ve>5&&(ce&2&&(qe.atime=Q.read_shift(4)),ce&4&&(qe.ctime=Q.read_shift(4))),qe.mtime&&(qe.mt=new Date(qe.mtime*1e3));break}Q.l=be,we[fe]=qe}return we}var c;function u(){return c||(c={})}function f(Q,we){if(Q[0]==80&&Q[1]==75)return at(Q,we);if((Q[0]|32)==109&&(Q[1]|32)==105)return mt(Q,we);if(Q.length<512)throw new Error("CFB file size "+Q.length+" < 512");var ce=3,fe=512,ve=0,be=0,qe=0,nt=0,$e=0,Ke=[],Ye=Q.slice(0,512);Js(Ye,0);var St=p(Ye);switch(ce=St[0],ce){case 3:fe=512;break;case 4:fe=4096;break;case 0:if(St[1]==0)return at(Q,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+ce)}fe!==512&&(Ye=Q.slice(0,fe),Js(Ye,28));var Dt=Q.slice(0,fe);g(Ye,ce);var Lt=Ye.read_shift(4,"i");if(ce===3&&Lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Lt);Ye.l+=4,qe=Ye.read_shift(4,"i"),Ye.l+=4,Ye.chk("00100000","Mini Stream Cutoff Size: "),nt=Ye.read_shift(4,"i"),ve=Ye.read_shift(4,"i"),$e=Ye.read_shift(4,"i"),be=Ye.read_shift(4,"i");for(var kt=-1,It=0;It<109&&(kt=Ye.read_shift(4,"i"),!(kt<0));++It)Ke[It]=kt;var hr=d(Q,fe);_($e,be,hr,fe,Ke);var Ir=S(hr,qe,Ke,fe);Ir[qe].name="!Directory",ve>0&&nt!==z&&(Ir[nt].name="!MiniFAT"),Ir[Ke[0]].name="!FAT",Ir.fat_addrs=Ke,Ir.ssz=fe;var Er={},hn=[],ys=[],ia=[];j(qe,Ir,hr,hn,ve,Er,ys,nt),y(ys,ia,hn),hn.shift();var Rs={FileIndex:ys,FullPaths:ia};return we&&we.raw&&(Rs.raw={header:Dt,sectors:hr}),Rs}function p(Q){if(Q[Q.l]==80&&Q[Q.l+1]==75)return[0,0];Q.chk(te,"Header Signature: "),Q.l+=16;var we=Q.read_shift(2,"u");return[Q.read_shift(2,"u"),we]}function g(Q,we){var ce=9;switch(Q.l+=2,ce=Q.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+ce);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ce)}Q.chk("0600","Mini Sector Shift: "),Q.chk("000000000000","Reserved: ")}function d(Q,we){for(var ce=Math.ceil(Q.length/we)-1,fe=[],ve=1;ve<ce;++ve)fe[ve-1]=Q.slice(ve*we,(ve+1)*we);return fe[ce-1]=Q.slice(ce*we),fe}function y(Q,we,ce){for(var fe=0,ve=0,be=0,qe=0,nt=0,$e=ce.length,Ke=[],Ye=[];fe<$e;++fe)Ke[fe]=Ye[fe]=fe,we[fe]=ce[fe];for(;nt<Ye.length;++nt)fe=Ye[nt],ve=Q[fe].L,be=Q[fe].R,qe=Q[fe].C,Ke[fe]===fe&&(ve!==-1&&Ke[ve]!==ve&&(Ke[fe]=Ke[ve]),be!==-1&&Ke[be]!==be&&(Ke[fe]=Ke[be])),qe!==-1&&(Ke[qe]=fe),ve!==-1&&fe!=Ke[fe]&&(Ke[ve]=Ke[fe],Ye.lastIndexOf(ve)<nt&&Ye.push(ve)),be!==-1&&fe!=Ke[fe]&&(Ke[be]=Ke[fe],Ye.lastIndexOf(be)<nt&&Ye.push(be));for(fe=1;fe<$e;++fe)Ke[fe]===fe&&(be!==-1&&Ke[be]!==be?Ke[fe]=Ke[be]:ve!==-1&&Ke[ve]!==ve&&(Ke[fe]=Ke[ve]));for(fe=1;fe<$e;++fe)if(Q[fe].type!==0){if(nt=fe,nt!=Ke[nt])do nt=Ke[nt],we[fe]=we[nt]+"/"+we[fe];while(nt!==0&&Ke[nt]!==-1&&nt!=Ke[nt]);Ke[fe]=-1}for(we[0]+="/",fe=1;fe<$e;++fe)Q[fe].type!==2&&(we[fe]+="/")}function x(Q,we,ce){for(var fe=Q.start,ve=Q.size,be=[],qe=fe;ce&&ve>0&&qe>=0;)be.push(we.slice(qe*B,qe*B+B)),ve-=B,qe=Kc(ce,qe*4);return be.length===0?st(0):Da(be).slice(0,Q.size)}function _(Q,we,ce,fe,ve){var be=z;if(Q===z){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(Q!==-1){var qe=ce[Q],nt=(fe>>>2)-1;if(!qe)return;for(var $e=0;$e<nt&&(be=Kc(qe,$e*4))!==z;++$e)ve.push(be);_(Kc(qe,fe-4),we-1,ce,fe,ve)}}function w(Q,we,ce,fe,ve){var be=[],qe=[];ve||(ve=[]);var nt=fe-1,$e=0,Ke=0;for($e=we;$e>=0;){ve[$e]=!0,be[be.length]=$e,qe.push(Q[$e]);var Ye=ce[Math.floor($e*4/fe)];if(Ke=$e*4&nt,fe<4+Ke)throw new Error("FAT boundary crossed: "+$e+" 4 "+fe);if(!Q[Ye])break;$e=Kc(Q[Ye],Ke)}return{nodes:be,data:Zb([qe])}}function S(Q,we,ce,fe){var ve=Q.length,be=[],qe=[],nt=[],$e=[],Ke=fe-1,Ye=0,St=0,Dt=0,Lt=0;for(Ye=0;Ye<ve;++Ye)if(nt=[],Dt=Ye+we,Dt>=ve&&(Dt-=ve),!qe[Dt]){$e=[];var kt=[];for(St=Dt;St>=0;){kt[St]=!0,qe[St]=!0,nt[nt.length]=St,$e.push(Q[St]);var It=ce[Math.floor(St*4/fe)];if(Lt=St*4&Ke,fe<4+Lt)throw new Error("FAT boundary crossed: "+St+" 4 "+fe);if(!Q[It]||(St=Kc(Q[It],Lt),kt[St]))break}be[Dt]={nodes:nt,data:Zb([$e])}}return be}function j(Q,we,ce,fe,ve,be,qe,nt){for(var $e=0,Ke=fe.length?2:0,Ye=we[Q].data,St=0,Dt=0,Lt;St<Ye.length;St+=128){var kt=Ye.slice(St,St+128);Js(kt,64),Dt=kt.read_shift(2),Lt=kv(kt,0,Dt-Ke),fe.push(Lt);var It={name:Lt,type:kt.read_shift(1),color:kt.read_shift(1),L:kt.read_shift(4,"i"),R:kt.read_shift(4,"i"),C:kt.read_shift(4,"i"),clsid:kt.read_shift(16),state:kt.read_shift(4,"i"),start:0,size:0},hr=kt.read_shift(2)+kt.read_shift(2)+kt.read_shift(2)+kt.read_shift(2);hr!==0&&(It.ct=T(kt,kt.l-8));var Ir=kt.read_shift(2)+kt.read_shift(2)+kt.read_shift(2)+kt.read_shift(2);Ir!==0&&(It.mt=T(kt,kt.l-8)),It.start=kt.read_shift(4,"i"),It.size=kt.read_shift(4,"i"),It.size<0&&It.start<0&&(It.size=It.type=0,It.start=z,It.name=""),It.type===5?($e=It.start,ve>0&&$e!==z&&(we[$e].name="!StreamData")):It.size>=4096?(It.storage="fat",we[It.start]===void 0&&(we[It.start]=w(ce,It.start,we.fat_addrs,we.ssz)),we[It.start].name=It.name,It.content=we[It.start].data.slice(0,It.size)):(It.storage="minifat",It.size<0?It.size=0:$e!==z&&It.start!==z&&we[$e]&&(It.content=x(It,we[$e].data,(we[nt]||{}).data))),It.content&&Js(It.content,0),be[Lt]=It,qe.push(It)}}function T(Q,we){return new Date((Zs(Q,we+4)/1e7*Math.pow(2,32)+Zs(Q,we)/1e7-11644473600)*1e3)}function q(Q,we){return u(),f(c.readFileSync(Q),we)}function se(Q,we){var ce=we&&we.type;switch(ce||Gr&&Buffer.isBuffer(Q)&&(ce="buffer"),ce||"base64"){case"file":return q(Q,we);case"base64":return f(Xi(_l(Q)),we);case"binary":return f(Xi(Q),we)}return f(Q,we)}function L(Q,we){var ce=we||{},fe=ce.root||"Root Entry";if(Q.FullPaths||(Q.FullPaths=[]),Q.FileIndex||(Q.FileIndex=[]),Q.FullPaths.length!==Q.FileIndex.length)throw new Error("inconsistent CFB structure");Q.FullPaths.length===0&&(Q.FullPaths[0]=fe+"/",Q.FileIndex[0]={name:fe,type:5}),ce.CLSID&&(Q.FileIndex[0].clsid=ce.CLSID),k(Q)}function k(Q){var we="Sh33tJ5";if(!cn.find(Q,"/"+we)){var ce=st(4);ce[0]=55,ce[1]=ce[3]=50,ce[2]=54,Q.FileIndex.push({name:we,type:2,content:ce,size:4,L:69,R:69,C:69}),Q.FullPaths.push(Q.FullPaths[0]+we),R(Q)}}function R(Q,we){L(Q);for(var ce=!1,fe=!1,ve=Q.FullPaths.length-1;ve>=0;--ve){var be=Q.FileIndex[ve];switch(be.type){case 0:fe?ce=!0:(Q.FileIndex.pop(),Q.FullPaths.pop());break;case 1:case 2:case 5:fe=!0,isNaN(be.R*be.L*be.C)&&(ce=!0),be.R>-1&&be.L>-1&&be.R==be.L&&(ce=!0);break;default:ce=!0;break}}if(!(!ce&&!we)){var qe=new Date(1987,1,19),nt=0,$e=Object.create?Object.create(null):{},Ke=[];for(ve=0;ve<Q.FullPaths.length;++ve)$e[Q.FullPaths[ve]]=!0,Q.FileIndex[ve].type!==0&&Ke.push([Q.FullPaths[ve],Q.FileIndex[ve]]);for(ve=0;ve<Ke.length;++ve){var Ye=n(Ke[ve][0]);fe=$e[Ye],fe||(Ke.push([Ye,{name:a(Ye).replace("/",""),type:1,clsid:X,ct:qe,mt:qe,content:null}]),$e[Ye]=!0)}for(Ke.sort(function(Lt,kt){return r(Lt[0],kt[0])}),Q.FullPaths=[],Q.FileIndex=[],ve=0;ve<Ke.length;++ve)Q.FullPaths[ve]=Ke[ve][0],Q.FileIndex[ve]=Ke[ve][1];for(ve=0;ve<Ke.length;++ve){var St=Q.FileIndex[ve],Dt=Q.FullPaths[ve];if(St.name=a(Dt).replace("/",""),St.L=St.R=St.C=-(St.color=1),St.size=St.content?St.content.length:0,St.start=0,St.clsid=St.clsid||X,ve===0)St.C=Ke.length>1?1:-1,St.size=0,St.type=5;else if(Dt.slice(-1)=="/"){for(nt=ve+1;nt<Ke.length&&n(Q.FullPaths[nt])!=Dt;++nt);for(St.C=nt>=Ke.length?-1:nt,nt=ve+1;nt<Ke.length&&n(Q.FullPaths[nt])!=n(Dt);++nt);St.R=nt>=Ke.length?-1:nt,St.type=1}else n(Q.FullPaths[ve+1]||"")==n(Dt)&&(St.R=ve+1),St.type=2}}}function Y(Q,we){var ce=we||{};if(ce.fileType=="mad")return yr(Q,ce);switch(R(Q),ce.fileType){case"zip":return pr(Q,ce)}var fe=function(Lt){for(var kt=0,It=0,hr=0;hr<Lt.FileIndex.length;++hr){var Ir=Lt.FileIndex[hr];if(Ir.content){var Er=Ir.content.length;Er>0&&(Er<4096?kt+=Er+63>>6:It+=Er+511>>9)}}for(var hn=Lt.FullPaths.length+3>>2,ys=kt+7>>3,ia=kt+127>>7,Rs=ys+It+hn+ia,Ea=Rs+127>>7,Li=Ea<=109?0:Math.ceil((Ea-109)/127);Rs+Ea+Li+127>>7>Ea;)Li=++Ea<=109?0:Math.ceil((Ea-109)/127);var ur=[1,Li,Ea,ia,hn,It,kt,0];return Lt.FileIndex[0].size=kt<<6,ur[7]=(Lt.FileIndex[0].start=ur[0]+ur[1]+ur[2]+ur[3]+ur[4]+ur[5])+(ur[6]+7>>3),ur}(Q),ve=st(fe[7]<<9),be=0,qe=0;{for(be=0;be<8;++be)ve.write_shift(1,de[be]);for(be=0;be<8;++be)ve.write_shift(2,0);for(ve.write_shift(2,62),ve.write_shift(2,3),ve.write_shift(2,65534),ve.write_shift(2,9),ve.write_shift(2,6),be=0;be<3;++be)ve.write_shift(2,0);for(ve.write_shift(4,0),ve.write_shift(4,fe[2]),ve.write_shift(4,fe[0]+fe[1]+fe[2]+fe[3]-1),ve.write_shift(4,0),ve.write_shift(4,4096),ve.write_shift(4,fe[3]?fe[0]+fe[1]+fe[2]-1:z),ve.write_shift(4,fe[3]),ve.write_shift(-4,fe[1]?fe[0]-1:z),ve.write_shift(4,fe[1]),be=0;be<109;++be)ve.write_shift(-4,be<fe[2]?fe[1]+be:-1)}if(fe[1])for(qe=0;qe<fe[1];++qe){for(;be<236+qe*127;++be)ve.write_shift(-4,be<fe[2]?fe[1]+be:-1);ve.write_shift(-4,qe===fe[1]-1?z:qe+1)}var nt=function(Lt){for(qe+=Lt;be<qe-1;++be)ve.write_shift(-4,be+1);Lt&&(++be,ve.write_shift(-4,z))};for(qe=be=0,qe+=fe[1];be<qe;++be)ve.write_shift(-4,W.DIFSECT);for(qe+=fe[2];be<qe;++be)ve.write_shift(-4,W.FATSECT);nt(fe[3]),nt(fe[4]);for(var $e=0,Ke=0,Ye=Q.FileIndex[0];$e<Q.FileIndex.length;++$e)Ye=Q.FileIndex[$e],Ye.content&&(Ke=Ye.content.length,!(Ke<4096)&&(Ye.start=qe,nt(Ke+511>>9)));for(nt(fe[6]+7>>3);ve.l&511;)ve.write_shift(-4,W.ENDOFCHAIN);for(qe=be=0,$e=0;$e<Q.FileIndex.length;++$e)Ye=Q.FileIndex[$e],Ye.content&&(Ke=Ye.content.length,!(!Ke||Ke>=4096)&&(Ye.start=qe,nt(Ke+63>>6)));for(;ve.l&511;)ve.write_shift(-4,W.ENDOFCHAIN);for(be=0;be<fe[4]<<2;++be){var St=Q.FullPaths[be];if(!St||St.length===0){for($e=0;$e<17;++$e)ve.write_shift(4,0);for($e=0;$e<3;++$e)ve.write_shift(4,-1);for($e=0;$e<12;++$e)ve.write_shift(4,0);continue}Ye=Q.FileIndex[be],be===0&&(Ye.start=Ye.size?Ye.start-1:z);var Dt=be===0&&ce.root||Ye.name;if(Ke=2*(Dt.length+1),ve.write_shift(64,Dt,"utf16le"),ve.write_shift(2,Ke),ve.write_shift(1,Ye.type),ve.write_shift(1,Ye.color),ve.write_shift(-4,Ye.L),ve.write_shift(-4,Ye.R),ve.write_shift(-4,Ye.C),Ye.clsid)ve.write_shift(16,Ye.clsid,"hex");else for($e=0;$e<4;++$e)ve.write_shift(4,0);ve.write_shift(4,Ye.state||0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,0),ve.write_shift(4,Ye.start),ve.write_shift(4,Ye.size),ve.write_shift(4,0)}for(be=1;be<Q.FileIndex.length;++be)if(Ye=Q.FileIndex[be],Ye.size>=4096)if(ve.l=Ye.start+1<<9,Gr&&Buffer.isBuffer(Ye.content))Ye.content.copy(ve,ve.l,0,Ye.size),ve.l+=Ye.size+511&-512;else{for($e=0;$e<Ye.size;++$e)ve.write_shift(1,Ye.content[$e]);for(;$e&511;++$e)ve.write_shift(1,0)}for(be=1;be<Q.FileIndex.length;++be)if(Ye=Q.FileIndex[be],Ye.size>0&&Ye.size<4096)if(Gr&&Buffer.isBuffer(Ye.content))Ye.content.copy(ve,ve.l,0,Ye.size),ve.l+=Ye.size+63&-64;else{for($e=0;$e<Ye.size;++$e)ve.write_shift(1,Ye.content[$e]);for(;$e&63;++$e)ve.write_shift(1,0)}if(Gr)ve.l=ve.length;else for(;ve.l<ve.length;)ve.write_shift(1,0);return ve}function P(Q,we){var ce=Q.FullPaths.map(function($e){return $e.toUpperCase()}),fe=ce.map(function($e){var Ke=$e.split("/");return Ke[Ke.length-($e.slice(-1)=="/"?2:1)]}),ve=!1;we.charCodeAt(0)===47?(ve=!0,we=ce[0].slice(0,-1)+we):ve=we.indexOf("/")!==-1;var be=we.toUpperCase(),qe=ve===!0?ce.indexOf(be):fe.indexOf(be);if(qe!==-1)return Q.FileIndex[qe];var nt=!be.match(Ph);for(be=be.replace(Md,""),nt&&(be=be.replace(Ph,"!")),qe=0;qe<ce.length;++qe)if((nt?ce[qe].replace(Ph,"!"):ce[qe]).replace(Md,"")==be||(nt?fe[qe].replace(Ph,"!"):fe[qe]).replace(Md,"")==be)return Q.FileIndex[qe];return null}var B=64,z=-2,te="d0cf11e0a1b11ae1",de=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:te,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function M(Q,we,ce){u();var fe=Y(Q,ce);c.writeFileSync(we,fe)}function he(Q){for(var we=new Array(Q.length),ce=0;ce<Q.length;++ce)we[ce]=String.fromCharCode(Q[ce]);return we.join("")}function Se(Q,we){var ce=Y(Q,we);switch(we&&we.type||"buffer"){case"file":return u(),c.writeFileSync(we.filename,ce),ce;case"binary":return typeof ce=="string"?ce:he(ce);case"base64":return p0(typeof ce=="string"?ce:he(ce));case"buffer":if(Gr)return Buffer.isBuffer(ce)?ce:Al(ce);case"array":return typeof ce=="string"?Xi(ce):ce}return ce}var le;function A(Q){try{var we=Q.InflateRaw,ce=new we;if(ce._processChunk(new Uint8Array([3,0]),ce._finishFlushFlag),ce.bytesRead)le=Q;else throw new Error("zlib does not expose bytesRead")}catch(fe){console.error("cannot use native zlib: "+(fe.message||fe))}}function H(Q,we){if(!le)return ir(Q,we);var ce=le.InflateRaw,fe=new ce,ve=fe._processChunk(Q.slice(Q.l),fe._finishFlushFlag);return Q.l+=fe.bytesRead,ve}function D(Q){return le?le.deflateRawSync(Q):Ct(Q)}var I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ee(Q){var we=(Q<<1|Q<<11)&139536|(Q<<5|Q<<15)&558144;return(we>>16|we>>8|we)&255}for(var xe=typeof Uint8Array<"u",Z=xe?new Uint8Array(256):[],Me=0;Me<256;++Me)Z[Me]=Ee(Me);function Ve(Q,we){var ce=Z[Q&255];return we<=8?ce>>>8-we:(ce=ce<<8|Z[Q>>8&255],we<=16?ce>>>16-we:(ce=ce<<8|Z[Q>>16&255],ce>>>24-we))}function it(Q,we){var ce=we&7,fe=we>>>3;return(Q[fe]|(ce<=6?0:Q[fe+1]<<8))>>>ce&3}function dt(Q,we){var ce=we&7,fe=we>>>3;return(Q[fe]|(ce<=5?0:Q[fe+1]<<8))>>>ce&7}function ae(Q,we){var ce=we&7,fe=we>>>3;return(Q[fe]|(ce<=4?0:Q[fe+1]<<8))>>>ce&15}function Pe(Q,we){var ce=we&7,fe=we>>>3;return(Q[fe]|(ce<=3?0:Q[fe+1]<<8))>>>ce&31}function et(Q,we){var ce=we&7,fe=we>>>3;return(Q[fe]|(ce<=1?0:Q[fe+1]<<8))>>>ce&127}function yt(Q,we,ce){var fe=we&7,ve=we>>>3,be=(1<<ce)-1,qe=Q[ve]>>>fe;return ce<8-fe||(qe|=Q[ve+1]<<8-fe,ce<16-fe)||(qe|=Q[ve+2]<<16-fe,ce<24-fe)||(qe|=Q[ve+3]<<24-fe),qe&be}function Fe(Q,we,ce){var fe=we&7,ve=we>>>3;return fe<=5?Q[ve]|=(ce&7)<<fe:(Q[ve]|=ce<<fe&255,Q[ve+1]=(ce&7)>>8-fe),we+3}function gt(Q,we,ce){var fe=we&7,ve=we>>>3;return ce=(ce&1)<<fe,Q[ve]|=ce,we+1}function xt(Q,we,ce){var fe=we&7,ve=we>>>3;return ce<<=fe,Q[ve]|=ce&255,ce>>>=8,Q[ve+1]=ce,we+8}function Rt(Q,we,ce){var fe=we&7,ve=we>>>3;return ce<<=fe,Q[ve]|=ce&255,ce>>>=8,Q[ve+1]=ce&255,Q[ve+2]=ce>>>8,we+16}function Nt(Q,we){var ce=Q.length,fe=2*ce>we?2*ce:we+5,ve=0;if(ce>=we)return Q;if(Gr){var be=Mb(fe);if(Q.copy)Q.copy(be);else for(;ve<Q.length;++ve)be[ve]=Q[ve];return be}else if(xe){var qe=new Uint8Array(fe);if(qe.set)qe.set(Q);else for(;ve<ce;++ve)qe[ve]=Q[ve];return qe}return Q.length=fe,Q}function je(Q){for(var we=new Array(Q),ce=0;ce<Q;++ce)we[ce]=0;return we}function jt(Q,we,ce){var fe=1,ve=0,be=0,qe=0,nt=0,$e=Q.length,Ke=xe?new Uint16Array(32):je(32);for(be=0;be<32;++be)Ke[be]=0;for(be=$e;be<ce;++be)Q[be]=0;$e=Q.length;var Ye=xe?new Uint16Array($e):je($e);for(be=0;be<$e;++be)Ke[ve=Q[be]]++,fe<ve&&(fe=ve),Ye[be]=0;for(Ke[0]=0,be=1;be<=fe;++be)Ke[be+16]=nt=nt+Ke[be-1]<<1;for(be=0;be<$e;++be)nt=Q[be],nt!=0&&(Ye[be]=Ke[nt+16]++);var St=0;for(be=0;be<$e;++be)if(St=Q[be],St!=0)for(nt=Ve(Ye[be],fe)>>fe-St,qe=(1<<fe+4-St)-1;qe>=0;--qe)we[nt|qe<<St]=St&15|be<<4;return fe}var pe=xe?new Uint16Array(512):je(512),Ze=xe?new Uint16Array(32):je(32);if(!xe){for(var pt=0;pt<512;++pt)pe[pt]=0;for(pt=0;pt<32;++pt)Ze[pt]=0}(function(){for(var Q=[],we=0;we<32;we++)Q.push(5);jt(Q,Ze,32);var ce=[];for(we=0;we<=143;we++)ce.push(8);for(;we<=255;we++)ce.push(9);for(;we<=279;we++)ce.push(7);for(;we<=287;we++)ce.push(8);jt(ce,pe,288)})();var tt=function(){for(var we=xe?new Uint8Array(32768):[],ce=0,fe=0;ce<ge.length-1;++ce)for(;fe<ge[ce+1];++fe)we[fe]=ce;for(;fe<32768;++fe)we[fe]=29;var ve=xe?new Uint8Array(259):[];for(ce=0,fe=0;ce<ne.length-1;++ce)for(;fe<ne[ce+1];++fe)ve[fe]=ce;function be(nt,$e){for(var Ke=0;Ke<nt.length;){var Ye=Math.min(65535,nt.length-Ke),St=Ke+Ye==nt.length;for($e.write_shift(1,+St),$e.write_shift(2,Ye),$e.write_shift(2,~Ye&65535);Ye-- >0;)$e[$e.l++]=nt[Ke++]}return $e.l}function qe(nt,$e){for(var Ke=0,Ye=0,St=xe?new Uint16Array(32768):[];Ye<nt.length;){var Dt=Math.min(65535,nt.length-Ye);if(Dt<10){for(Ke=Fe($e,Ke,+(Ye+Dt==nt.length)),Ke&7&&(Ke+=8-(Ke&7)),$e.l=Ke/8|0,$e.write_shift(2,Dt),$e.write_shift(2,~Dt&65535);Dt-- >0;)$e[$e.l++]=nt[Ye++];Ke=$e.l*8;continue}Ke=Fe($e,Ke,+(Ye+Dt==nt.length)+2);for(var Lt=0;Dt-- >0;){var kt=nt[Ye];Lt=(Lt<<5^kt)&32767;var It=-1,hr=0;if((It=St[Lt])&&(It|=Ye&-32768,It>Ye&&(It-=32768),It<Ye))for(;nt[It+hr]==nt[Ye+hr]&&hr<250;)++hr;if(hr>2){kt=ve[hr],kt<=22?Ke=xt($e,Ke,Z[kt+1]>>1)-1:(xt($e,Ke,3),Ke+=5,xt($e,Ke,Z[kt-23]>>5),Ke+=3);var Ir=kt<8?0:kt-4>>2;Ir>0&&(Rt($e,Ke,hr-ne[kt]),Ke+=Ir),kt=we[Ye-It],Ke=xt($e,Ke,Z[kt]>>3),Ke-=3;var Er=kt<4?0:kt-2>>1;Er>0&&(Rt($e,Ke,Ye-It-ge[kt]),Ke+=Er);for(var hn=0;hn<hr;++hn)St[Lt]=Ye&32767,Lt=(Lt<<5^nt[Ye])&32767,++Ye;Dt-=hr-1}else kt<=143?kt=kt+48:Ke=gt($e,Ke,1),Ke=xt($e,Ke,Z[kt]),St[Lt]=Ye&32767,++Ye}Ke=xt($e,Ke,0)-1}return $e.l=(Ke+7)/8|0,$e.l}return function($e,Ke){return $e.length<8?be($e,Ke):qe($e,Ke)}}();function Ct(Q){var we=st(50+Math.floor(Q.length*1.1)),ce=tt(Q,we);return we.slice(0,ce)}var bt=xe?new Uint16Array(32768):je(32768),wr=xe?new Uint16Array(32768):je(32768),Mt=xe?new Uint16Array(128):je(128),Zt=1,sr=1;function Tt(Q,we){var ce=Pe(Q,we)+257;we+=5;var fe=Pe(Q,we)+1;we+=5;var ve=ae(Q,we)+4;we+=4;for(var be=0,qe=xe?new Uint8Array(19):je(19),nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$e=1,Ke=xe?new Uint8Array(8):je(8),Ye=xe?new Uint8Array(8):je(8),St=qe.length,Dt=0;Dt<ve;++Dt)qe[I[Dt]]=be=dt(Q,we),$e<be&&($e=be),Ke[be]++,we+=3;var Lt=0;for(Ke[0]=0,Dt=1;Dt<=$e;++Dt)Ye[Dt]=Lt=Lt+Ke[Dt-1]<<1;for(Dt=0;Dt<St;++Dt)(Lt=qe[Dt])!=0&&(nt[Dt]=Ye[Lt]++);var kt=0;for(Dt=0;Dt<St;++Dt)if(kt=qe[Dt],kt!=0){Lt=Z[nt[Dt]]>>8-kt;for(var It=(1<<7-kt)-1;It>=0;--It)Mt[Lt|It<<kt]=kt&7|Dt<<3}var hr=[];for($e=1;hr.length<ce+fe;)switch(Lt=Mt[et(Q,we)],we+=Lt&7,Lt>>>=3){case 16:for(be=3+it(Q,we),we+=2,Lt=hr[hr.length-1];be-- >0;)hr.push(Lt);break;case 17:for(be=3+dt(Q,we),we+=3;be-- >0;)hr.push(0);break;case 18:for(be=11+et(Q,we),we+=7;be-- >0;)hr.push(0);break;default:hr.push(Lt),$e<Lt&&($e=Lt);break}var Ir=hr.slice(0,ce),Er=hr.slice(ce);for(Dt=ce;Dt<286;++Dt)Ir[Dt]=0;for(Dt=fe;Dt<30;++Dt)Er[Dt]=0;return Zt=jt(Ir,bt,286),sr=jt(Er,wr,30),we}function Vt(Q,we){if(Q[0]==3&&!(Q[1]&3))return[pu(we),2];for(var ce=0,fe=0,ve=Mb(we||1<<18),be=0,qe=ve.length>>>0,nt=0,$e=0;!(fe&1);){if(fe=dt(Q,ce),ce+=3,fe>>>1)fe>>1==1?(nt=9,$e=5):(ce=Tt(Q,ce),nt=Zt,$e=sr);else{ce&7&&(ce+=8-(ce&7));var Ke=Q[ce>>>3]|Q[(ce>>>3)+1]<<8;if(ce+=32,Ke>0)for(!we&&qe<be+Ke&&(ve=Nt(ve,be+Ke),qe=ve.length);Ke-- >0;)ve[be++]=Q[ce>>>3],ce+=8;continue}for(;;){!we&&qe<be+32767&&(ve=Nt(ve,be+32767),qe=ve.length);var Ye=yt(Q,ce,nt),St=fe>>>1==1?pe[Ye]:bt[Ye];if(ce+=St&15,St>>>=4,!(St>>>8&255))ve[be++]=St;else{if(St==256)break;St-=257;var Dt=St<8?0:St-4>>2;Dt>5&&(Dt=0);var Lt=be+ne[St];Dt>0&&(Lt+=yt(Q,ce,Dt),ce+=Dt),Ye=yt(Q,ce,$e),St=fe>>>1==1?Ze[Ye]:wr[Ye],ce+=St&15,St>>>=4;var kt=St<4?0:St-2>>1,It=ge[St];for(kt>0&&(It+=yt(Q,ce,kt),ce+=kt),!we&&qe<Lt&&(ve=Nt(ve,Lt+100),qe=ve.length);be<Lt;)ve[be]=ve[be-It],++be}}}return we?[ve,ce+7>>>3]:[ve.slice(0,be),ce+7>>>3]}function ir(Q,we){var ce=Q.slice(Q.l||0),fe=Vt(ce,we);return Q.l+=fe[1],fe[0]}function Xt(Q,we){if(Q)typeof console<"u"&&console.error(we);else throw new Error(we)}function at(Q,we){var ce=Q;Js(ce,0);var fe=[],ve=[],be={FileIndex:fe,FullPaths:ve};L(be,{root:we.root});for(var qe=ce.length-4;(ce[qe]!=80||ce[qe+1]!=75||ce[qe+2]!=5||ce[qe+3]!=6)&&qe>=0;)--qe;ce.l=qe+4,ce.l+=4;var nt=ce.read_shift(2);ce.l+=6;var $e=ce.read_shift(4);for(ce.l=$e,qe=0;qe<nt;++qe){ce.l+=20;var Ke=ce.read_shift(4),Ye=ce.read_shift(4),St=ce.read_shift(2),Dt=ce.read_shift(2),Lt=ce.read_shift(2);ce.l+=8;var kt=ce.read_shift(4),It=l(ce.slice(ce.l+St,ce.l+St+Dt));ce.l+=St+Dt+Lt;var hr=ce.l;ce.l=kt+4,Sr(ce,Ke,Ye,be,It),ce.l=hr}return be}function Sr(Q,we,ce,fe,ve){Q.l+=2;var be=Q.read_shift(2),qe=Q.read_shift(2),nt=o(Q);if(be&8257)throw new Error("Unsupported ZIP encryption");for(var $e=Q.read_shift(4),Ke=Q.read_shift(4),Ye=Q.read_shift(4),St=Q.read_shift(2),Dt=Q.read_shift(2),Lt="",kt=0;kt<St;++kt)Lt+=String.fromCharCode(Q[Q.l++]);if(Dt){var It=l(Q.slice(Q.l,Q.l+Dt));(It[21589]||{}).mt&&(nt=It[21589].mt),((ve||{})[21589]||{}).mt&&(nt=ve[21589].mt)}Q.l+=Dt;var hr=Q.slice(Q.l,Q.l+Ke);switch(qe){case 8:hr=H(Q,Ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+qe)}var Ir=!1;be&8&&($e=Q.read_shift(4),$e==134695760&&($e=Q.read_shift(4),Ir=!0),Ke=Q.read_shift(4),Ye=Q.read_shift(4)),Ke!=we&&Xt(Ir,"Bad compressed size: "+we+" != "+Ke),Ye!=ce&&Xt(Ir,"Bad uncompressed size: "+ce+" != "+Ye),mr(fe,Lt,hr,{unsafe:!0,mt:nt})}function pr(Q,we){var ce=we||{},fe=[],ve=[],be=st(1),qe=ce.compression?8:0,nt=0,$e=0,Ke=0,Ye=0,St=0,Dt=Q.FullPaths[0],Lt=Dt,kt=Q.FileIndex[0],It=[],hr=0;for($e=1;$e<Q.FullPaths.length;++$e)if(Lt=Q.FullPaths[$e].slice(Dt.length),kt=Q.FileIndex[$e],!(!kt.size||!kt.content||Lt=="Sh33tJ5")){var Ir=Ye,Er=st(Lt.length);for(Ke=0;Ke<Lt.length;++Ke)Er.write_shift(1,Lt.charCodeAt(Ke)&127);Er=Er.slice(0,Er.l),It[St]=qR.buf(kt.content,0);var hn=kt.content;qe==8&&(hn=D(hn)),be=st(30),be.write_shift(4,67324752),be.write_shift(2,20),be.write_shift(2,nt),be.write_shift(2,qe),kt.mt?s(be,kt.mt):be.write_shift(4,0),be.write_shift(-4,It[St]),be.write_shift(4,hn.length),be.write_shift(4,kt.content.length),be.write_shift(2,Er.length),be.write_shift(2,0),Ye+=be.length,fe.push(be),Ye+=Er.length,fe.push(Er),Ye+=hn.length,fe.push(hn),be=st(46),be.write_shift(4,33639248),be.write_shift(2,0),be.write_shift(2,20),be.write_shift(2,nt),be.write_shift(2,qe),be.write_shift(4,0),be.write_shift(-4,It[St]),be.write_shift(4,hn.length),be.write_shift(4,kt.content.length),be.write_shift(2,Er.length),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(4,0),be.write_shift(4,Ir),hr+=be.l,ve.push(be),hr+=Er.length,ve.push(Er),++St}return be=st(22),be.write_shift(4,101010256),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,St),be.write_shift(2,St),be.write_shift(4,hr),be.write_shift(4,Ye),be.write_shift(2,0),Da([Da(fe),Da(ve),be])}var ar={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ar(Q,we){if(Q.ctype)return Q.ctype;var ce=Q.name||"",fe=ce.match(/\.([^\.]+)$/);return fe&&ar[fe[1]]||we&&(fe=(ce=we).match(/[\.\\]([^\.\\])+$/),fe&&ar[fe[1]])?ar[fe[1]]:"application/octet-stream"}function qn(Q){for(var we=p0(Q),ce=[],fe=0;fe<we.length;fe+=76)ce.push(we.slice(fe,fe+76));return ce.join(`\r
`)+`\r
`}function gr(Q){var we=Q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ke){var Ye=Ke.charCodeAt(0).toString(16).toUpperCase();return"="+(Ye.length==1?"0"+Ye:Ye)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ce=[],fe=we.split(`\r
`),ve=0;ve<fe.length;++ve){var be=fe[ve];if(be.length==0){ce.push("");continue}for(var qe=0;qe<be.length;){var nt=76,$e=be.slice(qe,qe+nt);$e.charAt(nt-1)=="="?nt--:$e.charAt(nt-2)=="="?nt-=2:$e.charAt(nt-3)=="="&&(nt-=3),$e=be.slice(qe,qe+nt),qe+=nt,qe<be.length&&($e+="="),ce.push($e)}}return ce.join(`\r
`)}function Cn(Q){for(var we=[],ce=0;ce<Q.length;++ce){for(var fe=Q[ce];ce<=Q.length&&fe.charAt(fe.length-1)=="=";)fe=fe.slice(0,fe.length-1)+Q[++ce];we.push(fe)}for(var ve=0;ve<we.length;++ve)we[ve]=we[ve].replace(/[=][0-9A-Fa-f]{2}/g,function(be){return String.fromCharCode(parseInt(be.slice(1),16))});return Xi(we.join(`\r
`))}function un(Q,we,ce){for(var fe="",ve="",be="",qe,nt=0;nt<10;++nt){var $e=we[nt];if(!$e||$e.match(/^\s*$/))break;var Ke=$e.match(/^(.*?):\s*([^\s].*)$/);if(Ke)switch(Ke[1].toLowerCase()){case"content-location":fe=Ke[2].trim();break;case"content-type":be=Ke[2].trim();break;case"content-transfer-encoding":ve=Ke[2].trim();break}}switch(++nt,ve.toLowerCase()){case"base64":qe=Xi(_l(we.slice(nt).join("")));break;case"quoted-printable":qe=Cn(we.slice(nt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ve)}var Ye=mr(Q,fe.slice(ce.length),qe,{unsafe:!0});be&&(Ye.ctype=be)}function mt(Q,we){if(he(Q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ce=we&&we.root||"",fe=(Gr&&Buffer.isBuffer(Q)?Q.toString("binary"):he(Q)).split(`\r
`),ve=0,be="";for(ve=0;ve<fe.length;++ve)if(be=fe[ve],!!/^Content-Location:/i.test(be)&&(be=be.slice(be.indexOf("file")),ce||(ce=be.slice(0,be.lastIndexOf("/")+1)),be.slice(0,ce.length)!=ce))for(;ce.length>0&&(ce=ce.slice(0,ce.length-1),ce=ce.slice(0,ce.lastIndexOf("/")+1),be.slice(0,ce.length)!=ce););var qe=(fe[1]||"").match(/boundary="(.*?)"/);if(!qe)throw new Error("MAD cannot find boundary");var nt="--"+(qe[1]||""),$e=[],Ke=[],Ye={FileIndex:$e,FullPaths:Ke};L(Ye);var St,Dt=0;for(ve=0;ve<fe.length;++ve){var Lt=fe[ve];Lt!==nt&&Lt!==nt+"--"||(Dt++&&un(Ye,fe.slice(St,ve),ce),St=ve)}return Ye}function yr(Q,we){var ce=we||{},fe=ce.boundary||"SheetJS";fe="------="+fe;for(var ve=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+fe.slice(2)+'"',"","",""],be=Q.FullPaths[0],qe=be,nt=Q.FileIndex[0],$e=1;$e<Q.FullPaths.length;++$e)if(qe=Q.FullPaths[$e].slice(be.length),nt=Q.FileIndex[$e],!(!nt.size||!nt.content||qe=="Sh33tJ5")){qe=qe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(hr){return"_x"+hr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(hr){return"_u"+hr.charCodeAt(0).toString(16)+"_"});for(var Ke=nt.content,Ye=Gr&&Buffer.isBuffer(Ke)?Ke.toString("binary"):he(Ke),St=0,Dt=Math.min(1024,Ye.length),Lt=0,kt=0;kt<=Dt;++kt)(Lt=Ye.charCodeAt(kt))>=32&&Lt<128&&++St;var It=St>=Dt*4/5;ve.push(fe),ve.push("Content-Location: "+(ce.root||"file:///C:/SheetJS/")+qe),ve.push("Content-Transfer-Encoding: "+(It?"quoted-printable":"base64")),ve.push("Content-Type: "+Ar(nt,qe)),ve.push(""),ve.push(It?gr(Ye):qn(Ye))}return ve.push(fe+`--\r
`),ve.join(`\r
`)}function Hr(Q){var we={};return L(we,Q),we}function mr(Q,we,ce,fe){var ve=fe&&fe.unsafe;ve||L(Q);var be=!ve&&cn.find(Q,we);if(!be){var qe=Q.FullPaths[0];we.slice(0,qe.length)==qe?qe=we:(qe.slice(-1)!="/"&&(qe+="/"),qe=(qe+we).replace("//","/")),be={name:a(we),type:2},Q.FileIndex.push(be),Q.FullPaths.push(qe),ve||cn.utils.cfb_gc(Q)}return be.content=ce,be.size=ce?ce.length:0,fe&&(fe.CLSID&&(be.clsid=fe.CLSID),fe.mt&&(be.mt=fe.mt),fe.ct&&(be.ct=fe.ct)),be}function Tr(Q,we){L(Q);var ce=cn.find(Q,we);if(ce){for(var fe=0;fe<Q.FileIndex.length;++fe)if(Q.FileIndex[fe]==ce)return Q.FileIndex.splice(fe,1),Q.FullPaths.splice(fe,1),!0}return!1}function on(Q,we,ce){L(Q);var fe=cn.find(Q,we);if(fe){for(var ve=0;ve<Q.FileIndex.length;++ve)if(Q.FileIndex[ve]==fe)return Q.FileIndex[ve].name=a(ce),Q.FullPaths[ve]=ce,!0}return!1}function yn(Q){R(Q,!0)}return t.find=P,t.read=se,t.parse=f,t.write=Se,t.writeFile=M,t.utils={cfb_new:Hr,cfb_add:mr,cfb_del:Tr,cfb_mov:on,cfb_gc:yn,ReadShift:Ud,CheckField:Tj,prep_blob:Js,bconcat:Da,use_zlib:A,_deflateRaw:Ct,_inflateRaw:ir,consts:W},t}();function VR(e){return typeof e=="string"?Gm(e):Array.isArray(e)?vR(e):e}function R0(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Gm(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?g0(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([VR(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=O0(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function za(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Vb(e,t){for(var r=[],n=za(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function jv(e){for(var t=[],r=za(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Xm(e){for(var t=[],r=za(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function GR(e){for(var t=[],r=za(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var nm=new Date(1899,11,30,0,0,0);function Ls(e,t){var r=e.getTime(),n=nm.getTime()+(e.getTimezoneOffset()-nm.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var hj=new Date,KR=nm.getTime()+(hj.getTimezoneOffset()-nm.getTimezoneOffset())*6e4,Gb=hj.getTimezoneOffset();function pj(e){var t=new Date;return t.setTime(e*24*60*60*1e3+KR),t.getTimezoneOffset()!==Gb&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Gb)*6e4),t}var Kb=new Date("2017-02-19T19:06:09.000Z"),mj=isNaN(Kb.getFullYear())?new Date("2/19/17"):Kb,YR=mj.getFullYear()==2017;function gs(e,t){var r=new Date(e);if(YR)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(mj.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Jm(e,t){if(Gr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Fs(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Fs(e[r]));return t}function $n(e,t){for(var r="";r.length<t;)r+=e;return r}function pl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var XR=["january","february","march","april","may","june","july","august","september","october","november","december"];function m0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&XR.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Pr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Gr?n=Al(r):n=yR(r),cn.utils.cfb_add(e,t,n)}cn.utils.cfb_add(e,t,r)}else e.file(t,r)}function Av(){return cn.utils.cfb_new()}var sa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,JR={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Ev=jv(JR),Cv=/[&<>'"]/g,QR=/[\u0000-\u0008\u000b-\u001f]/g;function rn(e){var t=e+"";return t.replace(Cv,function(r){return Ev[r]}).replace(QR,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Yb(e){return rn(e).replace(/ /g,"_x0020_")}var gj=/[\u0000-\u001f]/g;function ZR(e){var t=e+"";return t.replace(Cv,function(r){return Ev[r]}).replace(/\n/g,"<br/>").replace(gj,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function eD(e){var t=e+"";return t.replace(Cv,function(r){return Ev[r]}).replace(gj,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function tD(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function rD(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Cg(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function Xb(e){var t=pu(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function Jb(e){return Al(e,"binary").toString("utf8")}var Fh="foo bar baz",Bd=Gr&&(Jb(Fh)==Cg(Fh)&&Jb||Xb(Fh)==Cg(Fh)&&Xb)||Cg,g0=Gr?function(e){return Al(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},nD=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),xj=/(^\s|\s$|\n)/;function Ia(e,t){return"<"+e+(t.match(xj)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function x0(e){return za(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function zt(e,t,r){return"<"+e+(r!=null?x0(r):"")+(t!=null?(t.match(xj)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function f2(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function aD(e,t){switch(typeof e){case"string":var r=zt("vt:lpwstr",rn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return zt((e|0)==e?"vt:i4":"vt:r8",rn(String(e)));case"boolean":return zt("vt:bool",e?"true":"false")}if(e instanceof Date)return zt("vt:filetime",f2(e));throw new Error("Unable to serialize "+e)}var _a={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Vf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Qs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function sD(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function iD(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var Qb=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},Zb=Gr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Al(t)})):Qb(e)}:Qb,e4=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(jd(e,a)));return n.join("").replace(Md,"")},kv=Gr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Md,""):e4(e,t,r)}:e4,t4=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},vj=Gr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):t4(e,t,r)}:t4,r4=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Wu(e,a)));return n.join("")},D0=Gr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):r4(t,r,n)}:r4,yj=function(e,t){var r=Zs(e,t);return r>0?D0(e,t+4,t+4+r-1):""},wj=yj,bj=function(e,t){var r=Zs(e,t);return r>0?D0(e,t+4,t+4+r-1):""},_j=bj,Nj=function(e,t){var r=2*Zs(e,t);return r>0?D0(e,t+4,t+4+r-1):""},Sj=Nj,jj=function(t,r){var n=Zs(t,r);return n>0?kv(t,r+4,r+4+n):""},Aj=jj,Ej=function(e,t){var r=Zs(e,t);return r>0?D0(e,t+4,t+4+r):""},Cj=Ej,kj=function(e,t){return sD(e,t)},am=kj,Tv=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Gr&&(wj=function(t,r){if(!Buffer.isBuffer(t))return yj(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},_j=function(t,r){if(!Buffer.isBuffer(t))return bj(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Sj=function(t,r){if(!Buffer.isBuffer(t))return Nj(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Aj=function(t,r){if(!Buffer.isBuffer(t))return jj(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Cj=function(t,r){if(!Buffer.isBuffer(t))return Ej(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},am=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):kj(t,r)},Tv=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Wu=function(e,t){return e[t]},jd=function(e,t){return e[t+1]*256+e[t]},oD=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Zs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Kc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},lD=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ud(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Gr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(jd(this,u)),u+=2;e*=2;break;case"utf8":r=D0(this,this.l,this.l+e);break;case"utf16le":e*=2,r=kv(this,this.l,this.l+e);break;case"wstr":return Ud.call(this,e,"dbcs");case"lpstr-ansi":r=wj(this,this.l),e=4+Zs(this,this.l);break;case"lpstr-cp":r=_j(this,this.l),e=4+Zs(this,this.l);break;case"lpwstr":r=Sj(this,this.l),e=4+2*Zs(this,this.l);break;case"lpp4":e=4+Zs(this,this.l),r=Aj(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Zs(this,this.l),r=Cj(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Wu(this,this.l+e++))!==0;)s.push(Th(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=jd(this,this.l+e))!==0;)s.push(Th(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Wu(this,u),this.l=u+1,l=Ud.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Th(jd(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Wu(this,u),this.l=u+1,l=Ud.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Th(Wu(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=Wu(this,this.l),this.l++,n;case 2:return n=(t==="i"?oD:jd)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Kc:lD)(this,this.l),this.l+=4,n):(a=Zs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=am(this,this.l):a=am([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=vj(this,this.l,e);break}}return this.l+=e,r}var cD=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},uD=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},fD=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function dD(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)fD(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,cD(this,t,this.l);break;case 8:if(n=8,r==="f"){iD(this,t,this.l);break}case 16:break;case-4:n=4,uD(this,t,this.l);break}return this.l+=n,this}function Tj(e,t){var r=vj(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Js(e,t){e.l=t,e.read_shift=Ud,e.chk=Tj,e.write_shift=dD}function Po(e,t){e.l+=t}function st(e){var t=pu(e);return Js(t,0),t}function Ps(){var e=[],t=Gr?256:2048,r=function(u){var f=st(u);return Js(f,0),f},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Da(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function wt(e,t,r,n){var a=+t,s;if(!isNaN(a)){n||(n=sz[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var o=e.next(s);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&Tv(r)&&e.push(r)}}function zd(e,t,r){var n=Fs(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function n4(e,t,r){var n=Fs(e);return n.s=zd(n.s,t.s,r),n.e=zd(n.e,t.s,r),n}function Hd(e,t){if(e.cRel&&e.c<0)for(e=Fs(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Fs(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=an(e);return!e.cRel&&e.cRel!=null&&(r=mD(r)),!e.rRel&&e.rRel!=null&&(r=hD(r)),r}function kg(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ts(e.s.c)+":"+(e.e.cRel?"":"$")+ts(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ba(e.s.r)+":"+(e.e.rRel?"":"$")+Ba(e.e.r):Hd(e.s,t.biff)+":"+Hd(e.e,t.biff)}function Pv(e){return parseInt(pD(e),10)-1}function Ba(e){return""+(e+1)}function hD(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function pD(e){return e.replace(/\$(\d+)$/,"$1")}function Lv(e){for(var t=gD(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ts(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function mD(e){return e.replace(/^([A-Z])/,"$$$1")}function gD(e){return e.replace(/^\$([A-Z])/,"$1")}function xD(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Na(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function an(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function si(e){var t=e.indexOf(":");return t==-1?{s:Na(e),e:Na(e)}:{s:Na(e.slice(0,t)),e:Na(e.slice(t+1))}}function aa(e,t){return typeof t>"u"||typeof t=="number"?aa(e.s,e.e):(typeof e!="string"&&(e=an(e)),typeof t!="string"&&(t=an(t)),e==t?e:e+":"+t)}function An(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function a4(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=_c(e.z,r?Ls(t):t)}catch{}try{return e.w=_c((e.XF||{}).numFmtId||(r?14:0),r?Ls(t):t)}catch{return""+t}}function Nl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?I0[e.v]||e.v:t==null?a4(e,e.v):a4(e,t))}function bu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Pj(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Na(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=An(s["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[p].length;++g)if(!(typeof t[p][g]>"u")){var d={v:t[p][g]},y=o+p,x=l+g;if(u.s.r>y&&(u.s.r=y),u.s.c>x&&(u.s.c=x),u.e.r<y&&(u.e.r=y),u.e.c<x&&(u.e.c=x),t[p][g]&&typeof t[p][g]=="object"&&!Array.isArray(t[p][g])&&!(t[p][g]instanceof Date))d=t[p][g];else if(Array.isArray(d.v)&&(d.f=t[p][g][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||Wn[14],n.cellDates?(d.t="d",d.w=_c(d.z,Ls(d.v))):(d.t="n",d.v=Ls(d.v),d.w=_c(d.z,d.v))):d.t="s";if(a)s[y]||(s[y]=[]),s[y][x]&&s[y][x].z&&(d.z=s[y][x].z),s[y][x]=d;else{var _=an({c:x,r:y});s[_]&&s[_].z&&(d.z=s[_].z),s[_]=d}}}return u.s.c<1e7&&(s["!ref"]=aa(u)),s}function Gf(e,t){return Pj(null,e,t)}function vD(e){return e.read_shift(4,"i")}function to(e,t){return t||(t=st(4)),t.write_shift(4,e),t}function rs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Sa(e,t){var r=!1;return t==null&&(r=!0,t=st(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function yD(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function wD(e,t){return t||(t=st(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Fv(e,t){var r=e.l,n=e.read_shift(1),a=rs(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(yD(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function bD(e,t){var r=!1;return t==null&&(r=!0,t=st(15+4*e.t.length)),t.write_shift(1,0),Sa(e.t,t),r?t.slice(0,t.l):t}var _D=Fv;function ND(e,t){var r=!1;return t==null&&(r=!0,t=st(23+4*e.t.length)),t.write_shift(1,1),Sa(e.t,t),t.write_shift(4,1),wD({},t),r?t.slice(0,t.l):t}function Pi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function _u(e,t){return t==null&&(t=st(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Nu(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Su(e,t){return t==null&&(t=st(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var SD=rs,Lj=Sa;function Ov(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function sm(e,t){var r=!1;return t==null&&(r=!0,t=st(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var jD=rs,d2=Ov,Rv=sm;function Fj(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?am([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Kc(t,0)>>2;return r?a/100:a}function Oj(e,t){t==null&&(t=st(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Rj(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function AD(e,t){return t||(t=st(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var ju=Rj,Kf=AD;function Yf(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function mu(e,t){return(t||st(8)).write_shift(8,e,"f")}function ED(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=DD[a];u&&(t.rgb=m4(u));break;case 2:t.rgb=m4([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function im(e,t){if(t||(t=st(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function CD(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function kD(e,t){t||(t=st(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var Dj=2,Ys=3,Oh=11,om=19,Rh=64,TD=65,PD=71,LD=4108,FD=4126,Ra=80,s4={1:{n:"CodePage",t:Dj},2:{n:"Category",t:Ra},3:{n:"PresentationFormat",t:Ra},4:{n:"ByteCount",t:Ys},5:{n:"LineCount",t:Ys},6:{n:"ParagraphCount",t:Ys},7:{n:"SlideCount",t:Ys},8:{n:"NoteCount",t:Ys},9:{n:"HiddenCount",t:Ys},10:{n:"MultimediaClipCount",t:Ys},11:{n:"ScaleCrop",t:Oh},12:{n:"HeadingPairs",t:LD},13:{n:"TitlesOfParts",t:FD},14:{n:"Manager",t:Ra},15:{n:"Company",t:Ra},16:{n:"LinksUpToDate",t:Oh},17:{n:"CharacterCount",t:Ys},19:{n:"SharedDoc",t:Oh},22:{n:"HyperlinksChanged",t:Oh},23:{n:"AppVersion",t:Ys,p:"version"},24:{n:"DigSig",t:TD},26:{n:"ContentType",t:Ra},27:{n:"ContentStatus",t:Ra},28:{n:"Language",t:Ra},29:{n:"Version",t:Ra},255:{},2147483648:{n:"Locale",t:om},2147483651:{n:"Behavior",t:om},1919054434:{}},i4={1:{n:"CodePage",t:Dj},2:{n:"Title",t:Ra},3:{n:"Subject",t:Ra},4:{n:"Author",t:Ra},5:{n:"Keywords",t:Ra},6:{n:"Comments",t:Ra},7:{n:"Template",t:Ra},8:{n:"LastAuthor",t:Ra},9:{n:"RevNumber",t:Ra},10:{n:"EditTime",t:Rh},11:{n:"LastPrinted",t:Rh},12:{n:"CreatedDate",t:Rh},13:{n:"ModifiedDate",t:Rh},14:{n:"PageCount",t:Ys},15:{n:"WordCount",t:Ys},16:{n:"CharCount",t:Ys},17:{n:"Thumbnail",t:PD},18:{n:"Application",t:Ra},19:{n:"DocSecurity",t:Ys},255:{},2147483648:{n:"Locale",t:om},2147483651:{n:"Behavior",t:om},1919054434:{}};function OD(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var RD=OD([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),DD=Fs(RD),I0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ID={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Dh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Ij(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Mj(e,t){var r=GR(ID),n=[],a;n[n.length]=sa,n[n.length]=zt("Types",null,{xmlns:_a.CT,"xmlns:xsd":_a.xsd,"xmlns:xsi":_a.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return zt("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=zt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Dh[c][t.bookType]||Dh[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=zt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Dh[c][t.bookType]||Dh[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=zt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var qr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Bj(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Sf(e){var t=[sa,zt("Relationships",null,{xmlns:_a.RELS})];return za(e["!id"]).forEach(function(r){t[t.length]=zt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function en(e,t,r,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[qr.HLINK,qr.XPATH,qr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function MD(e){var t=[sa];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function o4(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function BD(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function UD(e){var t=[sa];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(o4(e[r][0],e[r][1])),t.push(BD("",e[r][0]));return t.push(o4("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Uj(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Qp.version+"</meta:generator></office:meta></office:document-meta>"}var au=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Tg(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=rn(t),n[n.length]=r?zt(e,t,r):Ia(e,t))}function zj(e,t){var r=t||{},n=[sa,zt("cp:coreProperties",null,{"xmlns:cp":_a.CORE_PROPS,"xmlns:dc":_a.dc,"xmlns:dcterms":_a.dcterms,"xmlns:dcmitype":_a.dcmitype,"xmlns:xsi":_a.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&Tg("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:f2(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&Tg("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:f2(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=au.length;++s){var o=au[s],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&Tg(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var jf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Hj=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function $j(e){var t=[],r=zt;return e||(e={}),e.Application="SheetJS",t[t.length]=sa,t[t.length]=zt("Properties",null,{xmlns:_a.EXT_PROPS,"xmlns:vt":_a.vt}),jf.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=rn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+rn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Wj(e){var t=[sa,zt("Properties",null,{xmlns:_a.CUST_PROPS,"xmlns:vt":_a.vt})];if(!e)return t.join("");var r=1;return za(e).forEach(function(a){++r,t[t.length]=zt("property",aD(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:rn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var l4={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function zD(e,t){var r=[];return za(l4).map(function(n){for(var a=0;a<au.length;++a)if(au[a][1]==n)return au[a];for(a=0;a<jf.length;++a)if(jf[a][1]==n)return jf[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ia(l4[n[1]]||n[1],a))}}),zt("DocumentProperties",r.join(""),{xmlns:Qs.o})}function HD(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&za(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<au.length;++o)if(s==au[o][1])return;for(o=0;o<jf.length;++o)if(s==jf[o][1])return;for(o=0;o<r.length;++o)if(s==r[o])return;var l=e[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(zt(Yb(s),l,{"dt:dt":c}))}}),t&&za(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(zt(Yb(s),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Qs.o+'">'+a.join("")+"</"+n+">"}function $D(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var o=st(8);return o.write_shift(4,n),o.write_shift(4,a),o}function c4(e,t){var r=st(4),n=st(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=st(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=$D(t);break;case 31:case 80:for(n=st(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Da([r,n])}var qj=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function WD(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function u4(e,t,r){var n=st(8),a=[],s=[],o=8,l=0,c=st(8),u=st(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),a.push(u),o+=8+c.length,!t){u=st(8),u.write_shift(4,0),a.unshift(u);var f=[st(4)];for(f[0].write_shift(4,e.length),l=0;l<e.length;++l){var p=e[l][0];for(c=st(8+2*(p.length+1)+(p.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,p.length+1),c.write_shift(0,p,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=Da(f),s.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(qj.indexOf(e[l][0])>-1||Hj.indexOf(e[l][0])>-1)&&e[l][1]!=null){var g=e[l][1],d=0;if(t){d=+t[e[l][0]];var y=r[d];if(y.p=="version"&&typeof g=="string"){var x=g.split(".");g=(+x[0]<<16)+(+x[1]||0)}c=c4(y.t,g)}else{var _=WD(g);_==-1&&(_=31,g=String(g)),c=c4(_,g)}s.push(c),u=st(8),u.write_shift(4,t?d:2+l),a.push(u),o+=8+c.length}var w=8*(s.length+1);for(l=0;l<s.length;++l)a[l].write_shift(4,w),w+=s[l].length;return n.write_shift(4,o),n.write_shift(4,s.length),Da([n].concat(a).concat(s))}function f4(e,t,r,n,a,s){var o=st(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,cn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=u4(e,r,n);if(l.push(c),a){var u=u4(a,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Da(l)}function qD(e,t){t||(t=st(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function VD(e,t){return e.read_shift(t)===1}function hs(e,t){return t||(t=st(2)),t.write_shift(2,+!!e),t}function Vj(e){return e.read_shift(2,"u")}function yi(e,t){return t||(t=st(2)),t.write_shift(2,e),t}function Gj(e,t,r){return r||(r=st(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Kj(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function GD(e){var t=e.t||"",r=st(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=st(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Da(a)}function KD(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function YD(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):KD(e,n,r)}function XD(e,t,r){if(r.biff>5)return YD(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Yj(e,t,r){return r||(r=st(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function d4(e,t){t||(t=st(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function JD(e){var t=st(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(s==28)n=n.slice(1),d4(n,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),s&8&&d4(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function gu(e,t,r,n){return n||(n=st(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function QD(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function ZD(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Xj(e,t){return t||(t=st(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Dv(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=st(a);return s.write_shift(2,n),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function e9(e,t){var r=!t||t.biff==8,n=st(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function t9(e,t){var r=!t||t.biff>=8?2:1,n=st(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function r9(e,t){var r=st(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=GD(e[a]);var s=Da([r].concat(n));return s.parts=[r.length].concat(n.map(function(o){return o.length})),s}function n9(){var e=st(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function a9(e){var t=st(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function s9(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,s=st(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function i9(e,t,r,n){var a=st(10);return gu(e,t,n,a),a.write_shift(4,r),a}function o9(e,t,r,n,a){var s=!a||a.biff==8,o=st(8+ +s+(1+s)*r.length);return gu(e,t,n,o),o.write_shift(2,r.length),s&&o.write_shift(1,1),o.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),o}function l9(e,t,r,n){var a=r&&r.biff==5;n||(n=st(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function c9(e,t){var r=t.biff==8||!t.biff?4:2,n=st(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function h4(e,t,r,n){var a=r&&r.biff==5;n||(n=st(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function u9(e){var t=st(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function f9(e,t,r,n,a,s){var o=st(8);return gu(e,t,n,o),Gj(r,s,o),o}function d9(e,t,r,n){var a=st(14);return gu(e,t,n,a),mu(r,a),a}function h9(e,t,r){if(r.biff<8)return p9(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(QD(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function p9(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Kj(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function m9(e){var t=st(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Xj(e[r],t);return t}function g9(e){var t=st(24),r=Na(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Da([t,JD(e[1])])}function x9(e){var t=e[1].Tooltip,r=st(10+2*(t.length+1));r.write_shift(2,2048);var n=Na(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function v9(e){return e||(e=st(4)),e.write_shift(2,1),e.write_shift(2,1),e}function y9(e,t,r){if(!r.cellStyles)return Po(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function w9(e,t){var r=st(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function b9(e){for(var t=st(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function _9(e,t,r){var n=st(15);return B0(n,e,t),n.write_shift(8,r,"f"),n}function N9(e,t,r){var n=st(9);return B0(n,e,t),n.write_shift(2,r),n}var S9=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=jv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],f=pu(1);switch(c.type){case"base64":f=Xi(_l(l));break;case"binary":f=Xi(l);break;case"buffer":case"array":f=l;break}Js(f,0);var p=f.read_shift(1),g=!!(p&136),d=!1,y=!1;switch(p){case 2:break;case 3:break;case 48:d=!0,g=!0;break;case 49:d=!0,g=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var x=0,_=521;p==2&&(x=f.read_shift(2)),f.l+=3,p!=2&&(x=f.read_shift(4)),x>1048576&&(x=1e6),p!=2&&(_=f.read_shift(2));var w=f.read_shift(2),S=c.codepage||1252;p!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(S=e[f[f.l]]),f.l+=1,f.l+=2),y&&(f.l+=36);for(var j=[],T={},q=Math.min(f.length,p==2?521:_-10-(d?264:0)),se=y?32:11;f.l<q&&f[f.l]!=13;)switch(T={},T.name=Zp.utils.decode(S,f.slice(f.l,f.l+se)).replace(/[\u0000\r\n].*$/g,""),f.l+=se,T.type=String.fromCharCode(f.read_shift(1)),p!=2&&!y&&(T.offset=f.read_shift(4)),T.len=f.read_shift(1),p==2&&(T.offset=f.read_shift(2)),T.dec=f.read_shift(1),T.name.length&&j.push(T),p!=2&&(f.l+=y?13:14),T.type){case"B":(!d||T.len!=8)&&c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(f[f.l]!==13&&(f.l=_-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=_;var L=0,k=0;for(u[0]=[],k=0;k!=j.length;++k)u[0][k]=j[k].name;for(;x-- >0;){if(f[f.l]===42){f.l+=w;continue}for(++f.l,u[++L]=[],k=0,k=0;k!=j.length;++k){var R=f.slice(f.l,f.l+j[k].len);f.l+=j[k].len,Js(R,0);var Y=Zp.utils.decode(S,R);switch(j[k].type){case"C":Y.trim().length&&(u[L][k]=Y.replace(/\s+$/,""));break;case"D":Y.length===8?u[L][k]=new Date(+Y.slice(0,4),+Y.slice(4,6)-1,+Y.slice(6,8)):u[L][k]=Y;break;case"F":u[L][k]=parseFloat(Y.trim());break;case"+":case"I":u[L][k]=y?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(Y.trim().toUpperCase()){case"Y":case"T":u[L][k]=!0;break;case"N":case"F":u[L][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Y+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[L][k]="##MEMO##"+(y?parseInt(Y.trim(),10):R.read_shift(4));break;case"N":Y=Y.replace(/\u0000/g,"").trim(),Y&&Y!="."&&(u[L][k]=+Y||0);break;case"@":u[L][k]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":u[L][k]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":u[L][k]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[L][k]=-R.read_shift(-8,"f");break;case"B":if(d&&j[k].len==8){u[L][k]=R.read_shift(8,"f");break}case"G":case"P":R.l+=j[k].len;break;case"0":if(j[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[k].type)}}}if(p!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=j,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var f=Gf(r(l,u),u);return f["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,f}function a(l,c){try{return bu(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&h0(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=Ps(),p=dm(l,{header:1,raw:!0,cellDates:!0}),g=p[0],d=p.slice(1),y=l["!cols"]||[],x=0,_=0,w=0,S=1;for(x=0;x<g.length;++x){if(((y[x]||{}).DBF||{}).name){g[x]=y[x].DBF.name,++w;continue}if(g[x]!=null){if(++w,typeof g[x]=="number"&&(g[x]=g[x].toString(10)),typeof g[x]!="string")throw new Error("DBF Invalid column name "+g[x]+" |"+typeof g[x]+"|");if(g.indexOf(g[x])!==x){for(_=0;_<1024;++_)if(g.indexOf(g[x]+"_"+_)==-1){g[x]+="_"+_;break}}}}var j=An(l["!ref"]),T=[],q=[],se=[];for(x=0;x<=j.e.c-j.s.c;++x){var L="",k="",R=0,Y=[];for(_=0;_<d.length;++_)d[_][x]!=null&&Y.push(d[_][x]);if(Y.length==0||g[x]==null){T[x]="?";continue}for(_=0;_<Y.length;++_){switch(typeof Y[_]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=Y[_]instanceof Date?"D":"C";break;default:k="C"}R=Math.max(R,String(Y[_]).length),L=L&&L!=k?"C":k}R>250&&(R=250),k=((y[x]||{}).DBF||{}).type,k=="C"&&y[x].DBF.len>R&&(R=y[x].DBF.len),L=="B"&&k=="N"&&(L="N",se[x]=y[x].DBF.dec,R=y[x].DBF.len),q[x]=L=="C"||k=="N"?R:s[L]||0,S+=q[x],T[x]=L}var P=f.next(32);for(P.write_shift(4,318902576),P.write_shift(4,d.length),P.write_shift(2,296+32*w),P.write_shift(2,S),x=0;x<4;++x)P.write_shift(4,0);for(P.write_shift(4,0|(+t[QS]||3)<<8),x=0,_=0;x<g.length;++x)if(g[x]!=null){var B=f.next(32),z=(g[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,z,"sbcs"),B.write_shift(1,T[x]=="?"?"C":T[x],"sbcs"),B.write_shift(4,_),B.write_shift(1,q[x]||s[T[x]]||0),B.write_shift(1,se[x]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),_+=q[x]||s[T[x]]||0}var te=f.next(264);for(te.write_shift(4,13),x=0;x<65;++x)te.write_shift(4,0);for(x=0;x<d.length;++x){var de=f.next(S);for(de.write_shift(1,0),_=0;_<g.length;++_)if(g[_]!=null)switch(T[_]){case"L":de.write_shift(1,d[x][_]==null?63:d[x][_]?84:70);break;case"B":de.write_shift(8,d[x][_]||0,"f");break;case"N":var X="0";for(typeof d[x][_]=="number"&&(X=d[x][_].toFixed(se[_]||0)),w=0;w<q[_]-X.length;++w)de.write_shift(1,32);de.write_shift(1,X,"sbcs");break;case"D":d[x][_]?(de.write_shift(4,("0000"+d[x][_].getFullYear()).slice(-4),"sbcs"),de.write_shift(2,("00"+(d[x][_].getMonth()+1)).slice(-2),"sbcs"),de.write_shift(2,("00"+d[x][_].getDate()).slice(-2),"sbcs")):de.write_shift(8,"00000000","sbcs");break;case"C":var W=String(d[x][_]!=null?d[x][_]:"").slice(0,q[_]);for(de.write_shift(1,W,"sbcs"),w=0;w<q[_]-W.length;++w)de.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),j9=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+za(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,d){var y=e[d];return typeof y=="number"?Ib(y):y},n=function(g,d,y){var x=d.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return x==59?g:Ib(x)};e["|"]=254;function a(g,d){switch(d.type){case"base64":return s(_l(g),d);case"binary":return s(g,d);case"buffer":return s(Gr&&Buffer.isBuffer(g)?g.toString("binary"):O0(g),d);case"array":return s(Jm(g),d)}throw new Error("Unrecognized type "+d.type)}function s(g,d){var y=g.split(/[\n\r]+/),x=-1,_=-1,w=0,S=0,j=[],T=[],q=null,se={},L=[],k=[],R=[],Y=0,P;for(+d.codepage>=0&&h0(+d.codepage);w!==y.length;++w){Y=0;var B=y[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),z=B.replace(/;;/g,"\0").split(";").map(function(I){return I.replace(/\u0000/g,";")}),te=z[0],de;if(B.length>0)switch(te){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&T.push(B.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,W=!1,M=!1,he=!1,Se=-1,le=-1;for(S=1;S<z.length;++S)switch(z[S].charAt(0)){case"A":break;case"X":_=parseInt(z[S].slice(1))-1,W=!0;break;case"Y":for(x=parseInt(z[S].slice(1))-1,W||(_=0),P=j.length;P<=x;++P)j[P]=[];break;case"K":de=z[S].slice(1),de.charAt(0)==='"'?de=de.slice(1,de.length-1):de==="TRUE"?de=!0:de==="FALSE"?de=!1:isNaN(pl(de))?isNaN(m0(de).getDate())||(de=gs(de)):(de=pl(de),q!==null&&uj(q)&&(de=pj(de))),X=!0;break;case"E":he=!0;var A=NI(z[S].slice(1),{r:x,c:_});j[x][_]=[j[x][_],A];break;case"S":M=!0,j[x][_]=[j[x][_],"S5S"];break;case"G":break;case"R":Se=parseInt(z[S].slice(1))-1;break;case"C":le=parseInt(z[S].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+B)}if(X&&(j[x][_]&&j[x][_].length==2?j[x][_][0]=de:j[x][_]=de,q=null),M){if(he)throw new Error("SYLK shared formula cannot have own formula");var H=Se>-1&&j[Se][le];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");j[x][_][1]=SI(H[1],{r:x-Se,c:_-le})}break;case"F":var D=0;for(S=1;S<z.length;++S)switch(z[S].charAt(0)){case"X":_=parseInt(z[S].slice(1))-1,++D;break;case"Y":for(x=parseInt(z[S].slice(1))-1,P=j.length;P<=x;++P)j[P]=[];break;case"M":Y=parseInt(z[S].slice(1))/20;break;case"F":break;case"G":break;case"P":q=T[parseInt(z[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=z[S].slice(1).split(" "),P=parseInt(R[0],10);P<=parseInt(R[1],10);++P)Y=parseInt(R[2],10),k[P-1]=Y===0?{hidden:!0}:{wch:Y},Iv(k[P-1]);break;case"C":_=parseInt(z[S].slice(1))-1,k[_]||(k[_]={});break;case"R":x=parseInt(z[S].slice(1))-1,L[x]||(L[x]={}),Y>0?(L[x].hpt=Y,L[x].hpx=t6(Y)):Y===0&&(L[x].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+B)}D<1&&(q=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+B)}}return L.length>0&&(se["!rows"]=L),k.length>0&&(se["!cols"]=k),d&&d.sheetRows&&(j=j.slice(0,d.sheetRows)),[j,se]}function o(g,d){var y=a(g,d),x=y[0],_=y[1],w=Gf(x,d);return za(_).forEach(function(S){w[S]=_[S]}),w}function l(g,d){return bu(o(g,d),d)}function c(g,d,y,x){var _="C;Y"+(y+1)+";X"+(x+1)+";K";switch(g.t){case"n":_+=g.v||0,g.f&&!g.F&&(_+=";E"+Bv(g.f,{r:y,c:x}));break;case"b":_+=g.v?"TRUE":"FALSE";break;case"e":_+=g.w||g.v;break;case"d":_+='"'+(g.w||g.v)+'"';break;case"s":_+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function u(g,d){d.forEach(function(y,x){var _="F;W"+(x+1)+" "+(x+1)+" ";y.hidden?_+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=lm(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=cm(y.wpx)),typeof y.wch=="number"&&(_+=Math.round(y.wch))),_.charAt(_.length-1)!=" "&&g.push(_)})}function f(g,d){d.forEach(function(y,x){var _="F;";y.hidden?_+="M0;":y.hpt?_+="M"+20*y.hpt+";":y.hpx&&(_+="M"+20*um(y.hpx)+";"),_.length>2&&g.push(_+"R"+(x+1))})}function p(g,d){var y=["ID;PWXL;N;E"],x=[],_=An(g["!ref"]),w,S=Array.isArray(g),j=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),g["!cols"]&&u(y,g["!cols"]),g["!rows"]&&f(y,g["!rows"]),y.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var T=_.s.r;T<=_.e.r;++T)for(var q=_.s.c;q<=_.e.c;++q){var se=an({r:T,c:q});w=S?(g[T]||[])[q]:g[se],!(!w||w.v==null&&(!w.f||w.F))&&x.push(c(w,g,T,q))}return y.join(j)+j+x.join(j)+j+"E"+j}return{to_workbook:l,to_sheet:o,from_sheet:p}}(),A9=function(){function e(s,o){switch(o.type){case"base64":return t(_l(s),o);case"binary":return t(s,o);case"buffer":return t(Gr&&Buffer.isBuffer(s)?s.toString("binary"):O0(s),o);case"array":return t(Jm(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,f=0,p=[];f!==l.length;++f){if(l[f].trim()==="BOT"){p[++c]=[],u=0;continue}if(!(c<0)){var g=l[f].trim().split(","),d=g[0],y=g[1];++f;for(var x=l[f]||"";(x.match(/["]/g)||[]).length&1&&f<l.length-1;)x+=`
`+l[++f];switch(x=x.trim(),+d){case-1:if(x==="BOT"){p[++c]=[],u=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?p[c][u]=!0:x==="FALSE"?p[c][u]=!1:isNaN(pl(y))?isNaN(m0(y).getDate())?p[c][u]=y:p[c][u]=gs(y):p[c][u]=pl(y),++u;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),p[c][u++]=x!==""?x:null;break}if(x==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(s,o){return Gf(e(s,o),o)}function n(s,o){return bu(r(s,o),o)}var a=function(){var s=function(c,u,f,p,g){c.push(u),c.push(f+","+p),c.push('"'+g.replace(/"/g,'""')+'"')},o=function(c,u,f,p){c.push(u+","+f),c.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var u=[],f=An(c["!ref"]),p,g=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,f.e.r-f.s.r+1,""),s(u,"TUPLES",0,f.e.c-f.s.c+1,""),s(u,"DATA",0,0,"");for(var d=f.s.r;d<=f.e.r;++d){o(u,-1,0,"BOT");for(var y=f.s.c;y<=f.e.c;++y){var x=an({r:d,c:y});if(p=g?(c[d]||[])[y]:c[x],!p){o(u,1,0,"");continue}switch(p.t){case"n":var _=p.w;!_&&p.v!=null&&(_=p.v),_==null?p.f&&!p.F?o(u,1,0,"="+p.f):o(u,1,0,""):o(u,0,_,"V");break;case"b":o(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=_c(p.z||Wn[14],Ls(gs(p.v)))),o(u,0,p.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var w=`\r
`,S=u.join(w);return S}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Jj=function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var d=p.split(`
`),y=-1,x=-1,_=0,w=[];_!==d.length;++_){var S=d[_].trim().split(":");if(S[0]==="cell"){var j=Na(S[1]);if(w.length<=j.r)for(y=w.length;y<=j.r;++y)w[y]||(w[y]=[]);switch(y=j.r,x=j.c,S[2]){case"t":w[y][x]=e(S[3]);break;case"v":w[y][x]=+S[3];break;case"vtf":var T=S[S.length-1];case"vtc":switch(S[3]){case"nl":w[y][x]=!!+S[4];break;default:w[y][x]=+S[4];break}S[2]=="vtf"&&(w[y][x]=[w[y][x],T])}}}return g&&g.sheetRows&&(w=w.slice(0,g.sheetRows)),w}function n(p,g){return Gf(r(p,g),g)}function a(p,g){return bu(n(p,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],d=[],y,x="",_=si(p["!ref"]),w=Array.isArray(p),S=_.s.r;S<=_.e.r;++S)for(var j=_.s.c;j<=_.e.c;++j)if(x=an({r:S,c:j}),y=w?(p[S]||[])[j]:p[x],!(!y||y.v==null||y.t==="z")){switch(d=["cell",x,"t"],y.t){case"s":case"str":d.push(t(y.v));break;case"n":y.f?(d[2]="vtf",d[3]="n",d[4]=y.v,d[5]=t(y.f)):(d[2]="v",d[3]=y.v);break;case"b":d[2]="vt"+(y.f?"f":"c"),d[3]="nl",d[4]=y.v?"1":"0",d[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var T=Ls(gs(y.v));d[2]="vtc",d[3]="nd",d[4]=""+T,d[5]=y.w||_c(y.z||Wn[14],T);break;case"e":continue}g.push(d.join(":"))}return g.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(p){return[s,o,l,o,u(p),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:f}}(),E9=function(){function e(f,p,g,d,y){y.raw?p[g][d]=f:f===""||(f==="TRUE"?p[g][d]=!0:f==="FALSE"?p[g][d]=!1:isNaN(pl(f))?isNaN(m0(f).getDate())?p[g][d]=f:p[g][d]=gs(f):p[g][d]=pl(f))}function t(f,p){var g=p||{},d=[];if(!f||f.length===0)return d;for(var y=f.split(/[\r\n]/),x=y.length-1;x>=0&&y[x].length===0;)--x;for(var _=10,w=0,S=0;S<=x;++S)w=y[S].indexOf(" "),w==-1?w=y[S].length:w++,_=Math.max(_,w);for(S=0;S<=x;++S){d[S]=[];var j=0;for(e(y[S].slice(0,_).trim(),d,S,j,g),j=1;j<=(y[S].length-_)/10+1;++j)e(y[S].slice(_+(j-1)*10,_+j*10).trim(),d,S,j,g)}return g.sheetRows&&(d=d.slice(0,g.sheetRows)),d}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(f){for(var p={},g=!1,d=0,y=0;d<f.length;++d)(y=f.charCodeAt(d))==34?g=!g:!g&&y in r&&(p[y]=(p[y]||0)+1);y=[];for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&y.push([p[d],d]);if(!y.length){p=n;for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&y.push([p[d],d])}return y.sort(function(x,_){return x[0]-_[0]||n[x[1]]-n[_[1]]}),r[y.pop()[1]]||44}function s(f,p){var g=p||{},d="",y=g.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(d=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(d=f.charAt(4),f=f.slice(6)):d=a(f.slice(0,1024)):g&&g.FS?d=g.FS:d=a(f.slice(0,1024));var _=0,w=0,S=0,j=0,T=0,q=d.charCodeAt(0),se=!1,L=0,k=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var R=g.dateNF!=null?$R(g.dateNF):null;function Y(){var P=f.slice(j,T),B={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)B.t="z";else if(g.raw)B.t="s",B.v=P;else if(P.trim().length===0)B.t="s",B.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(B.t="s",B.v=P.slice(2,-1).replace(/""/g,'"')):jI(P)?(B.t="n",B.f=P.slice(1)):(B.t="s",B.v=P);else if(P=="TRUE")B.t="b",B.v=!0;else if(P=="FALSE")B.t="b",B.v=!1;else if(!isNaN(S=pl(P)))B.t="n",g.cellText!==!1&&(B.w=P),B.v=S;else if(!isNaN(m0(P).getDate())||R&&P.match(R)){B.z=g.dateNF||Wn[14];var z=0;R&&P.match(R)&&(P=WR(P,g.dateNF,P.match(R)||[]),z=1),g.cellDates?(B.t="d",B.v=gs(P,z)):(B.t="n",B.v=Ls(gs(P,z))),g.cellText!==!1&&(B.w=_c(B.z,B.v instanceof Date?Ls(B.v):B.v)),g.cellNF||delete B.z}else B.t="s",B.v=P;if(B.t=="z"||(g.dense?(y[_]||(y[_]=[]),y[_][w]=B):y[an({c:w,r:_})]=B),j=T+1,k=f.charCodeAt(j),x.e.c<w&&(x.e.c=w),x.e.r<_&&(x.e.r=_),L==q)++w;else if(w=0,++_,g.sheetRows&&g.sheetRows<=_)return!0}e:for(;T<f.length;++T)switch(L=f.charCodeAt(T)){case 34:k===34&&(se=!se);break;case q:case 10:case 13:if(!se&&Y())break e;break}return T-j>0&&Y(),y["!ref"]=aa(x),y}function o(f,p){return!(p&&p.PRN)||p.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,p):Gf(t(f,p),p)}function l(f,p){var g="",d=p.type=="string"?[0,0,0,0]:Bz(f,p);switch(p.type){case"base64":g=_l(f);break;case"binary":g=f;break;case"buffer":p.codepage==65001?g=f.toString("utf8"):p.codepage&&typeof Zp<"u"||(g=Gr&&Buffer.isBuffer(f)?f.toString("binary"):O0(f));break;case"array":g=Jm(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+p.type)}return d[0]==239&&d[1]==187&&d[2]==191?g=Bd(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=Bd(g):p.type=="binary"&&typeof Zp<"u",g.slice(0,19)=="socialcalc:version:"?Jj.to_sheet(p.type=="string"?g:Bd(g),p):o(g,p)}function c(f,p){return bu(l(f,p),p)}function u(f){for(var p=[],g=An(f["!ref"]),d,y=Array.isArray(f),x=g.s.r;x<=g.e.r;++x){for(var _=[],w=g.s.c;w<=g.e.c;++w){var S=an({r:x,c:w});if(d=y?(f[x]||[])[w]:f[S],!d||d.v==null){_.push("          ");continue}for(var j=(d.w||(Nl(d),d.w)||"").slice(0,10);j.length<10;)j+=" ";_.push(j+(w===0?" ":""))}p.push(_.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),p4=function(){function e(A,H,D){if(A){Js(A,A.l||0);for(var I=D.Enum||Se;A.l<A.length;){var ne=A.read_shift(2),ge=I[ne]||I[65535],Ee=A.read_shift(2),xe=A.l+Ee,Z=ge.f&&ge.f(A,Ee,D);if(A.l=xe,H(Z,ge,ne))return}}}function t(A,H){switch(H.type){case"base64":return r(Xi(_l(A)),H);case"binary":return r(Xi(A),H);case"buffer":case"array":return r(A,H)}throw"Unsupported type "+H.type}function r(A,H){if(!A)return A;var D=H||{},I=D.dense?[]:{},ne="Sheet1",ge="",Ee=0,xe={},Z=[],Me=[],Ve={s:{r:0,c:0},e:{r:0,c:0}},it=D.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)D.Enum=Se,e(A,function(et,yt,Fe){switch(Fe){case 0:D.vers=et,et>=4096&&(D.qpro=!0);break;case 6:Ve=et;break;case 204:et&&(ge=et);break;case 222:ge=et;break;case 15:case 51:D.qpro||(et[1].v=et[1].v.slice(1));case 13:case 14:case 16:Fe==14&&(et[2]&112)==112&&(et[2]&15)>1&&(et[2]&15)<15&&(et[1].z=D.dateNF||Wn[14],D.cellDates&&(et[1].t="d",et[1].v=pj(et[1].v))),D.qpro&&et[3]>Ee&&(I["!ref"]=aa(Ve),xe[ne]=I,Z.push(ne),I=D.dense?[]:{},Ve={s:{r:0,c:0},e:{r:0,c:0}},Ee=et[3],ne=ge||"Sheet"+(Ee+1),ge="");var gt=D.dense?(I[et[0].r]||[])[et[0].c]:I[an(et[0])];if(gt){gt.t=et[1].t,gt.v=et[1].v,et[1].z!=null&&(gt.z=et[1].z),et[1].f!=null&&(gt.f=et[1].f);break}D.dense?(I[et[0].r]||(I[et[0].r]=[]),I[et[0].r][et[0].c]=et[1]):I[an(et[0])]=et[1];break}},D);else if(A[2]==26||A[2]==14)D.Enum=le,A[2]==14&&(D.qpro=!0,A.l=0),e(A,function(et,yt,Fe){switch(Fe){case 204:ne=et;break;case 22:et[1].v=et[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(et[3]>Ee&&(I["!ref"]=aa(Ve),xe[ne]=I,Z.push(ne),I=D.dense?[]:{},Ve={s:{r:0,c:0},e:{r:0,c:0}},Ee=et[3],ne="Sheet"+(Ee+1)),it>0&&et[0].r>=it)break;D.dense?(I[et[0].r]||(I[et[0].r]=[]),I[et[0].r][et[0].c]=et[1]):I[an(et[0])]=et[1],Ve.e.c<et[0].c&&(Ve.e.c=et[0].c),Ve.e.r<et[0].r&&(Ve.e.r=et[0].r);break;case 27:et[14e3]&&(Me[et[14e3][0]]=et[14e3][1]);break;case 1537:Me[et[0]]=et[1],et[0]==Ee&&(ne=et[1]);break}},D);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(I["!ref"]=aa(Ve),xe[ge||ne]=I,Z.push(ge||ne),!Me.length)return{SheetNames:Z,Sheets:xe};for(var dt={},ae=[],Pe=0;Pe<Me.length;++Pe)xe[Z[Pe]]?(ae.push(Me[Pe]||Z[Pe]),dt[Me[Pe]]=xe[Me[Pe]]||xe[Z[Pe]]):(ae.push(Me[Pe]),dt[Me[Pe]]={"!ref":"A1"});return{SheetNames:ae,Sheets:dt}}function n(A,H){var D=H||{};if(+D.codepage>=0&&h0(+D.codepage),D.type=="string")throw new Error("Cannot write WK1 to JS string");var I=Ps(),ne=An(A["!ref"]),ge=Array.isArray(A),Ee=[];Ht(I,0,s(1030)),Ht(I,6,c(ne));for(var xe=Math.min(ne.e.r,8191),Z=ne.s.r;Z<=xe;++Z)for(var Me=Ba(Z),Ve=ne.s.c;Ve<=ne.e.c;++Ve){Z===ne.s.r&&(Ee[Ve]=ts(Ve));var it=Ee[Ve]+Me,dt=ge?(A[Z]||[])[Ve]:A[it];if(!(!dt||dt.t=="z"))if(dt.t=="n")(dt.v|0)==dt.v&&dt.v>=-32768&&dt.v<=32767?Ht(I,13,d(Z,Ve,dt.v)):Ht(I,14,x(Z,Ve,dt.v));else{var ae=Nl(dt);Ht(I,15,p(Z,Ve,ae.slice(0,239)))}}return Ht(I,1),I.end()}function a(A,H){var D=H||{};if(+D.codepage>=0&&h0(+D.codepage),D.type=="string")throw new Error("Cannot write WK3 to JS string");var I=Ps();Ht(I,0,o(A));for(var ne=0,ge=0;ne<A.SheetNames.length;++ne)(A.Sheets[A.SheetNames[ne]]||{})["!ref"]&&Ht(I,27,he(A.SheetNames[ne],ge++));var Ee=0;for(ne=0;ne<A.SheetNames.length;++ne){var xe=A.Sheets[A.SheetNames[ne]];if(!(!xe||!xe["!ref"])){for(var Z=An(xe["!ref"]),Me=Array.isArray(xe),Ve=[],it=Math.min(Z.e.r,8191),dt=Z.s.r;dt<=it;++dt)for(var ae=Ba(dt),Pe=Z.s.c;Pe<=Z.e.c;++Pe){dt===Z.s.r&&(Ve[Pe]=ts(Pe));var et=Ve[Pe]+ae,yt=Me?(xe[dt]||[])[Pe]:xe[et];if(!(!yt||yt.t=="z"))if(yt.t=="n")Ht(I,23,Y(dt,Pe,Ee,yt.v));else{var Fe=Nl(yt);Ht(I,22,L(dt,Pe,Ee,Fe.slice(0,239)))}}++Ee}}return Ht(I,1),I.end()}function s(A){var H=st(2);return H.write_shift(2,A),H}function o(A){var H=st(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var D=0,I=0,ne=0,ge=0;ge<A.SheetNames.length;++ge){var Ee=A.SheetNames[ge],xe=A.Sheets[Ee];if(!(!xe||!xe["!ref"])){++ne;var Z=si(xe["!ref"]);D<Z.e.r&&(D=Z.e.r),I<Z.e.c&&(I=Z.e.c)}}return D>8191&&(D=8191),H.write_shift(2,D),H.write_shift(1,ne),H.write_shift(1,I),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function l(A,H,D){var I={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&D.qpro?(I.s.c=A.read_shift(1),A.l++,I.s.r=A.read_shift(2),I.e.c=A.read_shift(1),A.l++,I.e.r=A.read_shift(2),I):(I.s.c=A.read_shift(2),I.s.r=A.read_shift(2),H==12&&D.qpro&&(A.l+=2),I.e.c=A.read_shift(2),I.e.r=A.read_shift(2),H==12&&D.qpro&&(A.l+=2),I.s.c==65535&&(I.s.c=I.e.c=I.s.r=I.e.r=0),I)}function c(A){var H=st(8);return H.write_shift(2,A.s.c),H.write_shift(2,A.s.r),H.write_shift(2,A.e.c),H.write_shift(2,A.e.r),H}function u(A,H,D){var I=[{c:0,r:0},{t:"n",v:0},0,0];return D.qpro&&D.vers!=20768?(I[0].c=A.read_shift(1),I[3]=A.read_shift(1),I[0].r=A.read_shift(2),A.l+=2):(I[2]=A.read_shift(1),I[0].c=A.read_shift(2),I[0].r=A.read_shift(2)),I}function f(A,H,D){var I=A.l+H,ne=u(A,H,D);if(ne[1].t="s",D.vers==20768){A.l++;var ge=A.read_shift(1);return ne[1].v=A.read_shift(ge,"utf8"),ne}return D.qpro&&A.l++,ne[1].v=A.read_shift(I-A.l,"cstr"),ne}function p(A,H,D){var I=st(7+D.length);I.write_shift(1,255),I.write_shift(2,H),I.write_shift(2,A),I.write_shift(1,39);for(var ne=0;ne<I.length;++ne){var ge=D.charCodeAt(ne);I.write_shift(1,ge>=128?95:ge)}return I.write_shift(1,0),I}function g(A,H,D){var I=u(A,H,D);return I[1].v=A.read_shift(2,"i"),I}function d(A,H,D){var I=st(7);return I.write_shift(1,255),I.write_shift(2,H),I.write_shift(2,A),I.write_shift(2,D,"i"),I}function y(A,H,D){var I=u(A,H,D);return I[1].v=A.read_shift(8,"f"),I}function x(A,H,D){var I=st(13);return I.write_shift(1,255),I.write_shift(2,H),I.write_shift(2,A),I.write_shift(8,D,"f"),I}function _(A,H,D){var I=A.l+H,ne=u(A,H,D);if(ne[1].v=A.read_shift(8,"f"),D.qpro)A.l=I;else{var ge=A.read_shift(2);T(A.slice(A.l,A.l+ge),ne),A.l+=ge}return ne}function w(A,H,D){var I=H&32768;return H&=-32769,H=(I?A:0)+(H>=8192?H-16384:H),(I?"":"$")+(D?ts(H):Ba(H))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(A,H){Js(A,0);for(var D=[],I=0,ne="",ge="",Ee="",xe="";A.l<A.length;){var Z=A[A.l++];switch(Z){case 0:D.push(A.read_shift(8,"f"));break;case 1:ge=w(H[0].c,A.read_shift(2),!0),ne=w(H[0].r,A.read_shift(2),!1),D.push(ge+ne);break;case 2:{var Me=w(H[0].c,A.read_shift(2),!0),Ve=w(H[0].r,A.read_shift(2),!1);ge=w(H[0].c,A.read_shift(2),!0),ne=w(H[0].r,A.read_shift(2),!1),D.push(Me+Ve+":"+ge+ne)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:D.push("("+D.pop()+")");break;case 5:D.push(A.read_shift(2));break;case 6:{for(var it="";Z=A[A.l++];)it+=String.fromCharCode(Z);D.push('"'+it.replace(/"/g,'""')+'"')}break;case 8:D.push("-"+D.pop());break;case 23:D.push("+"+D.pop());break;case 22:D.push("NOT("+D.pop()+")");break;case 20:case 21:xe=D.pop(),Ee=D.pop(),D.push(["AND","OR"][Z-20]+"("+Ee+","+xe+")");break;default:if(Z<32&&j[Z])xe=D.pop(),Ee=D.pop(),D.push(Ee+j[Z]+xe);else if(S[Z]){if(I=S[Z][1],I==69&&(I=A[A.l++]),I>D.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+D.join("|")+"|");return}var dt=D.slice(-I);D.length-=I,D.push(S[Z][0]+"("+dt.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}D.length==1?H[1].f=""+D[0]:console.error("WK1 bad formula parse |"+D.join("|")+"|")}function q(A){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=A.read_shift(2),H[3]=A[A.l++],H[0].c=A[A.l++],H}function se(A,H){var D=q(A);return D[1].t="s",D[1].v=A.read_shift(H-4,"cstr"),D}function L(A,H,D,I){var ne=st(6+I.length);ne.write_shift(2,A),ne.write_shift(1,D),ne.write_shift(1,H),ne.write_shift(1,39);for(var ge=0;ge<I.length;++ge){var Ee=I.charCodeAt(ge);ne.write_shift(1,Ee>=128?95:Ee)}return ne.write_shift(1,0),ne}function k(A,H){var D=q(A);D[1].v=A.read_shift(2);var I=D[1].v>>1;if(D[1].v&1)switch(I&7){case 0:I=(I>>3)*5e3;break;case 1:I=(I>>3)*500;break;case 2:I=(I>>3)/20;break;case 3:I=(I>>3)/200;break;case 4:I=(I>>3)/2e3;break;case 5:I=(I>>3)/2e4;break;case 6:I=(I>>3)/16;break;case 7:I=(I>>3)/64;break}return D[1].v=I,D}function R(A,H){var D=q(A),I=A.read_shift(4),ne=A.read_shift(4),ge=A.read_shift(2);if(ge==65535)return I===0&&ne===3221225472?(D[1].t="e",D[1].v=15):I===0&&ne===3489660928?(D[1].t="e",D[1].v=42):D[1].v=0,D;var Ee=ge&32768;return ge=(ge&32767)-16446,D[1].v=(1-Ee*2)*(ne*Math.pow(2,ge+32)+I*Math.pow(2,ge)),D}function Y(A,H,D,I){var ne=st(14);if(ne.write_shift(2,A),ne.write_shift(1,D),ne.write_shift(1,H),I==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var ge=0,Ee=0,xe=0,Z=0;return I<0&&(ge=1,I=-I),Ee=Math.log2(I)|0,I/=Math.pow(2,Ee-31),Z=I>>>0,Z&2147483648||(I/=2,++Ee,Z=I>>>0),I-=Z,Z|=2147483648,Z>>>=0,I*=Math.pow(2,32),xe=I>>>0,ne.write_shift(4,xe),ne.write_shift(4,Z),Ee+=16383+(ge?32768:0),ne.write_shift(2,Ee),ne}function P(A,H){var D=R(A);return A.l+=H-14,D}function B(A,H){var D=q(A),I=A.read_shift(4);return D[1].v=I>>6,D}function z(A,H){var D=q(A),I=A.read_shift(8,"f");return D[1].v=I,D}function te(A,H){var D=z(A);return A.l+=H-10,D}function de(A,H){return A[A.l+H-1]==0?A.read_shift(H,"cstr"):""}function X(A,H){var D=A[A.l++];D>H-1&&(D=H-1);for(var I="";I.length<D;)I+=String.fromCharCode(A[A.l++]);return I}function W(A,H,D){if(!(!D.qpro||H<21)){var I=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var ne=A.read_shift(H-21,"cstr");return[I,ne]}}function M(A,H){for(var D={},I=A.l+H;A.l<I;){var ne=A.read_shift(2);if(ne==14e3){for(D[ne]=[0,""],D[ne][0]=A.read_shift(2);A[A.l];)D[ne][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return D}function he(A,H){var D=st(5+A.length);D.write_shift(2,14e3),D.write_shift(2,H);for(var I=0;I<A.length;++I){var ne=A.charCodeAt(I);D[D.l++]=ne>127?95:ne}return D[D.l++]=0,D}var Se={0:{n:"BOF",f:Vj},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:y},15:{n:"LABEL",f},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:de},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:se},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:M},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:te},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:de},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),C9=/^\s|\s$|[\t\n\r]/;function Qj(e,t){if(!t.bookSST)return"";var r=[sa];r[r.length]=zt("sst",null,{xmlns:Vf[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(C9)&&(s+=' xml:space="preserve"'),s+=">"+rn(a.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function k9(e){return[e.read_shift(4),e.read_shift(4)]}function T9(e,t){return t||(t=st(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var P9=bD;function L9(e){var t=Ps();wt(t,159,T9(e));for(var r=0;r<e.length;++r)wt(t,19,P9(e[r]));return wt(t,160),t.end()}function F9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Zj(e){var t=0,r,n=F9(e),a=n.length+1,s,o,l,c,u;for(r=pu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var O9=function(){function e(a,s){switch(s.type){case"base64":return t(_l(a),s);case"binary":return t(a,s);case"buffer":return t(Gr&&Buffer.isBuffer(a)?a.toString("binary"):O0(a),s);case"array":return t(Jm(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,p){Array.isArray(l)&&(l[p]=[]);for(var g=/\\\w+\b/g,d=0,y,x=-1;y=g.exec(f);){switch(y[0]){case"\\cell":var _=f.slice(d,g.lastIndex-y[0].length);if(_[0]==" "&&(_=_.slice(1)),++x,_.length){var w={v:_,t:"s"};Array.isArray(l)?l[p][x]=w:l[an({r:p,c:x})]=w}break}d=g.lastIndex}x>u.e.c&&(u.e.c=x)}),l["!ref"]=aa(u),l}function r(a,s){return bu(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=An(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var p=an({r:u,c:f});l=c?(a[u]||[])[f]:a[p],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(Nl(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function m4(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var R9=6,ml=R9;function lm(e){return Math.floor((e+Math.round(128/ml)/256)*ml)}function cm(e){return Math.floor((e-5)/ml*100+.5)/100}function h2(e){return Math.round((e*ml+5)/ml*256)/256}function Iv(e){e.width?(e.wpx=lm(e.width),e.wch=cm(e.wpx),e.MDW=ml):e.wpx?(e.wch=cm(e.wpx),e.width=h2(e.wch),e.MDW=ml):typeof e.wch=="number"&&(e.width=h2(e.wch),e.wpx=lm(e.width),e.MDW=ml),e.customWidth&&delete e.customWidth}var D9=96,e6=D9;function um(e){return e*96/e6}function t6(e){return e*e6/96}function I9(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=zt("numFmt",null,{numFmtId:n,formatCode:rn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=zt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function M9(e){var t=[];return t[t.length]=zt("cellXfs",null),e.forEach(function(r){t[t.length]=zt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=zt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function r6(e,t){var r=[sa,zt("styleSheet",null,{xmlns:Vf[0],"xmlns:vt":_a.vt})],n;return e.SSF&&(n=I9(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=M9(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function B9(e,t){var r=e.read_shift(2),n=rs(e);return[r,n]}function U9(e,t,r){r||(r=st(6+4*t.length)),r.write_shift(2,e),Sa(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function z9(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=CD(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=ED(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=rs(e),n}function H9(e,t){t||(t=st(25+4*32)),t.write_shift(2,e.sz*20),kD(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),im(e.color,t);var n=0;return n=2,t.write_shift(1,n),Sa(e.name,t),t.length>t.l?t.slice(0,t.l):t}var $9=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Pg,W9=Po;function g4(e,t){t||(t=st(4*3+8*7+16*1)),Pg||(Pg=jv($9));var r=Pg[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(im({auto:1},t),im({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function q9(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function n6(e,t,r){r||(r=st(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function wd(e,t){return t||(t=st(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var V9=Po;function G9(e,t){return t||(t=st(51)),t.write_shift(1,0),wd(null,t),wd(null,t),wd(null,t),wd(null,t),wd(null,t),t.length>t.l?t.slice(0,t.l):t}function K9(e,t){return t||(t=st(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),sm(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Y9(e,t,r){var n=st(2052);return n.write_shift(4,e),sm(t,n),sm(r,n),n.length>n.l?n.slice(0,n.l):n}function X9(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(wt(e,615,to(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&wt(e,44,U9(a,t[a]))}),wt(e,616))}}function J9(e){var t=1;wt(e,611,to(t)),wt(e,43,H9({sz:12,color:{theme:1},name:"Calibri",family:2})),wt(e,612)}function Q9(e){var t=2;wt(e,603,to(t)),wt(e,45,g4({patternType:"none"})),wt(e,45,g4({patternType:"gray125"})),wt(e,604)}function Z9(e){var t=1;wt(e,613,to(t)),wt(e,46,G9()),wt(e,614)}function eI(e){var t=1;wt(e,626,to(t)),wt(e,47,n6({numFmtId:0},65535)),wt(e,627)}function tI(e,t){wt(e,617,to(t.length)),t.forEach(function(r){wt(e,47,n6(r,0))}),wt(e,618)}function rI(e){var t=1;wt(e,619,to(t)),wt(e,48,K9({xfId:0,name:"Normal"})),wt(e,620)}function nI(e){var t=0;wt(e,505,to(t)),wt(e,506)}function aI(e){var t=0;wt(e,508,Y9(t,"TableStyleMedium9","PivotStyleMedium4")),wt(e,509)}function sI(e,t){var r=Ps();return wt(r,278),X9(r,e.SSF),J9(r),Q9(r),Z9(r),eI(r),tI(r,t.cellXfs),rI(r),nI(r),aI(r),wt(r,279),r.end()}function a6(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[sa];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function iI(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:rs(e)}}function oI(e){var t=st(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Sa(e.name,t),t.slice(0,t.l)}function lI(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function cI(e){var t=st(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function uI(e,t){var r=st(8+2*t.length);return r.write_shift(4,e),Sa(t,r),r.slice(0,r.l)}function fI(e){return e.l+=4,e.read_shift(4)!=0}function dI(e,t){var r=st(8);return r.write_shift(4,e),r.write_shift(4,1),r}function hI(){var e=Ps();return wt(e,332),wt(e,334,to(1)),wt(e,335,oI({name:"XLDAPR",version:12e4,flags:3496657072})),wt(e,336),wt(e,339,uI(1,"XLDAPR")),wt(e,52),wt(e,35,to(514)),wt(e,4096,to(0)),wt(e,4097,yi(1)),wt(e,36),wt(e,53),wt(e,340),wt(e,337,dI(1)),wt(e,51,cI([[1,0]])),wt(e,338),wt(e,333),e.end()}function s6(){var e=[sa];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function pI(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=an(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var lf=1024;function i6(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[zt("xml",null,{"xmlns:v":Qs.v,"xmlns:o":Qs.o,"xmlns:x":Qs.x,"xmlns:mv":Qs.mv}).replace(/\/>/,">"),zt("o:shapelayout",zt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),zt("v:shapetype",[zt("v:stroke",null,{joinstyle:"miter"}),zt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];lf<e*1e3;)lf+=1e3;return t.forEach(function(s){var o=Na(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?zt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=zt("v:fill",c,l),f={on:"t",obscured:"t"};++lf,a=a.concat(["<v:shape"+x0({id:"_x0000_s"+lf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,zt("v:shadow",null,f),zt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ia("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Ia("x:AutoFill","False"),Ia("x:Row",String(o.r)),Ia("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function o6(e){var t=[sa,zt("comments",null,{xmlns:Vf[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=rn(a.a);r.indexOf(s)==-1&&(r.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(rn(c.a))),s.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(Ia("t",rn(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)o+=`Reply:
    `+s[l]+`
`;t.push(Ia("t",rn(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function mI(e,t,r){var n=[sa,zt("ThreadedComments",null,{xmlns:_a.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(zt("threadedComment",Ia("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function gI(e){var t=[sa,zt("personList",null,{xmlns:_a.TCMNT,"xmlns:x":Vf[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(zt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function xI(e){var t={};t.iauthor=e.read_shift(4);var r=ju(e);return t.rfx=r.s,t.ref=an(r.s),e.l+=16,t}function vI(e,t){return t==null&&(t=st(36)),t.write_shift(4,e[1].iauthor),Kf(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var yI=rs;function wI(e){return Sa(e.slice(0,54))}function bI(e){var t=Ps(),r=[];return wt(t,628),wt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),wt(t,632,wI(a.a)))})}),wt(t,631),wt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var s={s:Na(n[0]),e:Na(n[0])};wt(t,635,vI([s,a])),a.t&&a.t.length>0&&wt(t,637,ND(a)),wt(t,636),delete a.iauthor})}),wt(t,634),wt(t,629),t.end()}function _I(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&cn.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var l6=["xlsb","xlsm","xlam","biff8","xla"],NI=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return l?f+=t.c:--f,c?u+=t.r:--u,a+(l?"":"$")+ts(f)+(c?"":"$")+Ba(u)}return function(a,s){return t=s,a.replace(e,r)}}(),Mv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Bv=function(){return function(t,r){return t.replace(Mv,function(n,a,s,o,l,c){var u=Lv(o)-(s?0:r.c),f=Pv(c)-(l?0:r.r),p=f==0?"":l?f+1:"["+f+"]",g=u==0?"":s?u+1:"["+u+"]";return a+"R"+p+"C"+g})}}();function SI(e,t){return e.replace(Mv,function(r,n,a,s,o,l){return n+(a=="$"?a+s:ts(Lv(s)+t.c))+(o=="$"?o+l:Ba(Pv(l)+t.r))})}function jI(e){return e.length!=1}function ea(e){e.l+=1}function Nc(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function c6(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return u6(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=Nc(e),l=Nc(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function u6(e){var t=Nc(e),r=Nc(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function AI(e,t,r){if(r.biff<8)return u6(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Nc(e),o=Nc(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function f6(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return EI(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Nc(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function EI(e){var t=Nc(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function CI(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function kI(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return TI(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function TI(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function PI(e,t,r){var n=(e[e.l++]&96)>>5,a=c6(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function LI(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=c6(e,s,r);return[n,a,o]}function FI(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function OI(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function RI(e,t,r){var n=(e[e.l++]&96)>>5,a=AI(e,t-1,r);return[n,a]}function DI(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function x4(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function II(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function MI(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function BI(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function UI(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function zI(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function d6(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function HI(e){return e.read_shift(2),d6(e)}function $I(e){return e.read_shift(2),d6(e)}function WI(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=f6(e,0,r);return[n,a]}function qI(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=kI(e,0,r);return[n,a]}function VI(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=f6(e,0,r);return[n,a,s]}function GI(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[GM[a],m6[a],n]}function KI(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:YI(e);return[a,(s[0]===0?m6:VM)[s[1]]]}function YI(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function XI(e,t,r){e.l+=r&&r.biff==2?3:4}function JI(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function QI(e){return e.l++,I0[e.read_shift(1)]}function ZI(e){return e.l++,e.read_shift(2)}function eM(e){return e.l++,e.read_shift(1)!==0}function tM(e){return e.l++,Yf(e)}function rM(e,t,r){return e.l++,Kj(e,t-1,r)}function nM(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=VD(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=I0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Yf(e);break;case 2:r[1]=XD(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function aM(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?ju:ZD)(e));return a}function sM(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=nM(e,r.biff);return o}function iM(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function oM(e,t,r){if(r.biff==5)return lM(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function lM(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function cM(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function uM(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function fM(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function dM(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var hM=Po,pM=Po,mM=Po;function M0(e,t,r){return e.l+=2,[CI(e)]}function Uv(e){return e.l+=6,[]}var gM=M0,xM=Uv,vM=Uv,yM=M0;function h6(e){return e.l+=2,[Vj(e),e.read_shift(2)&1]}var wM=M0,bM=h6,_M=Uv,NM=M0,SM=M0,jM=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function AM(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=jM[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function EM(e){return e.l+=2,[e.read_shift(4)]}function CM(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function kM(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function TM(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function PM(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function LM(e){return e.l+=4,[0,0]}var v4={1:{n:"PtgExp",f:JI},2:{n:"PtgTbl",f:mM},3:{n:"PtgAdd",f:ea},4:{n:"PtgSub",f:ea},5:{n:"PtgMul",f:ea},6:{n:"PtgDiv",f:ea},7:{n:"PtgPower",f:ea},8:{n:"PtgConcat",f:ea},9:{n:"PtgLt",f:ea},10:{n:"PtgLe",f:ea},11:{n:"PtgEq",f:ea},12:{n:"PtgGe",f:ea},13:{n:"PtgGt",f:ea},14:{n:"PtgNe",f:ea},15:{n:"PtgIsect",f:ea},16:{n:"PtgUnion",f:ea},17:{n:"PtgRange",f:ea},18:{n:"PtgUplus",f:ea},19:{n:"PtgUminus",f:ea},20:{n:"PtgPercent",f:ea},21:{n:"PtgParen",f:ea},22:{n:"PtgMissArg",f:ea},23:{n:"PtgStr",f:rM},26:{n:"PtgSheet",f:CM},27:{n:"PtgEndSheet",f:kM},28:{n:"PtgErr",f:QI},29:{n:"PtgBool",f:eM},30:{n:"PtgInt",f:ZI},31:{n:"PtgNum",f:tM},32:{n:"PtgArray",f:DI},33:{n:"PtgFunc",f:GI},34:{n:"PtgFuncVar",f:KI},35:{n:"PtgName",f:iM},36:{n:"PtgRef",f:WI},37:{n:"PtgArea",f:PI},38:{n:"PtgMemArea",f:cM},39:{n:"PtgMemErr",f:hM},40:{n:"PtgMemNoMem",f:pM},41:{n:"PtgMemFunc",f:uM},42:{n:"PtgRefErr",f:fM},43:{n:"PtgAreaErr",f:FI},44:{n:"PtgRefN",f:qI},45:{n:"PtgAreaN",f:RI},46:{n:"PtgMemAreaN",f:TM},47:{n:"PtgMemNoMemN",f:PM},57:{n:"PtgNameX",f:oM},58:{n:"PtgRef3d",f:VI},59:{n:"PtgArea3d",f:LI},60:{n:"PtgRefErr3d",f:dM},61:{n:"PtgAreaErr3d",f:OI},255:{}},FM={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},OM={1:{n:"PtgElfLel",f:h6},2:{n:"PtgElfRw",f:NM},3:{n:"PtgElfCol",f:gM},6:{n:"PtgElfRwV",f:SM},7:{n:"PtgElfColV",f:yM},10:{n:"PtgElfRadical",f:wM},11:{n:"PtgElfRadicalS",f:_M},13:{n:"PtgElfColS",f:xM},15:{n:"PtgElfColSV",f:vM},16:{n:"PtgElfRadicalLel",f:bM},25:{n:"PtgList",f:AM},29:{n:"PtgSxName",f:EM},255:{}},RM={0:{n:"PtgAttrNoop",f:LM},1:{n:"PtgAttrSemi",f:zI},2:{n:"PtgAttrIf",f:BI},4:{n:"PtgAttrChoose",f:II},8:{n:"PtgAttrGoto",f:MI},16:{n:"PtgAttrSum",f:XI},32:{n:"PtgAttrBaxcel",f:x4},33:{n:"PtgAttrBaxcel",f:x4},64:{n:"PtgAttrSpace",f:HI},65:{n:"PtgAttrSpaceSemi",f:$I},128:{n:"PtgAttrIfError",f:UI},255:{}};function DM(e,t,r,n){if(n.biff<8)return Po(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=sM(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=aM(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(Po(e,t)),s}function IM(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=v4[s]||v4[FM[s]],(s===24||s===25)&&(a=(s===24?OM:RM)[e[e.l+1]]),!a||!a.f?Po(e,t):o.push([a.n,a.f(e,t,r)]);return o}function MM(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var BM={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function UM(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function p6(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function y4(e,t,r){var n=p6(e,t,r);return n=="#REF"?n:UM(n,r)}function If(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,f,p=0,g=0,d,y="";if(!e[0]||!e[0][0])return"";for(var x=-1,_="",w=0,S=e[0].length;w<S;++w){var j=e[0][w];switch(j[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),x>=0){switch(e[0][x][1][0]){case 0:_=$n(" ",e[0][x][1][1]);break;case 1:_=$n("\r",e[0][x][1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}u=u+_,x=-1}l.push(u+BM[j[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=zd(j[1][1],o,a),l.push(Hd(f,s));break;case"PtgRefN":f=r?zd(j[1][1],r,a):j[1][1],l.push(Hd(f,s));break;case"PtgRef3d":p=j[1][1],f=zd(j[1][2],o,a),y=y4(n,p,a),l.push(y+"!"+Hd(f,s));break;case"PtgFunc":case"PtgFuncVar":var T=j[1][0],q=j[1][1];T||(T=0),T&=127;var se=T==0?[]:l.slice(-T);l.length-=T,q==="User"&&(q=se.shift()),l.push(q+"("+se.join(",")+")");break;case"PtgBool":l.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(j[1]);break;case"PtgNum":l.push(String(j[1]));break;case"PtgStr":l.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(j[1]);break;case"PtgAreaN":d=n4(j[1][1],r?{s:r}:o,a),l.push(kg(d,a));break;case"PtgArea":d=n4(j[1][1],o,a),l.push(kg(d,a));break;case"PtgArea3d":p=j[1][1],d=j[1][2],y=y4(n,p,a),l.push(y+"!"+kg(d,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=j[1][2];var L=(n.names||[])[g-1]||(n[0]||[])[g],k=L?L.Name:"SH33TJSNAME"+String(g);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var R=j[1][1];g=j[1][2];var Y;if(a.biff<=5)R<0&&(R=-R),n[R]&&(Y=n[R][g]);else{var P="";if(((n[R]||[])[0]||[])[0]==14849||(((n[R]||[])[0]||[])[0]==1025?n[R][g]&&n[R][g].itab>0&&(P=n.SheetNames[n[R][g].itab-1]+"!"):P=n.SheetNames[g-1]+"!"),n[R]&&n[R][g])P+=n[R][g].Name;else if(n[0]&&n[0][g])P+=n[0][g].Name;else{var B=(p6(n,R,a)||"").split(";;");B[g-1]?P=B[g-1]:P+="SH33TJSERRX"}l.push(P);break}Y||(Y={Name:"SH33TJSERRY"}),l.push(Y.Name);break;case"PtgParen":var z="(",te=")";if(x>=0){switch(_="",e[0][x][1][0]){case 2:z=$n(" ",e[0][x][1][1])+z;break;case 3:z=$n("\r",e[0][x][1][1])+z;break;case 4:te=$n(" ",e[0][x][1][1])+te;break;case 5:te=$n("\r",e[0][x][1][1])+te;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][x][1][0])}x=-1}l.push(z+l.pop()+te);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":f={c:j[1][1],r:j[1][0]};var de={c:r.c,r:r.r};if(n.sharedf[an(f)]){var X=n.sharedf[an(f)];l.push(If(X,o,de,n,a))}else{var W=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){l.push(If(u[1],o,de,n,a)),W=!0;break}W||l.push(j[1])}break;case"PtgArray":l.push("{"+MM(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var M=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&x>=0&&M.indexOf(e[0][w][0])==-1){j=e[0][x];var he=!0;switch(j[1][0]){case 4:he=!1;case 0:_=$n(" ",j[1][1]);break;case 5:he=!1;case 1:_=$n("\r",j[1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}l.push((he?_:"")+l.pop()+(he?"":_)),x=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function zM(e){if(e==null){var t=st(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return mu(e);return mu(0)}function HM(e,t,r,n,a){var s=gu(t,r,a),o=zM(e.v),l=st(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=st(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var p=Da([s,o,l,u]);return p}function Qm(e,t,r){var n=e.read_shift(4),a=IM(e,n,r),s=e.read_shift(4),o=s>0?DM(e,s,a,r):null;return[a,o]}var $M=Qm,Zm=Qm,WM=Qm,qM=Qm,VM={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},m6={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},GM={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function KM(e){var t="of:="+e.replace(Mv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function YM(e){return e.replace(/\./,"!")}var $d=typeof Map<"u";function zv(e,t,r){var n=0,a=e.length;if(r){if($d?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var s=$d?r.get(t):r[t];n<s.length;++n)if(e[s[n]].t===t)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&($d?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function e1(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(ml=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=cm(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=h2(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function g6(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Tc(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){fj(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function XM(e,t,r){if(e&&e["!ref"]){var n=An(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function JM(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+aa(e[r])+'"/>';return t+"</mergeCells>"}function QM(e,t,r,n,a){var s=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}s=!0,o.codeName=g0(rn(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+zt("outlinePr",null,u)}!s&&!l||(a[a.length]=zt("sheetPr",l,o))}var ZM=["objects","scenarios","selectLockedCells","selectUnlockedCells"],eB=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function tB(e){var t={sheet:1};return ZM.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),eB.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Zj(e.password).toString(16).toUpperCase()),zt("sheetProtection",null,t)}function rB(e){return g6(e),zt("pageMargins",null,e)}function nB(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=zt("col",null,e1(a,n)));return r[r.length]="</cols>",r.join("")}function aB(e,t,r,n){var a=typeof e.ref=="string"?e.ref:aa(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=si(a);o.s.r==o.e.r&&(o.e.r=si(t["!ref"]).e.r,a=aa(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),zt("autoFilter",null,{ref:a})}function sB(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),zt("sheetViews",zt("sheetView",null,a),{})}function iB(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=I0[e.v];break;case"d":n&&n.cellDates?a=gs(e.v,-1).toISOString():(e=Fs(e),e.t="n",a=""+(e.v=Ls(gs(e.v)))),typeof e.z>"u"&&(e.z=Wn[14]);break;default:a=e.v;break}var l=Ia("v",rn(a)),c={r:t},u=Tc(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Ia("v",""+zv(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=zt("f",rn(e.f),f)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),zt("c",l,c)}function oB(e,t,r,n){var a=[],s=[],o=An(e["!ref"]),l="",c,u="",f=[],p=0,g=0,d=e["!rows"],y=Array.isArray(e),x={r:u},_,w=-1;for(g=o.s.c;g<=o.e.c;++g)f[g]=ts(g);for(p=o.s.r;p<=o.e.r;++p){for(s=[],u=Ba(p),g=o.s.c;g<=o.e.c;++g){c=f[g]+u;var S=y?(e[p]||[])[g]:e[c];S!==void 0&&(l=iB(S,c,e,t))!=null&&s.push(l)}(s.length>0||d&&d[p])&&(x={r:u},d&&d[p]&&(_=d[p],_.hidden&&(x.hidden=1),w=-1,_.hpx?w=um(_.hpx):_.hpt&&(w=_.hpt),w>-1&&(x.ht=w,x.customHeight=1),_.level&&(x.outlineLevel=_.level)),a[a.length]=zt("row",s.join(""),x))}if(d)for(;p<d.length;++p)d&&d[p]&&(x={r:p+1},_=d[p],_.hidden&&(x.hidden=1),w=-1,_.hpx?w=um(_.hpx):_.hpt&&(w=_.hpt),w>-1&&(x.ht=w,x.customHeight=1),_.level&&(x.outlineLevel=_.level),a[a.length]=zt("row","",x));return a.join("")}function x6(e,t,r,n){var a=[sa,zt("worksheet",null,{xmlns:Vf[0],"xmlns:r":_a.r})],s=r.SheetNames[e],o=0,l="",c=r.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",f=An(u);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=aa(f)}n||(n={}),c["!comments"]=[];var p=[];QM(c,r,e,t,a),a[a.length]=zt("dimension",null,{ref:u}),a[a.length]=sB(c,t,e,r),t.sheetFormat&&(a[a.length]=zt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=nB(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=oB(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=tB(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=aB(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=JM(c["!merges"]));var g=-1,d,y=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(x){x[1].Target&&(d={ref:x[0]},x[1].Target.charAt(0)!="#"&&(y=en(n,-1,rn(x[1].Target).replace(/#.*$/,""),qr.HLINK),d["r:id"]="rId"+y),(g=x[1].Target.indexOf("#"))>-1&&(d.location=rn(x[1].Target.slice(g+1))),x[1].Tooltip&&(d.tooltip=rn(x[1].Tooltip)),a[a.length]=zt("hyperlink",null,d))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=rB(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ia("ignoredErrors",zt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(y=en(n,-1,"../drawings/drawing"+(e+1)+".xml",qr.DRAW),a[a.length]=zt("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=p),c["!comments"].length>0&&(y=en(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",qr.VML),a[a.length]=zt("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function lB(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}function cB(e,t,r){var n=st(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=um(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var p=-1,g=-1,d=f<<10;d<f+1<<10;++d){u.c=d;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[an(u)];y&&(p<0&&(p=d),g=d)}p<0||(++l,n.write_shift(4,p),n.write_shift(4,g))}var x=n.l;return n.l=c,n.write_shift(4,l),n.l=x,n.length>n.l?n.slice(0,n.l):n}function uB(e,t,r,n){var a=cB(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&wt(e,0,a)}var fB=ju,dB=Kf;function hB(){}function pB(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=SD(e),r}function mB(e,t,r){r==null&&(r=st(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return im({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Lj(e,r),r.slice(0,r.l)}function gB(e){var t=Pi(e);return[t]}function xB(e,t,r){return r==null&&(r=st(8)),_u(t,r)}function vB(e){var t=Nu(e);return[t]}function yB(e,t,r){return r==null&&(r=st(4)),Su(t,r)}function wB(e){var t=Pi(e),r=e.read_shift(1);return[t,r,"b"]}function bB(e,t,r){return r==null&&(r=st(9)),_u(t,r),r.write_shift(1,e.v?1:0),r}function _B(e){var t=Nu(e),r=e.read_shift(1);return[t,r,"b"]}function NB(e,t,r){return r==null&&(r=st(5)),Su(t,r),r.write_shift(1,e.v?1:0),r}function SB(e){var t=Pi(e),r=e.read_shift(1);return[t,r,"e"]}function jB(e,t,r){return r==null&&(r=st(9)),_u(t,r),r.write_shift(1,e.v),r}function AB(e){var t=Nu(e),r=e.read_shift(1);return[t,r,"e"]}function EB(e,t,r){return r==null&&(r=st(8)),Su(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function CB(e){var t=Pi(e),r=e.read_shift(4);return[t,r,"s"]}function kB(e,t,r){return r==null&&(r=st(12)),_u(t,r),r.write_shift(4,t.v),r}function TB(e){var t=Nu(e),r=e.read_shift(4);return[t,r,"s"]}function PB(e,t,r){return r==null&&(r=st(8)),Su(t,r),r.write_shift(4,t.v),r}function LB(e){var t=Pi(e),r=Yf(e);return[t,r,"n"]}function FB(e,t,r){return r==null&&(r=st(16)),_u(t,r),mu(e.v,r),r}function OB(e){var t=Nu(e),r=Yf(e);return[t,r,"n"]}function RB(e,t,r){return r==null&&(r=st(12)),Su(t,r),mu(e.v,r),r}function DB(e){var t=Pi(e),r=Fj(e);return[t,r,"n"]}function IB(e,t,r){return r==null&&(r=st(12)),_u(t,r),Oj(e.v,r),r}function MB(e){var t=Nu(e),r=Fj(e);return[t,r,"n"]}function BB(e,t,r){return r==null&&(r=st(8)),Su(t,r),Oj(e.v,r),r}function UB(e){var t=Pi(e),r=Fv(e);return[t,r,"is"]}function zB(e){var t=Pi(e),r=rs(e);return[t,r,"str"]}function HB(e,t,r){return r==null&&(r=st(12+4*e.v.length)),_u(t,r),Sa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function $B(e){var t=Nu(e),r=rs(e);return[t,r,"str"]}function WB(e,t,r){return r==null&&(r=st(8+4*e.v.length)),Su(t,r),Sa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function qB(e,t,r){var n=e.l+t,a=Pi(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=Zm(e,n-e.l,r);o[3]=If(l,null,a,r.supbooks,r)}else e.l=n;return o}function VB(e,t,r){var n=e.l+t,a=Pi(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=Zm(e,n-e.l,r);o[3]=If(l,null,a,r.supbooks,r)}else e.l=n;return o}function GB(e,t,r){var n=e.l+t,a=Pi(e);a.r=r["!row"];var s=Yf(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=Zm(e,n-e.l,r);o[3]=If(l,null,a,r.supbooks,r)}else e.l=n;return o}function KB(e,t,r){var n=e.l+t,a=Pi(e);a.r=r["!row"];var s=rs(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=Zm(e,n-e.l,r);o[3]=If(l,null,a,r.supbooks,r)}else e.l=n;return o}var YB=ju,XB=Kf;function JB(e,t){return t==null&&(t=st(4)),t.write_shift(4,e),t}function QB(e,t){var r=e.l+t,n=ju(e),a=Ov(e),s=rs(e),o=rs(e),l=rs(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function ZB(e,t){var r=st(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Kf({s:Na(e[0]),e:Na(e[0])},r),Rv("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Sa(a||"",r),Sa(e[1].Tooltip||"",r),Sa("",r),r.slice(0,r.l)}function eU(){}function tU(e,t,r){var n=e.l+t,a=Rj(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=$M(e,n-e.l,r);o[1]=l}else e.l=n;return o}function rU(e,t,r){var n=e.l+t,a=ju(e),s=[a];if(r.cellFormula){var o=qM(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}function nU(e,t,r){r==null&&(r=st(18));var n=e1(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var v6=["left","right","top","bottom","header","footer"];function aU(e){var t={};return v6.forEach(function(r){t[r]=Yf(e)}),t}function sU(e,t){return t==null&&(t=st(6*8)),g6(e),v6.forEach(function(r){mu(e[r],t)}),t}function iU(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function oU(e,t,r){r==null&&(r=st(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function lU(e){var t=st(24);return t.write_shift(4,4),t.write_shift(4,1),Kf(e,t),t}function cU(e,t){return t==null&&(t=st(16*4+2)),t.write_shift(2,e.password?Zj(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function uU(){}function fU(){}function dU(e,t,r,n,a,s,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Fs(t),t.z=t.z||Wn[14],t.v=Ls(gs(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=Tc(a.cellXfs,t,a),t.l&&s["!links"].push([an(c),t.l]),t.c&&s["!comments"].push([an(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=zv(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?wt(e,18,PB(t,c)):wt(e,7,kB(t,c))):(c.t="str",o?wt(e,17,WB(t,c)):wt(e,6,HB(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?wt(e,13,BB(t,c)):wt(e,2,IB(t,c)):o?wt(e,16,RB(t,c)):wt(e,5,FB(t,c)),!0;case"b":return c.t="b",o?wt(e,15,NB(t,c)):wt(e,4,bB(t,c)),!0;case"e":return c.t="e",o?wt(e,14,EB(t,c)):wt(e,3,jB(t,c)),!0}return o?wt(e,12,yB(t,c)):wt(e,1,xB(t,c)),!0}function hU(e,t,r,n){var a=An(t["!ref"]||"A1"),s,o="",l=[];wt(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var f=a.s.r;f<=u;++f){o=Ba(f),uB(e,t,a,f);var p=!1;if(f<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){f===a.s.r&&(l[g]=ts(g)),s=l[g]+o;var d=c?(t[f]||[])[g]:t[s];if(!d){p=!1;continue}p=dU(e,d,f,g,n,t,p)}}wt(e,146)}function pU(e,t){!t||!t["!merges"]||(wt(e,177,JB(t["!merges"].length)),t["!merges"].forEach(function(r){wt(e,176,XB(r))}),wt(e,178))}function mU(e,t){!t||!t["!cols"]||(wt(e,390),t["!cols"].forEach(function(r,n){r&&wt(e,60,nU(n,r))}),wt(e,391))}function gU(e,t){!t||!t["!ref"]||(wt(e,648),wt(e,649,lU(An(t["!ref"]))),wt(e,650))}function xU(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=en(r,-1,n[1].Target.replace(/#.*$/,""),qr.HLINK);wt(e,494,ZB(n,a))}}),delete t["!links"]}function vU(e,t,r,n){if(t["!comments"].length>0){var a=en(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",qr.VML);wt(e,551,Rv("rId"+a)),t["!legacy"]=a}}function yU(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:aa(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=si(s);l.s.r==l.e.r&&(l.e.r=si(t["!ref"]).e.r,s=aa(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),wt(e,161,Kf(An(s))),wt(e,162)}}function wU(e,t,r){wt(e,133),wt(e,137,oU(t,r)),wt(e,138),wt(e,134)}function bU(e,t){t["!protect"]&&wt(e,535,cU(t["!protect"]))}function _U(e,t,r,n){var a=Ps(),s=r.SheetNames[e],o=r.Sheets[s]||{},l=s;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=An(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],wt(a,129),(r.vbaraw||o["!outline"])&&wt(a,147,mB(l,o["!outline"])),wt(a,148,dB(c)),wU(a,o,r.Workbook),mU(a,o),hU(a,o,e,t),bU(a,o),yU(a,o,r,e),pU(a,o),xU(a,o,n),o["!margins"]&&wt(a,476,sU(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&gU(a,o),vU(a,o,e,n),wt(a,130),a.end()}function NU(e,t){e.l+=10;var r=rs(e);return{name:r}}var SU=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function jU(e){return!e.Workbook||!e.Workbook.WBProps?"false":rD(e.Workbook.WBProps.date1904)?"true":"false"}var AU="][*?/\\".split("");function y6(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return AU.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function EU(e,t,r){e.forEach(function(n,a){y6(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function CU(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];EU(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)XM(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function w6(e){var t=[sa];t[t.length]=zt("workbook",null,{xmlns:Vf[0],"xmlns:r":_a.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(SU.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=zt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:rn(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=zt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=zt("definedName",rn(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function kU(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=d2(e),r.name=rs(e),r}function TU(e,t){return t||(t=st(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Rv(e.strRelID,t),Sa(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function PU(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?rs(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function LU(e,t){t||(t=st(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Lj(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function FU(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=jD(e),o=WM(e,0,r),l=Ov(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function OU(e,t){wt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};wt(e,156,TU(a))}wt(e,144)}function RU(e,t){t||(t=st(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Sa("SheetJS",t),Sa(Qp.version,t),Sa(Qp.version,t),Sa("7262",t),t.length>t.l?t.slice(0,t.l):t}function DU(e,t){t||(t=st(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function IU(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&s==-1&&(s=n);s>a||(wt(e,135),wt(e,158,DU(a)),wt(e,136))}}function MU(e,t){var r=Ps();return wt(r,131),wt(r,128,RU()),wt(r,153,LU(e.Workbook&&e.Workbook.WBProps||null)),IU(r,e),OU(r,e),wt(r,132),r.end()}function BU(e,t,r){return(t.slice(-4)===".bin"?MU:w6)(e)}function UU(e,t,r,n,a){return(t.slice(-4)===".bin"?_U:x6)(e,r,n,a)}function zU(e,t,r){return(t.slice(-4)===".bin"?sI:r6)(e,r)}function HU(e,t,r){return(t.slice(-4)===".bin"?L9:Qj)(e,r)}function $U(e,t,r){return(t.slice(-4)===".bin"?bI:o6)(e)}function WU(e){return(e.slice(-4)===".bin"?hI:s6)()}function qU(e,t){var r=[];return e.Props&&r.push(zD(e.Props,t)),e.Custprops&&r.push(HD(e.Props,e.Custprops)),r.join("")}function VU(){return""}function GU(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var s=[];s.push(zt("NumberFormat",null,{"ss:Format":rn(Wn[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(zt("Style",s.join(""),o))}),zt("Styles",r.join(""))}function b6(e){return zt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Bv(e.Ref,{r:0,c:0})})}function KU(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(b6(a)))}return zt("Names",r.join(""))}function YU(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||s.push(b6(l)))}return s.join("")}function XU(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(zt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(zt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(zt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(zt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ia("ProtectContents","True")),e["!protect"].objects&&a.push(Ia("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ia("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ia("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ia("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":zt("WorksheetOptions",a.join(""),{xmlns:Qs.x})}function JU(e){return e.map(function(t){var r=tD(t.t||""),n=zt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return zt("Comment",n,{"ss:Author":t.a})}).join("")}function QU(e,t,r,n,a,s,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+rn(Bv(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Na(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=rn(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=rn(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(l["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(l["ss:MergeDown"]=u[f].e.r-u[f].s.r));var p="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(e.v);break;case"b":p="Boolean",g=e.v?"1":"0";break;case"e":p="Error",g=I0[e.v];break;case"d":p="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Wn[14]);break;case"s":p="String",g=eD(e.v||"");break}var d=Tc(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+d),l["ss:Index"]=o.c+1;var y=e.v!=null?g:"",x=e.t=="z"?"":'<Data ss:Type="'+p+'">'+y+"</Data>";return(e.c||[]).length>0&&(x+=JU(e.c)),zt("Cell",x,l)}function ZU(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=t6(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function ez(e,t,r,n){if(!e["!ref"])return"";var a=An(e["!ref"]),s=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(_,w){Iv(_);var S=!!_.width,j=e1(w,_),T={"ss:Index":w+1};S&&(T["ss:Width"]=lm(j.width)),_.hidden&&(T["ss:Hidden"]="1"),l.push(zt("Column",null,T))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var f=[ZU(u,(e["!rows"]||[])[u])],p=a.s.c;p<=a.e.c;++p){var g=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>p)&&!(s[o].s.r>u)&&!(s[o].e.c<p)&&!(s[o].e.r<u)){(s[o].s.c!=p||s[o].s.r!=u)&&(g=!0);break}if(!g){var d={r:u,c:p},y=an(d),x=c?(e[u]||[])[p]:e[y];f.push(QU(x,y,e,t,r,n,d))}}f.push("</Row>"),f.length>2&&l.push(f.join(""))}return l.join("")}function tz(e,t,r){var n=[],a=r.SheetNames[e],s=r.Sheets[a],o=s?YU(s,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=s?ez(s,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(XU(s,t,e,r)),n.join("")}function rz(e,t){t||(t={}),e.SSF||(e.SSF=Fs(Wn)),e.SSF&&(Ym(),Km(e.SSF),t.revssf=Xm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Tc(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(qU(e,t)),r.push(VU()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(zt("Worksheet",tz(n,t,e),{"ss:Name":rn(e.SheetNames[n])}));return r[2]=GU(e,t),r[3]=KU(e),sa+zt("Workbook",r.join(""),{xmlns:Qs.ss,"xmlns:o":Qs.o,"xmlns:x":Qs.x,"xmlns:ss":Qs.ss,"xmlns:dt":Qs.dt,"xmlns:html":Qs.html})}var Lg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function nz(e,t){var r=[],n=[],a=[],s=0,o,l=Vb(s4,"n"),c=Vb(i4,"n");if(e.Props)for(o=za(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=za(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(l,o[s])?r:Object.prototype.hasOwnProperty.call(c,o[s])?n:a).push([o[s],e.Custprops[o[s]]]);var u=[];for(s=0;s<a.length;++s)qj.indexOf(a[s][0])>-1||Hj.indexOf(a[s][0])>-1||a[s][1]!=null&&u.push(a[s]);n.length&&cn.utils.cfb_add(t,"/SummaryInformation",f4(n,Lg.SI,c,i4)),(r.length||u.length)&&cn.utils.cfb_add(t,"/DocumentSummaryInformation",f4(r,Lg.DSI,l,s4,u.length?u:null,Lg.UDI))}function az(e,t){var r=t||{},n=cn.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return cn.utils.cfb_add(n,a,_6(e,r)),r.biff==8&&(e.Props||e.Custprops)&&nz(e,n),r.biff==8&&e.vbaraw&&_I(n,cn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var sz={0:{f:lB},1:{f:gB},2:{f:DB},3:{f:SB},4:{f:wB},5:{f:LB},6:{f:zB},7:{f:CB},8:{f:KB},9:{f:GB},10:{f:qB},11:{f:VB},12:{f:vB},13:{f:MB},14:{f:AB},15:{f:_B},16:{f:OB},17:{f:$B},18:{f:TB},19:{f:Fv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:FU},40:{},42:{},43:{f:z9},44:{f:B9},45:{f:W9},46:{f:V9},47:{f:q9},48:{},49:{f:vD},50:{},51:{f:lI},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:y9},62:{f:UB},63:{f:pI},64:{f:uU},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Po,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:iU},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:pB},148:{f:fB,p:16},151:{f:eU},152:{},153:{f:PU},154:{},155:{},156:{f:kU},157:{},158:{},159:{T:1,f:k9},160:{T:-1},161:{T:1,f:ju},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:YB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:iI},336:{T:-1},337:{f:fI,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:d2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:h9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:tU},427:{f:rU},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:aU},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:hB},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:QB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:d2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:yI},633:{T:1},634:{T:-1},635:{T:1,f:xI},636:{T:-1},637:{f:_D},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:NU},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:fU},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ht(e,t,r,n){var a=t;if(!isNaN(a)){var s=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&Tv(r)&&e.push(r)}}function iz(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Ht(e,t,r,a);var s=t;if(!isNaN(s)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var f=e.next(4);for(f.write_shift(2,s),f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function B0(e,t,r){return e||(e=st(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function oz(e,t,r,n){var a=st(9);return B0(a,e,t),Gj(r,n||"b",a),a}function lz(e,t,r){var n=st(8+2*r.length);return B0(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function cz(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ls(gs(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Ht(e,2,N9(r,n,a)):Ht(e,3,_9(r,n,a));return;case"b":case"e":Ht(e,5,oz(r,n,t.v,t.t));return;case"s":case"str":Ht(e,4,lz(r,n,(t.v||"").slice(0,255)));return}Ht(e,1,B0(null,r,n))}function uz(e,t,r,n){var a=Array.isArray(t),s=An(t["!ref"]||"A1"),o,l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=aa(s)}for(var u=s.s.r;u<=s.e.r;++u){l=Ba(u);for(var f=s.s.c;f<=s.e.c;++f){u===s.s.r&&(c[f]=ts(f)),o=c[f]+l;var p=a?(t[u]||[])[f]:t[o];p&&cz(e,p,u,f)}}}function fz(e,t){for(var r=t||{},n=Ps(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==r.sheet&&(a=s);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ht(n,r.biff==4?1033:r.biff==3?521:9,Dv(e,16,r)),uz(n,e.Sheets[e.SheetNames[a]],a,r),Ht(n,10),n.end()}function dz(e,t,r){Ht(e,49,s9({sz:12,name:"Arial"},r))}function hz(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ht(e,1054,l9(a,t[a],r))})}function pz(e,t){var r=st(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ht(e,2151,r),r=st(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Xj(An(t["!ref"]||"A1"),r),r.write_shift(4,4),Ht(e,2152,r)}function mz(e,t){for(var r=0;r<16;++r)Ht(e,224,h4({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ht(e,224,h4(n,0,t))})}function gz(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Ht(e,440,g9(n)),n[1].Tooltip&&Ht(e,2048,x9(n))}delete t["!links"]}function xz(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Ht(e,125,w9(e1(a,n),a))})}}function vz(e,t,r,n,a){var s=16+Tc(a.cellXfs,t,a);if(t.v==null&&!t.bf){Ht(e,513,gu(r,n,s));return}if(t.bf)Ht(e,6,HM(t,r,n,a,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?Ls(gs(t.v)):t.v;Ht(e,515,d9(r,n,o,s));break;case"b":case"e":Ht(e,517,f9(r,n,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var l=zv(a.Strings,t.v,a.revStrings);Ht(e,253,i9(r,n,l,s))}else Ht(e,516,o9(r,n,(t.v||"").slice(0,255),s,a));break;default:Ht(e,513,gu(r,n,s))}}function yz(e,t,r){var n=Ps(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(s),u=t.biff==8,f,p="",g=[],d=An(s["!ref"]||"A1"),y=u?65536:16384;if(d.e.c>255||d.e.r>=y){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");d.e.c=Math.min(d.e.c,255),d.e.r=Math.min(d.e.c,y-1)}Ht(n,2057,Dv(r,16,t)),Ht(n,13,yi(1)),Ht(n,12,yi(100)),Ht(n,15,hs(!0)),Ht(n,17,hs(!1)),Ht(n,16,mu(.001)),Ht(n,95,hs(!0)),Ht(n,42,hs(!1)),Ht(n,43,hs(!1)),Ht(n,130,yi(1)),Ht(n,128,u9()),Ht(n,131,hs(!1)),Ht(n,132,hs(!1)),u&&xz(n,s["!cols"]),Ht(n,512,c9(d,t)),u&&(s["!links"]=[]);for(var x=d.s.r;x<=d.e.r;++x){p=Ba(x);for(var _=d.s.c;_<=d.e.c;++_){x===d.s.r&&(g[_]=ts(_)),f=g[_]+p;var w=c?(s[x]||[])[_]:s[f];w&&(vz(n,w,x,_,t),u&&w.l&&s["!links"].push([f,w.l]))}}var S=l.CodeName||l.name||a;return u&&Ht(n,574,a9((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&Ht(n,229,m9(s["!merges"])),u&&gz(n,s),Ht(n,442,Yj(S)),u&&pz(n,s),Ht(n,10),n.end()}function wz(e,t,r){var n=Ps(),a=(e||{}).Workbook||{},s=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Ht(n,2057,Dv(e,5,r)),r.bookType=="xla"&&Ht(n,135),Ht(n,225,l?yi(1200):null),Ht(n,193,qD(2)),c&&Ht(n,191),c&&Ht(n,192),Ht(n,226),Ht(n,92,e9("SheetJS",r)),Ht(n,66,yi(l?1200:1252)),l&&Ht(n,353,yi(0)),l&&Ht(n,448),Ht(n,317,b9(e.SheetNames.length)),l&&e.vbaraw&&Ht(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Ht(n,442,Yj(u))}Ht(n,156,yi(17)),Ht(n,25,hs(!1)),Ht(n,18,hs(!1)),Ht(n,19,yi(0)),l&&Ht(n,431,hs(!1)),l&&Ht(n,444,yi(0)),Ht(n,61,n9()),Ht(n,64,hs(!1)),Ht(n,141,yi(0)),Ht(n,34,hs(jU(e)=="true")),Ht(n,14,hs(!0)),l&&Ht(n,439,hs(!1)),Ht(n,218,yi(0)),dz(n,e,r),hz(n,e.SSF,r),mz(n,r),l&&Ht(n,352,hs(!1));var f=n.end(),p=Ps();l&&Ht(p,140,v9()),l&&r.Strings&&iz(p,252,r9(r.Strings)),Ht(p,10);var g=p.end(),d=Ps(),y=0,x=0;for(x=0;x<e.SheetNames.length;++x)y+=(l?12:11)+(l?2:1)*e.SheetNames[x].length;var _=f.length+y+g.length;for(x=0;x<e.SheetNames.length;++x){var w=s[x]||{};Ht(d,133,t9({pos:_,hs:w.Hidden||0,dt:0,name:e.SheetNames[x]},r)),_+=t[x].length}var S=d.end();if(y!=S.length)throw new Error("BS8 "+y+" != "+S.length);var j=[];return f.length&&j.push(f),S.length&&j.push(S),g.length&&j.push(g),Da(j)}function bz(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Fs(Wn)),e&&e.SSF&&(Ym(),Km(e.SSF),r.revssf=Xm(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Hv(r),r.cellXfs=[],Tc(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=yz(a,r,e);return n.unshift(wz(e,n,r)),Da(n)}function _6(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=si(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return bz(e,t);case 4:case 3:case 2:return fz(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function _z(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var f=an({r,c:o}),p=n.dense?(e[r]||[])[o]:e[f],g=p&&p.v!=null&&(p.h||ZR(p.w||(Nl(p),p.w)||""))||"",d={};l>1&&(d.rowspan=l),c>1&&(d.colspan=c),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(d["data-t"]=p&&p.t||"z",p.v!=null&&(d["data-v"]=p.v),p.z!=null&&(d["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),d.id=(n.id||"sjs")+"-"+f,s.push(zt("td",g,d))}}var y="<tr>";return y+s.join("")+"</tr>"}var Nz='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Sz="</body></html>";function jz(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function N6(e,t){var r=t||{},n=r.header!=null?r.header:Nz,a=r.footer!=null?r.footer:Sz,s=[n],o=si(e["!ref"]);r.dense=Array.isArray(e),s.push(jz(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(_z(e,o,l,r));return s.push("</table>"+a),s.join("")}function S6(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Na(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var f=si(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),a==-1&&(u.e.r=a=f.e.r+1)}var p=[],g=0,d=e["!rows"]||(e["!rows"]=[]),y=0,x=0,_=0,w=0,S=0,j=0;for(e["!cols"]||(e["!cols"]=[]);y<l.length&&x<c;++y){var T=l[y];if(w4(T)){if(n.display)continue;d[x]={hidden:!0}}var q=T.children;for(_=w=0;_<q.length;++_){var se=q[_];if(!(n.display&&w4(se))){var L=se.hasAttribute("data-v")?se.getAttribute("data-v"):se.hasAttribute("v")?se.getAttribute("v"):nD(se.innerHTML),k=se.getAttribute("data-z")||se.getAttribute("z");for(g=0;g<p.length;++g){var R=p[g];R.s.c==w+s&&R.s.r<x+a&&x+a<=R.e.r&&(w=R.e.c+1-s,g=-1)}j=+se.getAttribute("colspan")||1,((S=+se.getAttribute("rowspan")||1)>1||j>1)&&p.push({s:{r:x+a,c:w+s},e:{r:x+a+(S||1)-1,c:w+s+(j||1)-1}});var Y={t:"s",v:L},P=se.getAttribute("data-t")||se.getAttribute("t")||"";L!=null&&(L.length==0?Y.t=P||"z":n.raw||L.trim().length==0||P=="s"||(L==="TRUE"?Y={t:"b",v:!0}:L==="FALSE"?Y={t:"b",v:!1}:isNaN(pl(L))?isNaN(m0(L).getDate())||(Y={t:"d",v:gs(L)},n.cellDates||(Y={t:"n",v:Ls(Y.v)}),Y.z=n.dateNF||Wn[14]):Y={t:"n",v:pl(L)})),Y.z===void 0&&k!=null&&(Y.z=k);var B="",z=se.getElementsByTagName("A");if(z&&z.length)for(var te=0;te<z.length&&!(z[te].hasAttribute("href")&&(B=z[te].getAttribute("href"),B.charAt(0)!="#"));++te);B&&B.charAt(0)!="#"&&(Y.l={Target:B}),n.dense?(e[x+a]||(e[x+a]=[]),e[x+a][w+s]=Y):e[an({c:w+s,r:x+a})]=Y,u.e.c<w+s&&(u.e.c=w+s),w+=j}}++x}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,x-1+a),e["!ref"]=aa(u),x>=c&&(e["!fullref"]=aa((u.e.r=l.length-y+x-1+a,u))),e}function j6(e,t){var r=t||{},n=r.dense?[]:{};return S6(n,e,t)}function Az(e,t){return bu(j6(e,t),t)}function w4(e){var t="",r=Ez(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Ez(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Cz=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+x0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return sa+t}}(),b4=function(){var e=function(s){return rn(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,o,l){var c=[];c.push('      <table:table table:name="'+rn(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,f=0,p=si(s["!ref"]||"A1"),g=s["!merges"]||[],d=0,y=Array.isArray(s);if(s["!cols"])for(f=0;f<=p.e.c;++f)c.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var x="",_=s["!rows"]||[];for(u=0;u<p.s.r;++u)x=_[u]?' table:style-name="ro'+_[u].ods+'"':"",c.push("        <table:table-row"+x+`></table:table-row>
`);for(;u<=p.e.r;++u){for(x=_[u]?' table:style-name="ro'+_[u].ods+'"':"",c.push("        <table:table-row"+x+`>
`),f=0;f<p.s.c;++f)c.push(t);for(;f<=p.e.c;++f){var w=!1,S={},j="";for(d=0;d!=g.length;++d)if(!(g[d].s.c>f)&&!(g[d].s.r>u)&&!(g[d].e.c<f)&&!(g[d].e.r<u)){(g[d].s.c!=f||g[d].s.r!=u)&&(w=!0),S["table:number-columns-spanned"]=g[d].e.c-g[d].s.c+1,S["table:number-rows-spanned"]=g[d].e.r-g[d].s.r+1;break}if(w){c.push(r);continue}var T=an({r:u,c:f}),q=y?(s[u]||[])[f]:s[T];if(q&&q.f&&(S["table:formula"]=rn(KM(q.f)),q.F&&q.F.slice(0,T.length)==T)){var se=si(q.F);S["table:number-matrix-columns-spanned"]=se.e.c-se.s.c+1,S["table:number-matrix-rows-spanned"]=se.e.r-se.s.r+1}if(!q){c.push(t);continue}switch(q.t){case"b":j=q.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=q.v?"true":"false";break;case"n":j=q.w||String(q.v||0),S["office:value-type"]="float",S["office:value"]=q.v||0;break;case"s":case"str":j=q.v==null?"":q.v,S["office:value-type"]="string";break;case"d":j=q.w||gs(q.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=gs(q.v).toISOString(),S["table:style-name"]="ce1";break;default:c.push(t);continue}var L=e(j);if(q.l&&q.l.Target){var k=q.l.Target;k=k.charAt(0)=="#"?"#"+YM(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),L=zt("text:a",L,{"xlink:href":k.replace(/&/g,"&amp;")})}c.push("          "+zt("table:table-cell",zt("text:p",L,{}),S)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var p=u["!cols"][f];if(p.width==null&&p.wpx==null&&p.wch==null)continue;Iv(p),p.ods=l;var g=u["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=c;var p=u["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,l){var c=[sa],u=x0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=x0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+f+`>
`),c.push(Uj().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)c.push(n(o.Sheets[o.SheetNames[p]],o,p));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function A6(e,t){if(t.bookType=="fods")return b4(e,t);var r=Av(),n="",a=[],s=[];return n="mimetype",Pr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Pr(r,n,b4(e,t)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Pr(r,n,Cz(e,t)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Pr(r,n,sa+Uj()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Pr(r,n,UD(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Pr(r,n,MD(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function fm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function kz(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Xi(g0(e))}function Tz(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Sc(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Pz(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=r>=0?0:128}function v0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Zr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Af(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function fa(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=v0(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=v0(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Fa(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Zr(n*8+a.type)),a.type==2&&t.push(Zr(a.data.length)),t.push(a.data))})}),Sc(t)}function Wi(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=v0(e,n),s=fa(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Af(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=fa(l.data),u=Af(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=Af(s[3][0].data)>>>0>0),r.push(o)}return r}function Mu(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Zr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Zr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Zr(o.data.length)}],n[2].push({data:Fa(o.meta),type:2})});var s=Fa(n);t.push(Zr(s.length)),t.push(s),a.forEach(function(o){return t.push(o)})}),Sc(t)}function Lz(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=v0(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Sc(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var f=Sc(a);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function qi(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Lz(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Sc(t)}function Bu(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var s=Zr(n),o=s.length;t.push(s),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Sc(t)}function Fg(e,t){var r=new Uint8Array(32),n=fm(r),a=12,s=0;switch(r[0]=5,e.t){case"n":r[1]=2,Pz(r,a,e.v),s|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),r.slice(0,a)}function Og(e,t){var r=new Uint8Array(32),n=fm(r),a=12,s=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),r.slice(0,a)}function Gl(e){var t=fa(e);return v0(t[1][0].data)}function Fz(e,t,r){var n,a,s,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&Af(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=fm(e[7][0].data),f=0,p=[],g=fm(e[4][0].data),d=0,y=[],x=0;x<t.length;++x){if(t[x]==null){u.setUint16(x*2,65535,!0),g.setUint16(x*2,65535);continue}u.setUint16(x*2,f,!0),g.setUint16(x*2,d,!0);var _,w;switch(typeof t[x]){case"string":_=Fg({t:"s",v:t[x]},r),w=Og({t:"s",v:t[x]},r);break;case"number":_=Fg({t:"n",v:t[x]},r),w=Og({t:"n",v:t[x]},r);break;case"boolean":_=Fg({t:"b",v:t[x]},r),w=Og({t:"b",v:t[x]},r);break;default:throw new Error("Unsupported value "+t[x])}p.push(_),f+=_.length,y.push(w),d+=w.length,++c}for(e[2][0].data=Zr(c);x<e[7][0].data.length/2;++x)u.setUint16(x*2,65535,!0),g.setUint16(x*2,65535,!0);return e[6][0].data=Sc(p),e[3][0].data=Sc(y),c}function Oz(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=si(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(aa(n)));var s=dm(r,{range:n,header:1}),o=["~Sh33tJ5~"];s.forEach(function(H){return H.forEach(function(D){typeof D=="string"&&o.push(D)})});var l={},c=[],u=cn.read(t.numbers,{type:"base64"});u.FileIndex.map(function(H,D){return[H,u.FullPaths[D]]}).forEach(function(H){var D=H[0],I=H[1];if(D.type==2&&D.name.match(/\.iwa/)){var ne=D.content,ge=qi(ne),Ee=Wi(ge);Ee.forEach(function(xe){c.push(xe.id),l[xe.id]={deps:[],location:I,type:Af(xe.messages[0].meta[1][0].data)}})}}),c.sort(function(H,D){return H-D});var f=c.filter(function(H){return H>1}).map(function(H){return[H,Zr(H)]});u.FileIndex.map(function(H,D){return[H,u.FullPaths[D]]}).forEach(function(H){var D=H[0];if(H[1],!!D.name.match(/\.iwa/)){var I=Wi(qi(D.content));I.forEach(function(ne){ne.messages.forEach(function(ge){f.forEach(function(Ee){ne.messages.some(function(xe){return Af(xe.meta[1][0].data)!=11006&&Tz(xe.data,Ee[1])})&&l[Ee[0]].deps.push(ne.id)})})})}});for(var p=cn.find(u,l[1].location),g=Wi(qi(p.content)),d,y=0;y<g.length;++y){var x=g[y];x.id==1&&(d=x)}var _=Gl(fa(d.messages[0].data)[1][0].data);for(p=cn.find(u,l[_].location),g=Wi(qi(p.content)),y=0;y<g.length;++y)x=g[y],x.id==_&&(d=x);for(_=Gl(fa(d.messages[0].data)[2][0].data),p=cn.find(u,l[_].location),g=Wi(qi(p.content)),y=0;y<g.length;++y)x=g[y],x.id==_&&(d=x);for(_=Gl(fa(d.messages[0].data)[2][0].data),p=cn.find(u,l[_].location),g=Wi(qi(p.content)),y=0;y<g.length;++y)x=g[y],x.id==_&&(d=x);var w=fa(d.messages[0].data);{w[6][0].data=Zr(n.e.r+1),w[7][0].data=Zr(n.e.c+1);var S=Gl(w[46][0].data),j=cn.find(u,l[S].location),T=Wi(qi(j.content));{for(var q=0;q<T.length&&T[q].id!=S;++q);if(T[q].id!=S)throw"Bad ColumnRowUIDMapArchive";var se=fa(T[q].messages[0].data);se[1]=[],se[2]=[],se[3]=[];for(var L=0;L<=n.e.c;++L){var k=[];k[1]=k[2]=[{type:0,data:Zr(L+420690)}],se[1].push({type:2,data:Fa(k)}),se[2].push({type:0,data:Zr(L)}),se[3].push({type:0,data:Zr(L)})}se[4]=[],se[5]=[],se[6]=[];for(var R=0;R<=n.e.r;++R)k=[],k[1]=k[2]=[{type:0,data:Zr(R+726270)}],se[4].push({type:2,data:Fa(k)}),se[5].push({type:0,data:Zr(R)}),se[6].push({type:0,data:Zr(R)});T[q].messages[0].data=Fa(se)}j.content=Bu(Mu(T)),j.size=j.content.length,delete w[46];var Y=fa(w[4][0].data);{Y[7][0].data=Zr(n.e.r+1);var P=fa(Y[1][0].data),B=Gl(P[2][0].data);j=cn.find(u,l[B].location),T=Wi(qi(j.content));{if(T[0].id!=B)throw"Bad HeaderStorageBucket";var z=fa(T[0].messages[0].data);for(R=0;R<s.length;++R){var te=fa(z[2][0].data);te[1][0].data=Zr(R),te[4][0].data=Zr(s[R].length),z[2][R]={type:z[2][0].type,data:Fa(te)}}T[0].messages[0].data=Fa(z)}j.content=Bu(Mu(T)),j.size=j.content.length;var de=Gl(Y[2][0].data);j=cn.find(u,l[de].location),T=Wi(qi(j.content));{if(T[0].id!=de)throw"Bad HeaderStorageBucket";for(z=fa(T[0].messages[0].data),L=0;L<=n.e.c;++L)te=fa(z[2][0].data),te[1][0].data=Zr(L),te[4][0].data=Zr(n.e.r+1),z[2][L]={type:z[2][0].type,data:Fa(te)};T[0].messages[0].data=Fa(z)}j.content=Bu(Mu(T)),j.size=j.content.length;var X=Gl(Y[4][0].data);(function(){for(var H=cn.find(u,l[X].location),D=Wi(qi(H.content)),I,ne=0;ne<D.length;++ne){var ge=D[ne];ge.id==X&&(I=ge)}var Ee=fa(I.messages[0].data);{Ee[3]=[];var xe=[];o.forEach(function(Ve,it){xe[1]=[{type:0,data:Zr(it)}],xe[2]=[{type:0,data:Zr(1)}],xe[3]=[{type:2,data:kz(Ve)}],Ee[3].push({type:2,data:Fa(xe)})})}I.messages[0].data=Fa(Ee);var Z=Mu(D),Me=Bu(Z);H.content=Me,H.size=H.content.length})();var W=fa(Y[3][0].data);{var M=W[1][0];delete W[2];var he=fa(M.data);{var Se=Gl(he[2][0].data);(function(){for(var H=cn.find(u,l[Se].location),D=Wi(qi(H.content)),I,ne=0;ne<D.length;++ne){var ge=D[ne];ge.id==Se&&(I=ge)}var Ee=fa(I.messages[0].data);{delete Ee[6],delete W[7];var xe=new Uint8Array(Ee[5][0].data);Ee[5]=[];for(var Z=0,Me=0;Me<=n.e.r;++Me){var Ve=fa(xe);Z+=Fz(Ve,s[Me],o),Ve[1][0].data=Zr(Me),Ee[5].push({data:Fa(Ve),type:2})}Ee[1]=[{type:0,data:Zr(n.e.c+1)}],Ee[2]=[{type:0,data:Zr(n.e.r+1)}],Ee[3]=[{type:0,data:Zr(Z)}],Ee[4]=[{type:0,data:Zr(n.e.r+1)}]}I.messages[0].data=Fa(Ee);var it=Mu(D),dt=Bu(it);H.content=dt,H.size=H.content.length})()}M.data=Fa(he)}Y[3][0].data=Fa(W)}w[4][0].data=Fa(Y)}d.messages[0].data=Fa(w);var le=Mu(g),A=Bu(le);return p.content=A,p.size=p.content.length,u}function Rz(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function Hv(e){Rz([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Dz(e,t){return t.bookType=="ods"?A6(e,t):t.bookType=="numbers"?Oz(e,t):t.bookType=="xlsb"?Iz(e,t):Mz(e,t)}function Iz(e,t){lf=1024,e&&!e.SSF&&(e.SSF=Fs(Wn)),e&&e.SSF&&(Ym(),Km(e.SSF),t.revssf=Xm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,$d?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=l6.indexOf(t.bookType)>-1,a=Ij();Hv(t=t||{});var s=Av(),o="",l=0;if(t.cellXfs=[],Tc(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Pr(s,o,zj(e.Props,t)),a.coreprops.push(o),en(t.rels,2,o,qr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Pr(s,o,$j(e.Props)),a.extprops.push(o),en(t.rels,3,o,qr.EXT_PROPS),e.Custprops!==e.Props&&za(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Pr(s,o,Wj(e.Custprops)),a.custprops.push(o),en(t.rels,4,o,qr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},p=e.Sheets[e.SheetNames[l-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Pr(s,o,UU(l-1,o,t,e,f)),a.sheets.push(o),en(t.wbrels,-1,"worksheets/sheet"+l+"."+r,qr.WS[0])}if(p){var d=p["!comments"],y=!1,x="";d&&d.length>0&&(x="xl/comments"+l+"."+r,Pr(s,x,$U(d,x)),a.comments.push(x),en(f,-1,"../comments"+l+"."+r,qr.CMNT),y=!0),p["!legacy"]&&y&&Pr(s,"xl/drawings/vmlDrawing"+l+".vml",i6(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&Pr(s,Bj(o),Sf(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Pr(s,o,HU(t.Strings,o,t)),a.strs.push(o),en(t.wbrels,-1,"sharedStrings."+r,qr.SST)),o="xl/workbook."+r,Pr(s,o,BU(e,o)),a.workbooks.push(o),en(t.rels,1,o,qr.WB),o="xl/theme/theme1.xml",Pr(s,o,a6(e.Themes,t)),a.themes.push(o),en(t.wbrels,-1,"theme/theme1.xml",qr.THEME),o="xl/styles."+r,Pr(s,o,zU(e,o,t)),a.styles.push(o),en(t.wbrels,-1,"styles."+r,qr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Pr(s,o,e.vbaraw),a.vba.push(o),en(t.wbrels,-1,"vbaProject.bin",qr.VBA)),o="xl/metadata."+r,Pr(s,o,WU(o)),a.metadata.push(o),en(t.wbrels,-1,"metadata."+r,qr.XLMETA),Pr(s,"[Content_Types].xml",Mj(a,t)),Pr(s,"_rels/.rels",Sf(t.rels)),Pr(s,"xl/_rels/workbook."+r+".rels",Sf(t.wbrels)),delete t.revssf,delete t.ssf,s}function Mz(e,t){lf=1024,e&&!e.SSF&&(e.SSF=Fs(Wn)),e&&e.SSF&&(Ym(),Km(e.SSF),t.revssf=Xm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,$d?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=l6.indexOf(t.bookType)>-1,a=Ij();Hv(t=t||{});var s=Av(),o="",l=0;if(t.cellXfs=[],Tc(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Pr(s,o,zj(e.Props,t)),a.coreprops.push(o),en(t.rels,2,o,qr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Pr(s,o,$j(e.Props)),a.extprops.push(o),en(t.rels,3,o,qr.EXT_PROPS),e.Custprops!==e.Props&&za(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Pr(s,o,Wj(e.Custprops)),a.custprops.push(o),en(t.rels,4,o,qr.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var p={"!id":{}},g=e.Sheets[e.SheetNames[l-1]],d=(g||{})["!type"]||"sheet";switch(d){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Pr(s,o,x6(l-1,t,e,p)),a.sheets.push(o),en(t.wbrels,-1,"worksheets/sheet"+l+"."+r,qr.WS[0])}if(g){var y=g["!comments"],x=!1,_="";if(y&&y.length>0){var w=!1;y.forEach(function(S){S[1].forEach(function(j){j.T==!0&&(w=!0)})}),w&&(_="xl/threadedComments/threadedComment"+l+"."+r,Pr(s,_,mI(y,f,t)),a.threadedcomments.push(_),en(p,-1,"../threadedComments/threadedComment"+l+"."+r,qr.TCMNT)),_="xl/comments"+l+"."+r,Pr(s,_,o6(y)),a.comments.push(_),en(p,-1,"../comments"+l+"."+r,qr.CMNT),x=!0}g["!legacy"]&&x&&Pr(s,"xl/drawings/vmlDrawing"+l+".vml",i6(l,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Pr(s,Bj(o),Sf(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Pr(s,o,Qj(t.Strings,t)),a.strs.push(o),en(t.wbrels,-1,"sharedStrings."+r,qr.SST)),o="xl/workbook."+r,Pr(s,o,w6(e)),a.workbooks.push(o),en(t.rels,1,o,qr.WB),o="xl/theme/theme1.xml",Pr(s,o,a6(e.Themes,t)),a.themes.push(o),en(t.wbrels,-1,"theme/theme1.xml",qr.THEME),o="xl/styles."+r,Pr(s,o,r6(e,t)),a.styles.push(o),en(t.wbrels,-1,"styles."+r,qr.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Pr(s,o,e.vbaraw),a.vba.push(o),en(t.wbrels,-1,"vbaProject.bin",qr.VBA)),o="xl/metadata."+r,Pr(s,o,s6()),a.metadata.push(o),en(t.wbrels,-1,"metadata."+r,qr.XLMETA),f.length>1&&(o="xl/persons/person.xml",Pr(s,o,gI(f)),a.people.push(o),en(t.wbrels,-1,"persons/person.xml",qr.PEOPLE)),Pr(s,"[Content_Types].xml",Mj(a,t)),Pr(s,"_rels/.rels",Sf(t.rels)),Pr(s,"xl/_rels/workbook."+r+".rels",Sf(t.wbrels)),delete t.revssf,delete t.ssf,s}function Bz(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=_l(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function E6(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return R0(t.file,cn.write(e,{type:Gr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return cn.write(e,t)}function Uz(e,t){var r=Fs(t||{}),n=Dz(e,r);return zz(n,r)}function zz(e,t){var r={},n=Gr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?cn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Gm(a))}return t.password&&typeof encrypt_agile<"u"?E6(encrypt_agile(a,t.password),t):t.type==="file"?R0(t.file,a):t.type=="string"?Bd(a):a}function Hz(e,t){var r=t||{},n=az(e,r);return E6(n,r)}function _o(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return p0(g0(n));case"binary":return g0(n);case"string":return e;case"file":return R0(t.file,n,"utf8");case"buffer":return Gr?Al(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):_o(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function $z(e,t){switch(t.type){case"base64":return p0(e);case"binary":return e;case"string":return e;case"file":return R0(t.file,e,"binary");case"buffer":return Gr?Al(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Ih(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?p0(r):t.type=="string"?Bd(r):r;case"file":return R0(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function $v(e,t){xR(),CU(e);var r=Fs(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=$v(e,r);return r.type="array",Gm(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return _o(rz(e,r),r);case"slk":case"sylk":return _o(j9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return _o(N6(e.Sheets[e.SheetNames[a]],r),r);case"txt":return $z(k6(e.Sheets[e.SheetNames[a]],r),r);case"csv":return _o(Wv(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return _o(A9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Ih(S9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return _o(E9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return _o(O9.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return _o(Jj.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return _o(A6(e,r),r);case"wk1":return Ih(p4.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Ih(p4.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Ih(_6(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Hz(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Uz(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Wz(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function C6(e,t,r){var n={};return n.type="file",n.file=t,Wz(n),$v(e,n)}function qz(e,t,r,n,a,s,o,l){var c=Ba(r),u=l.defval,f=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||e[r])for(var d=t.s.c;d<=t.e.c;++d){var y=o?e[r][d]:e[n[d]+c];if(y===void 0||y.t===void 0){if(u===void 0)continue;s[d]!=null&&(g[s[d]]=u);continue}var x=y.v;switch(y.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[d]!=null){if(x==null)if(y.t=="e"&&x===null)g[s[d]]=null;else if(u!==void 0)g[s[d]]=u;else if(f&&x===null)g[s[d]]=null;else continue;else g[s[d]]=f&&(y.t!=="n"||y.t==="n"&&l.rawNumbers!==!1)?x:Nl(y,x,l);x!=null&&(p=!1)}}return{row:g,isempty:p}}function dm(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":c=An(f);break;case"number":c=An(e["!ref"]),c.s.r=f;break;default:c=f}n>0&&(a=0);var p=Ba(c.s.r),g=[],d=[],y=0,x=0,_=Array.isArray(e),w=c.s.r,S=0,j={};_&&!e[w]&&(e[w]=[]);var T=u.skipHidden&&e["!cols"]||[],q=u.skipHidden&&e["!rows"]||[];for(S=c.s.c;S<=c.e.c;++S)if(!(T[S]||{}).hidden)switch(g[S]=ts(S),r=_?e[w][S]:e[g[S]+p],n){case 1:s[S]=S-c.s.c;break;case 2:s[S]=g[S];break;case 3:s[S]=u.header[S-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Nl(r,null,u),x=j[o]||0,!x)j[o]=1;else{do l=o+"_"+x++;while(j[l]);j[o]=x,j[l]=1}s[S]=l}for(w=c.s.r+a;w<=c.e.r;++w)if(!(q[w]||{}).hidden){var se=qz(e,c,w,g,n,s,_,u);(se.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(d[y++]=se.row)}return d.length=y,d}var _4=/"/g;function Vz(e,t,r,n,a,s,o,l){for(var c=!0,u=[],f="",p=Ba(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var d=l.dense?(e[r]||[])[g]:e[n[g]+p];if(d==null)f="";else if(d.v!=null){c=!1,f=""+(l.rawNumbers&&d.t=="n"?d.v:Nl(d,null,l));for(var y=0,x=0;y!==f.length;++y)if((x=f.charCodeAt(y))===a||x===s||x===34||l.forceQuotes){f='"'+f.replace(_4,'""')+'"';break}f=="ID"&&(f='"ID"')}else d.f!=null&&!d.F?(c=!1,f="="+d.f,f.indexOf(",")>=0&&(f='"'+f.replace(_4,'""')+'"')):f="";u.push(f)}return l.blankrows===!1&&c?null:u.join(o)}function Wv(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=An(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),f="",p=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],d=n.skipHidden&&e["!rows"]||[],y=a.s.c;y<=a.e.c;++y)(g[y]||{}).hidden||(p[y]=ts(y));for(var x=0,_=a.s.r;_<=a.e.r;++_)(d[_]||{}).hidden||(f=Vz(e,a,_,p,o,c,s,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((x++?l:"")+f)));return delete n.dense,r.join("")}function k6(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Wv(e,t);return r}function Gz(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=An(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=ts(l);for(var f=a.s.r;f<=a.e.r;++f)for(s=Ba(f),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[f]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function T6(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Na(n.origin):n.origin;o=c.r,l=c.c}var u,f={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var p=An(s["!ref"]);f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),o==-1&&(o=p.e.r+1,f.e.r=o+t.length-1+a)}else o==-1&&(o=0,f.e.r=t.length-1+a);var g=n.header||[],d=0;t.forEach(function(x,_){za(x).forEach(function(w){(d=g.indexOf(w))==-1&&(g[d=g.length]=w);var S=x[w],j="z",T="",q=an({c:l+d,r:o+_+a});u=y0(s,q),S&&typeof S=="object"&&!(S instanceof Date)?s[q]=S:(typeof S=="number"?j="n":typeof S=="boolean"?j="b":typeof S=="string"?j="s":S instanceof Date?(j="d",n.cellDates||(j="n",S=Ls(S)),T=n.dateNF||Wn[14]):S===null&&n.nullError&&(j="e",S=0),u?(u.t=j,u.v=S,delete u.w,delete u.R,T&&(u.z=T)):s[q]=u={t:j,v:S},T&&(u.z=T))})}),f.e.c=Math.max(f.e.c,l+g.length-1);var y=Ba(o);if(a)for(d=0;d<g.length;++d)s[ts(d+l)+y]={t:"s",v:g[d]};return s["!ref"]=aa(f),s}function Kz(e,t){return T6(null,e,t)}function y0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Na(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?y0(e,an(t)):y0(e,an({r:t,c:r||0}))}function Yz(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Xz(){return{SheetNames:[],Sheets:{}}}function Jz(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(y6(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Qz(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Yz(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Zz(e,t){return e.z=t,e}function P6(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function eH(e,t,r){return P6(e,"#"+t,r)}function tH(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function rH(e,t,r,n){for(var a=typeof t!="string"?t:An(t),s=typeof t=="string"?t:aa(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=y0(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var ec={encode_col:ts,encode_row:Ba,encode_cell:an,encode_range:aa,decode_col:Lv,decode_row:Pv,split_cell:xD,decode_cell:Na,decode_range:si,format_cell:Nl,sheet_add_aoa:Pj,sheet_add_json:T6,sheet_add_dom:S6,aoa_to_sheet:Gf,json_to_sheet:Kz,table_to_sheet:j6,table_to_book:Az,sheet_to_csv:Wv,sheet_to_txt:k6,sheet_to_json:dm,sheet_to_html:N6,sheet_to_formulae:Gz,sheet_to_row_object_array:dm,sheet_get_cell:y0,book_new:Xz,book_append_sheet:Jz,book_set_sheet_visibility:Qz,cell_set_number_format:Zz,cell_set_hyperlink:P6,cell_set_internal_link:eH,cell_add_comment:tH,sheet_set_array_formula:rH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const El=(e,t,r="")=>{const n=s=>s.replace(/[^a-zA-Z0-9 ]/g,"").trim().replace(/\s+/g,"_"),a=[n(e),n(t)];return r&&a.push(n(r)),a.push(new Date().toISOString().slice(0,10)),a.join("_")},Xf=(e,t)=>{const r=new Date;if(t){const n=r.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return`Generated by ${e} digital system on ${n}`}return`Generated by School Manager  ${r.getFullYear()}`},L6=async e=>{if(!e)return null;try{const t=new Image;t.crossOrigin="anonymous",await new Promise((n,a)=>{t.onload=n,t.onerror=a,t.src=e});const r=document.createElement("canvas");return r.width=t.naturalWidth,r.height=t.naturalHeight,r.getContext("2d").drawImage(t,0,0),{dataUrl:r.toDataURL("image/png"),width:t.naturalWidth,height:t.naturalHeight}}catch{return null}},F6=(e,t)=>{const r=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),a=e.internal.getNumberOfPages();for(let s=1;s<=a;s++)e.setPage(s),e.setFontSize(7),e.setFont("helvetica","normal"),e.setTextColor(150),e.text(t,r/2,n-10,{align:"center"}),e.text(`Page ${s} of ${a}`,r/2,n-6,{align:"center"})},nH=(e,{schoolName:t,title:r,subtitle:n,logo:a})=>{const s=e.internal.pageSize.getWidth();let o=14;if(a){const c=a.width/a.height,u=Math.min(14*c,22);e.addImage(a.dataUrl,"PNG",(s-u)/2,o,u,14),o+=17}return e.setFontSize(16),e.setFont("helvetica","bold"),e.setTextColor(30,58,95),e.text(t,s/2,o+4,{align:"center"}),o+=10,e.setFontSize(12),e.setFont("helvetica","normal"),e.setTextColor(60),e.text(r,s/2,o,{align:"center"}),o+=6,n&&(e.setFontSize(9),e.setTextColor(120),e.text(n,s/2,o,{align:"center"}),o+=5),e.setDrawColor(200),e.line(14,o,s-14,o),o+=4,e.setTextColor(0),o},O6=(e,t)=>{const r=e.map((l,c)=>{let u=String(l).length;return t.forEach(f=>{const p=f[c]!=null?String(f[c]):"";p.length>u&&(u=p.length)}),Math.min(u+2,35)}),n=(l,c)=>{const u=String(l??"");return u.length>=c?u.slice(0,c):u+" ".repeat(c-u.length)},a=r.map(l=>"-".repeat(l)).join(" | "),s=e.map((l,c)=>n(l,r[c])).join(" | "),o=t.map(l=>l.map((c,u)=>n(c,r[u])).join(" | "));return[s,a,...o].join(`
`)},R6=({title:e,schoolName:t,columns:r,rows:n,subtitle:a="",isPremium:s=!1})=>{const o=Xf(t,s),l=[];return l.push("=".repeat(60)),l.push(t),l.push(e),a&&l.push(a),l.push("=".repeat(60)),l.push(""),l.push(O6(r,n)),l.push(""),l.push("-".repeat(60)),l.push(o),l.join(`
`)},aH=({schoolName:e,isPremium:t=!1,sections:r=[]})=>{const n=Xf(e,t),a=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),s=[];s.push("=".repeat(60)),s.push(e),s.push("Comprehensive School Report"),s.push(a),s.push("=".repeat(60));const o=r.filter(l=>l.rows&&l.rows.length>0);return o.length===0?(s.push(""),s.push("No report data available.")):o.forEach(l=>{s.push(""),s.push("".repeat(60)),s.push(`  ${l.title}`),l.subtitle&&s.push(`  ${l.subtitle}`),s.push("".repeat(60)),s.push(""),s.push(O6(l.columns,l.rows))}),s.push(""),s.push("=".repeat(60)),s.push(n),s.join(`
`)},D6=async({title:e,schoolName:t,columns:r,rows:n,subtitle:a="",orientation:s="portrait",logoUrl:o,isPremium:l=!1})=>{const c=new Yt({orientation:s,unit:"mm",format:"a4"}),u=await L6(o),f=nH(c,{schoolName:t,title:e,subtitle:a,logo:u});return ao(c,{startY:f,head:[r],body:n,styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[30,58,95],textColor:255,fontStyle:"bold",fontSize:9},alternateRowStyles:{fillColor:[245,247,250]},margin:{left:14,right:14,bottom:22}}),F6(c,Xf(t,l)),c},sH=async({schoolName:e,logoUrl:t,isPremium:r=!1,sections:n=[]})=>{const a=new Yt({orientation:"portrait",unit:"mm",format:"a4"}),s=a.internal.pageSize.getWidth(),o=await L6(t);let l=20;if(o){const p=o.width/o.height,g=Math.min(20*p,30);a.addImage(o.dataUrl,"PNG",(s-g)/2,l,g,20),l+=26}a.setFontSize(20),a.setFont("helvetica","bold"),a.setTextColor(30,58,95),a.text(e,s/2,l+4,{align:"center"}),l+=14,a.setFontSize(14),a.setFont("helvetica","normal"),a.setTextColor(80),a.text("Comprehensive School Report",s/2,l,{align:"center"}),l+=8;const c=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});a.setFontSize(10),a.setTextColor(130),a.text(c,s/2,l,{align:"center"}),l+=8,a.setDrawColor(200),a.line(14,l,s-14,l),a.setTextColor(0);const u=n.filter(f=>f.rows&&f.rows.length>0);return u.forEach((f,p)=>{p===0?l+=6:(a.addPage(),l=18),a.setFontSize(14),a.setFont("helvetica","bold"),a.setTextColor(30,58,95),a.text(f.title,14,l),l+=2,f.subtitle&&(a.setFontSize(9),a.setFont("helvetica","normal"),a.setTextColor(120),a.text(f.subtitle,14,l+4),l+=8),a.setDrawColor(220),a.line(14,l+1,s-14,l+1),l+=4,a.setTextColor(0),ao(a,{startY:l,head:[f.columns],body:f.rows,styles:{fontSize:8.5,cellPadding:2.5},headStyles:{fillColor:[30,58,95],textColor:255,fontStyle:"bold",fontSize:8.5},alternateRowStyles:{fillColor:[245,247,250]},margin:{left:14,right:14,bottom:22}})}),u.length===0&&(a.setFontSize(12),a.setTextColor(150),a.text("No report data available.",s/2,l+20,{align:"center"})),F6(a,Xf(e,r)),a},I6=({title:e,schoolName:t,columns:r,rows:n,subtitle:a="",isPremium:s=!1})=>{const o=Xf(t,s),l=[[t],[e]];a&&l.push([a]),l.push([],r),n.forEach(p=>l.push(p)),l.push([],[o]);const c=ec.aoa_to_sheet(l);c["!cols"]=r.map((p,g)=>{let d=p.length;return n.forEach(y=>{const x=y[g]!=null?String(y[g]):"";x.length>d&&(d=x.length)}),{wch:Math.min(d+4,40)}});const u=r.length-1;c["!merges"]=[{s:{r:0,c:0},e:{r:0,c:u}},{s:{r:1,c:0},e:{r:1,c:u}}],a&&c["!merges"].push({s:{r:2,c:0},e:{r:2,c:u}});const f=ec.book_new();return ec.book_append_sheet(f,c,e.slice(0,31)),f},iH=({schoolName:e,isPremium:t=!1,sections:r=[]})=>{const n=Xf(e,t),a=ec.book_new(),s=r.filter(o=>o.rows&&o.rows.length>0);return s.forEach(o=>{const l=[[e],[o.title]];o.subtitle&&l.push([o.subtitle]),l.push([],o.columns),o.rows.forEach(f=>l.push(f)),l.push([],[n]);const c=ec.aoa_to_sheet(l);c["!cols"]=o.columns.map((f,p)=>{let g=f.length;return o.rows.forEach(d=>{const y=d[p]!=null?String(d[p]):"";y.length>g&&(g=y.length)}),{wch:Math.min(g+4,40)}});const u=o.columns.length-1;c["!merges"]=[{s:{r:0,c:0},e:{r:0,c:u}},{s:{r:1,c:0},e:{r:1,c:u}}],o.subtitle&&c["!merges"].push({s:{r:2,c:0},e:{r:2,c:u}}),ec.book_append_sheet(a,c,o.title.slice(0,31))}),s.length===0&&ec.book_append_sheet(a,ec.aoa_to_sheet([[e],["No data available"]]),"Report"),a},oH=e=>{const t=R6(e),r=El(e.schoolName,e.title,e.subtitle),n=new Blob([t],{type:"text/plain;charset=utf-8"}),a=document.createElement("a");a.href=URL.createObjectURL(n),a.download=`${r}.txt`,a.click(),URL.revokeObjectURL(a.href)},lH=e=>{const t=R6(e),r=El(e.schoolName,e.title,e.subtitle);return new File([t],`${r}.txt`,{type:"text/plain"})},cH=async e=>{(await D6(e)).save(`${El(e.schoolName,e.title,e.subtitle)}.pdf`)},uH=async e=>{const t=await D6(e),r=El(e.schoolName,e.title,e.subtitle);return new File([t.output("blob")],`${r}.pdf`,{type:"application/pdf"})},fH=e=>{const t=I6(e);C6(t,`${El(e.schoolName,e.title,e.subtitle)}.xlsx`)},dH=e=>{const t=I6(e),r=El(e.schoolName,e.title,e.subtitle),n=$v(t,{bookType:"xlsx",type:"array"});return new File([n],`${r}.xlsx`,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})},hH=e=>{const t=aH(e),r=El(e.schoolName,"Comprehensive Report"),n=new Blob([t],{type:"text/plain;charset=utf-8"}),a=document.createElement("a");a.href=URL.createObjectURL(n),a.download=`${r}.txt`,a.click(),URL.revokeObjectURL(a.href)},pH=async e=>{(await sH(e)).save(`${El(e.schoolName,"Comprehensive Report")}.pdf`)},mH=e=>{const t=iH(e);C6(t,`${El(e.schoolName,"Comprehensive Report")}.xlsx`)},Rg="https://lifexschoolmanager.com",Dg=({label:e,icon:t,items:r,disabled:n,color:a="bg-primary-500 hover:bg-primary-600 focus:ring-primary-400"})=>{const[s,o]=G.useState(!1),l=G.useRef(null);return G.useEffect(()=>{const c=u=>{l.current&&!l.current.contains(u.target)&&o(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),i.jsxs("div",{className:"relative",ref:l,children:[i.jsxs("button",{onClick:()=>o(c=>!c),disabled:n,className:`flex items-center gap-2 text-sm py-2 px-4 rounded-lg font-medium text-white transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md ${a}`,children:[i.jsx(t,{className:"w-4 h-4"}),e,i.jsx(Bm,{className:`w-3.5 h-3.5 transition-transform ${s?"rotate-180":""}`})]}),s&&i.jsx("div",{className:"absolute right-0 mt-1 w-52 bg-white rounded-xl shadow-xl border border-gray-100 py-1.5 z-50 animate-in fade-in slide-in-from-top-1 duration-150",children:r.map(c=>i.jsxs("button",{onClick:()=>{o(!1),c.onClick()},disabled:c.disabled,className:"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[i.jsx(c.icon,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{children:c.label}),c.badge&&i.jsx("span",{className:"ml-auto text-[10px] bg-amber-100 text-amber-600 px-1.5 py-0.5 rounded font-bold",children:c.badge})]},c.key))})]})},Ig=e=>i.jsx("svg",{...e,viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"})}),N4=({icon:e,label:t,value:r,color:n="text-primary-600 bg-primary-50"})=>i.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-semibold ${n}`,children:[i.jsx(e,{className:"w-3.5 h-3.5"}),i.jsxs("span",{children:[t,":"]}),i.jsx("span",{children:r})]}),Kl=({icon:e,label:t,value:r})=>r?i.jsxs("div",{className:"flex items-start gap-3 py-2.5",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-50 flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx(e,{className:"w-4 h-4 text-primary-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider",children:t}),i.jsx("p",{className:"text-sm text-gray-800 font-medium mt-0.5",children:r})]})]}):null,gH=()=>{const{get:e}=En(),{user:t,isPremium:r,planType:n}=sn(),[a,s]=G.useState("school_profile"),o=["standard","pro"].includes(n),l=G.useRef(null),c=G.useRef(null),u=G.useRef(null),f=G.useRef(null),[p,g]=G.useState([]),[d,y]=G.useState([]),[x,_]=G.useState([]),[w,S]=G.useState([]),[j,T]=G.useState(null),[q,se]=G.useState(!1),[L,k]=G.useState(!1),[R,Y]=G.useState(""),[P,B]=G.useState(""),[z,te]=G.useState(""),[de,X]=G.useState(""),W=(t==null?void 0:t.school_name)||"School Manager",M=t!=null&&t.school_badge_url?`${Rg}${t.school_badge_url}`:null,he=G.useCallback(async()=>{se(!0);try{switch(a){case"school_profile":{const pe=await e("/reports/school-profile",null,{silent:!0});T(pe.data||null);break}case"enrollment":{const pe=await e("/reports/enrollment",null,{silent:!0});g(pe.data||[]);break}case"attendance":{const pe={};R&&(pe.from=R),P&&(pe.to=P);const Ze=await e("/reports/attendance",Object.keys(pe).length?pe:null,{silent:!0});y(Ze.data||[]);break}case"financial":{const pe={};z&&(pe.from=z),de&&(pe.to=de);const Ze=await e("/reports/financial",Object.keys(pe).length?pe:null,{silent:!0});_(Ze.data||[]);break}case"teachers":{const pe=await e("/reports/teachers",null,{silent:!0});S(pe.data||[]);break}}}catch{}se(!1)},[e,a,R,P,z,de]);G.useEffect(()=>{he()},[he]);const Se={schoolName:W,logoUrl:M,isPremium:r},le=pe=>{const Ze=(pe==null?void 0:pe.school)||{},pt=(pe==null?void 0:pe.admins)||[],tt=(pe==null?void 0:pe.stats)||{},Ct=[];return Ct.push(["School Name",Ze.name||""]),Ct.push(["Motto",Ze.motto||""]),Ct.push(["Email",Ze.email||""]),Ct.push(["Phone",Ze.phone||""]),Ct.push(["Address",Ze.address||""]),Ct.push(["District",Ze.district||""]),Ct.push(["Region",Ze.region||""]),Ct.push(["Country",Ze.country||""]),Ct.push(["Plan",(Ze.plan_type||"starter").toUpperCase()]),Ct.push(["Status",(Ze.subscription_status||"trial").toUpperCase()]),Ct.push(["Registered",Ze.created_at?new Date(Ze.created_at).toLocaleDateString():""]),Ct.push(["",""]),Ct.push([" School Administrators ",""]),pt.forEach((bt,wr)=>{Ct.push([`Admin ${wr+1}`,`${bt.first_name} ${bt.last_name}`]),Ct.push(["  Email",bt.email||""]),Ct.push(["  Phone",bt.phone||""]),Ct.push(["  Last Login",bt.last_login?new Date(bt.last_login).toLocaleString():"Never"])}),Ct.push(["",""]),Ct.push([" Quick Stats ",""]),Ct.push(["Total Pupils",tt.total_pupils||0]),Ct.push(["Total Teachers",tt.total_teachers||0]),Ct.push(["Total Classes",tt.total_classes||0]),Ct.push(["Total Parents",tt.total_parents||0]),{title:"School Admin Profile",subtitle:`As at ${new Date().toLocaleDateString()}`,columns:["Field","Details"],rows:Ct}},A=pe=>{const Ze=pe.map(pt=>[pt.class_name,pt.enrolled,pt.male,pt.female,pt.capacity]);return Ze.push(["TOTAL",pe.reduce((pt,tt)=>pt+Number(tt.enrolled),0),pe.reduce((pt,tt)=>pt+Number(tt.male),0),pe.reduce((pt,tt)=>pt+Number(tt.female),0),pe.reduce((pt,tt)=>pt+Number(tt.capacity),0)]),{title:"Enrollment Report",subtitle:`As at ${new Date().toLocaleDateString()}`,columns:["Class","Enrolled","Male","Female","Capacity"],rows:Ze}},H=pe=>{const Ze=pe.map(tt=>[new Date(tt.date).toLocaleDateString(),tt.class_name,tt.present,tt.absent,tt.late,tt.total]);return Ze.push(["","TOTAL",pe.reduce((tt,Ct)=>tt+Number(Ct.present),0),pe.reduce((tt,Ct)=>tt+Number(Ct.absent),0),pe.reduce((tt,Ct)=>tt+Number(Ct.late),0),pe.reduce((tt,Ct)=>tt+Number(Ct.total),0)]),{title:"Attendance Report",subtitle:R||P?`${R?`From: ${R}`:""} ${P?`To: ${P}`:""}`.trim():"All dates",columns:["Date","Class","Present","Absent","Late","Total"],rows:Ze}},D=pe=>{const Ze=pe.map(tt=>[tt.month?new Date(tt.month).toLocaleDateString("en-US",{year:"numeric",month:"short"}):"",(tt.payment_method||"").replace("_"," "),Number(tt.total_collected).toLocaleString(),tt.payment_count]);return Ze.push(["","GRAND TOTAL",`UGX ${pe.reduce((tt,Ct)=>tt+Number(Ct.total_collected),0).toLocaleString()}`,pe.reduce((tt,Ct)=>tt+Number(Ct.payment_count),0)]),{title:"Financial Report",subtitle:z||de?`${z?`From: ${z}`:""} ${de?`To: ${de}`:""}`.trim():"All time",columns:["Month","Payment Method","Amount Collected (UGX)","Payments Count"],rows:Ze}},I=pe=>{const Ze=pe.map(pt=>[`${pt.first_name} ${pt.last_name}`,pt.employee_number||"",pt.qualification||"",pt.classes_assigned,pt.subjects_assigned]);return Ze.push([`TOTAL: ${pe.length} teachers`,"","",pe.reduce((pt,tt)=>pt+Number(tt.classes_assigned),0),pe.reduce((pt,tt)=>pt+Number(tt.subjects_assigned),0)]),{title:"Teachers Report",subtitle:`As at ${new Date().toLocaleDateString()}`,columns:["Name","Employee #","Qualification","Classes Assigned","Subjects Assigned"],rows:Ze}},ne=()=>{switch(a){case"school_profile":return j?le(j):null;case"enrollment":return p.length>0?A(p):null;case"attendance":return d.length>0?H(d):null;case"financial":return x.length>0?D(x):null;case"teachers":return w.length>0?I(w):null;default:return null}},ge=async()=>{const pe={};R&&(pe.from=R),P&&(pe.to=P);const Ze={};z&&(Ze.from=z),de&&(Ze.to=de);const[pt,tt,Ct,bt,wr]=await Promise.all([e("/reports/school-profile",null,{silent:!0}),e("/reports/enrollment",null,{silent:!0}),e("/reports/attendance",Object.keys(pe).length?pe:null,{silent:!0}),e("/reports/financial",Object.keys(Ze).length?Ze:null,{silent:!0}),e("/reports/teachers",null,{silent:!0})]),Mt=pt.data||null,Zt=tt.data||[],sr=Ct.data||[],Tt=bt.data||[],Vt=wr.data||[];T(Mt),g(Zt),y(sr),_(Tt),S(Vt);const ir=[];return Mt&&ir.push(le(Mt)),Zt.length>0&&ir.push(A(Zt)),sr.length>0&&ir.push(H(sr)),Tt.length>0&&ir.push(D(Tt)),Vt.length>0&&ir.push(I(Vt)),ir},Ee=async()=>{k(!0);try{const pe=await ge();if(!pe.length){ct.error("No report data to export"),k(!1);return}hH({...Se,sections:pe}),ct.success("Text report downloaded")}catch{ct.error("Export failed")}k(!1)},xe=async()=>{k(!0);try{const pe=await ge();if(!pe.length){ct.error("No report data to export"),k(!1);return}await pH({...Se,sections:pe}),ct.success("PDF report downloaded")}catch{ct.error("Export failed")}k(!1)},Z=async()=>{k(!0);try{const pe=await ge();if(!pe.length){ct.error("No report data to export"),k(!1);return}mH({...Se,sections:pe}),ct.success("Excel report downloaded")}catch{ct.error("Export failed")}k(!1)},Me=async(pe,Ze,pt)=>{if(navigator.canShare&&navigator.canShare({files:pe}))try{await navigator.share({title:`${W}  ${Ze}`,text:`${Ze}${pt?` (${pt})`:""}`,files:pe}),ct.success("Shared successfully")}catch(tt){tt.name!=="AbortError"&&ct.error("Sharing failed. Try exporting instead.")}else pe.forEach(tt=>{const Ct=document.createElement("a");Ct.href=URL.createObjectURL(tt),Ct.download=tt.name,Ct.click(),URL.revokeObjectURL(Ct.href)}),ct.success("File downloaded (sharing not supported on this browser)")},Ve=async()=>{const pe=ne();if(!pe||!pe.rows.length)return ct.error("No data to share");k(!0);try{const Ze=lH({...pe,...Se});await Me([Ze],pe.title,pe.subtitle)}catch{ct.error("Share failed")}k(!1)},it=async()=>{const pe=ne();if(!pe||!pe.rows.length)return ct.error("No data to share");k(!0);try{const Ze=await uH({...pe,...Se});await Me([Ze],pe.title,pe.subtitle)}catch{ct.error("Share failed")}k(!1)},dt=async()=>{const pe=ne();if(!pe||!pe.rows.length)return ct.error("No data to share");k(!0);try{const Ze=dH({...pe,...Se});await Me([Ze],pe.title,pe.subtitle)}catch{ct.error("Share failed")}k(!1)},ae=()=>{window.print()},Pe=(t==null?void 0:t.role)==="SCHOOL_ADMIN"||(t==null?void 0:t.role)==="SUPER_ADMIN",yt=[{key:"school_profile",label:"School Profile",icon:X1},{key:"enrollment",label:"Enrollment",icon:ti},{key:"attendance",label:"Attendance",icon:ms},{key:"financial",label:"Financial",icon:ko,adminOnly:!0},{key:"teachers",label:"Teachers",icon:fu,adminOnly:!0}].filter(pe=>!pe.adminOnly||Pe),Fe={school_profile:j,enrollment:p,attendance:d,financial:x,teachers:w}[a],gt=a==="school_profile"?!!(j!=null&&j.school):(Fe==null?void 0:Fe.length)>0,xt=[{key:"text",label:"As Text (.txt)",icon:K1,onClick:Ee},{key:"pdf",label:"As PDF (.pdf)",icon:Ig,onClick:xe},{key:"excel",label:"As Excel (.xlsx)",icon:Q1,onClick:o?Z:()=>ct.error("Excel export requires the Standard plan or higher. Please upgrade."),disabled:!o,badge:o?void 0:"PRO"}],Rt=[{key:"text",label:"Share as Text",icon:K1,onClick:Ve,disabled:!gt},{key:"pdf",label:"Share as PDF",icon:Ig,onClick:it,disabled:!gt},{key:"excel",label:"Share as Excel",icon:Q1,onClick:o?dt:()=>ct.error("Excel export requires the Standard plan or higher."),disabled:!gt||!o,badge:o?void 0:"PRO"}],Nt=(j==null?void 0:j.school)||{},je=(j==null?void 0:j.admins)||[],jt=(j==null?void 0:j.stats)||{};return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-600 via-primary-500 to-accent-500 rounded-2xl p-6 shadow-lg text-white print:hidden",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Reports & Analytics"}),i.jsx("p",{className:"text-primary-100 text-sm mt-1",children:"Generate, export & share school reports"})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs("button",{onClick:ae,disabled:q||!gt,className:"flex items-center gap-2 text-sm py-2 px-4 rounded-lg font-medium bg-white/20 hover:bg-white/30 text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed backdrop-blur-sm",children:[i.jsx(wc,{className:"w-4 h-4"})," Print"]}),i.jsx(Dg,{label:L?"Working...":"Export All",icon:J7,items:xt,disabled:q||L,color:"bg-white/20 hover:bg-white/30 backdrop-blur-sm focus:ring-white/50"}),i.jsx(Dg,{label:"Share",icon:nP,items:Rt,disabled:q||L||!gt,color:"bg-white/20 hover:bg-white/30 backdrop-blur-sm focus:ring-white/50"}),i.jsx(Dg,{label:"Export",icon:Um,items:[{key:"text",label:"As Text (.txt)",icon:K1,onClick:()=>{const pe=ne();if(!pe||!pe.rows.length)return ct.error("No data to export");oH({...pe,...Se}),ct.success("Text downloaded")},disabled:!gt},{key:"pdf",label:"As PDF (.pdf)",icon:Ig,onClick:async()=>{const pe=ne();if(!pe||!pe.rows.length)return ct.error("No data to export");k(!0);try{await cH({...pe,...Se}),ct.success("PDF downloaded")}catch{ct.error("Export failed")}k(!1)},disabled:!gt},{key:"excel",label:"As Excel (.xlsx)",icon:Q1,onClick:o?()=>{const pe=ne();if(!pe||!pe.rows.length)return ct.error("No data to export");fH({...pe,...Se}),ct.success("Excel downloaded")}:()=>ct.error("Excel export requires the Standard plan or higher."),disabled:!gt||!o,badge:o?void 0:"PRO"}],disabled:q||L||!gt,color:"bg-white/20 hover:bg-white/30 backdrop-blur-sm focus:ring-white/50"})]})]})}),i.jsx("div",{className:"flex gap-1.5 flex-wrap bg-gray-100 rounded-xl p-1.5 print:hidden",children:yt.map(pe=>i.jsxs("button",{onClick:()=>s(pe.key),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${a===pe.key?"bg-white text-primary-700 shadow-sm ring-1 ring-gray-200":"text-gray-500 hover:text-gray-700 hover:bg-white/50"}`,children:[i.jsx(pe.icon,{className:"w-4 h-4"})," ",pe.label]},pe.key))}),q&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg animate-pulse"}),i.jsx("div",{className:"h-5 w-40 bg-gray-200 rounded animate-pulse"})]}),[...Array(4)].map((pe,Ze)=>i.jsxs("div",{className:"flex gap-4 mb-3",children:[i.jsx("div",{className:"h-4 bg-gray-100 rounded flex-1 animate-pulse"}),i.jsx("div",{className:"h-4 bg-gray-100 rounded w-20 animate-pulse"}),i.jsx("div",{className:"h-4 bg-gray-100 rounded w-20 animate-pulse"})]},Ze))]})}),a==="school_profile"&&!q&&i.jsxs("div",{className:"space-y-6",id:"report-card",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 px-6 py-8 text-white text-center relative",children:[i.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 0L40 20L20 40L0 20Z' fill='%23fff' fill-opacity='0.1'/%3E%3C/svg%3E")`}}),Nt.badge_url&&i.jsx("img",{src:`${Rg}${Nt.badge_url}`,alt:"School Badge",className:"w-20 h-20 rounded-full mx-auto mb-3 border-4 border-white/30 object-cover bg-white"}),i.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:Nt.name||W}),Nt.motto&&i.jsxs("p",{className:"text-primary-200 text-sm mt-1 italic",children:["",Nt.motto,""]}),i.jsxs("div",{className:"flex items-center justify-center gap-3 mt-3 flex-wrap",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Nt.subscription_status==="active"?"bg-emerald-500 text-white":Nt.subscription_status==="trial"?"bg-amber-400 text-amber-900":"bg-red-500 text-white"}`,children:(Nt.subscription_status||"trial").toUpperCase()}),i.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-white/20 text-white",children:[(Nt.plan_type||"starter").toUpperCase()," Plan"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-1 p-6",children:[i.jsx(Kl,{icon:xc,label:"Email",value:Nt.email}),i.jsx(Kl,{icon:Hp,label:"Phone",value:Nt.phone}),i.jsx(Kl,{icon:Y1,label:"Address",value:Nt.address}),i.jsx(Kl,{icon:Y1,label:"District",value:Nt.district}),i.jsx(Kl,{icon:Y1,label:"Region",value:Nt.region}),i.jsx(Kl,{icon:X1,label:"Country",value:Nt.country}),i.jsx(Kl,{icon:_i,label:"Registered",value:Nt.created_at?new Date(Nt.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):null}),Nt.subscription_expires_at&&i.jsx(Kl,{icon:_i,label:"Subscription Expires",value:new Date(Nt.subscription_expires_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Pupils",value:jt.total_pupils||0,icon:Wp,color:"from-blue-500 to-blue-600"},{label:"Teachers",value:jt.total_teachers||0,icon:na,color:"from-emerald-500 to-emerald-600"},{label:"Classes",value:jt.total_classes||0,icon:X1,color:"from-amber-500 to-amber-600"},{label:"Parents",value:jt.total_parents||0,icon:ti,color:"from-purple-500 to-purple-600"}].map(pe=>i.jsx("div",{className:`bg-gradient-to-br ${pe.color} rounded-xl p-5 text-white shadow-md`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white/70 text-xs font-medium uppercase tracking-wider",children:pe.label}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:pe.value})]}),i.jsx(pe.icon,{className:"w-10 h-10 text-white/30"})]})},pe.label))}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-50 flex items-center justify-center",children:i.jsx(q7,{className:"w-4 h-4 text-primary-500"})}),i.jsx("h3",{className:"font-semibold text-gray-800",children:"School Administrators"}),i.jsxs("span",{className:"ml-auto text-xs bg-primary-50 text-primary-600 px-2 py-1 rounded-full font-semibold",children:[je.length," admin",je.length!==1?"s":""]})]}),je.length>0?i.jsx("div",{className:"divide-y divide-gray-50",children:je.map(pe=>{var Ze,pt;return i.jsxs("div",{className:"flex items-center gap-4 px-6 py-4 hover:bg-gray-50/50 transition-colors",children:[pe.avatar_url?i.jsx("img",{src:`${Rg}${pe.avatar_url}`,alt:"",className:"w-12 h-12 rounded-full object-cover border-2 border-primary-100"}):i.jsxs("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-bold text-lg shadow-inner",children:[(Ze=pe.first_name)==null?void 0:Ze[0],(pt=pe.last_name)==null?void 0:pt[0]]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"font-semibold text-gray-800",children:[pe.first_name," ",pe.last_name]}),i.jsxs("div",{className:"flex items-center gap-4 mt-0.5 text-xs text-gray-500",children:[pe.email&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(xc,{className:"w-3 h-3"}),pe.email]}),pe.phone&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Hp,{className:"w-3 h-3"}),pe.phone]})]})]}),i.jsxs("div",{className:"text-right flex-shrink-0",children:[i.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-emerald-50 text-emerald-700",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})," Active"]}),i.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:["Last login: ",pe.last_login?new Date(pe.last_login).toLocaleDateString():"Never"]})]})]},pe.id)})}):i.jsx("p",{className:"text-center py-10 text-gray-400 text-sm",children:"No school administrators found."})]})]}),a==="enrollment"&&!q&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",id:"report-card",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center",children:i.jsx(ti,{className:"w-4 h-4 text-blue-500"})}),i.jsx("h3",{className:"font-semibold text-gray-800",children:"Enrollment by Class"})]}),p.length>0&&i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(N4,{icon:Wp,label:"Total",value:p.reduce((pe,Ze)=>pe+Number(Ze.enrolled),0),color:"text-blue-600 bg-blue-50"})})]}),p.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50/80",children:[i.jsx("th",{className:"text-left p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Class"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Enrolled"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Male"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Female"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Capacity"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Utilization"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-50",children:p.map(pe=>{const Ze=pe.capacity>0?Math.round(pe.enrolled/pe.capacity*100):0;return i.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[i.jsx("td",{className:"p-4 font-medium text-gray-800",children:pe.class_name}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary-50 text-primary-700 font-bold text-sm",children:pe.enrolled})}),i.jsx("td",{className:"p-4 text-center text-blue-600 font-semibold",children:pe.male}),i.jsx("td",{className:"p-4 text-center text-pink-600 font-semibold",children:pe.female}),i.jsx("td",{className:"p-4 text-center text-gray-500",children:pe.capacity}),i.jsx("td",{className:"p-4 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-20 h-2.5 bg-gray-100 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all ${Ze>90?"bg-red-500":Ze>70?"bg-amber-400":"bg-emerald-500"}`,style:{width:`${Math.min(Ze,100)}%`}})}),i.jsxs("span",{className:`text-xs font-bold ${Ze>90?"text-red-600":Ze>70?"text-amber-600":"text-emerald-600"}`,children:[Ze,"%"]})]})})]},pe.class_name)})}),i.jsx("tfoot",{children:i.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 font-semibold",children:[i.jsx("td",{className:"p-4 text-gray-800",children:"Total"}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary-100 text-primary-700 font-bold text-sm",children:p.reduce((pe,Ze)=>pe+Number(Ze.enrolled),0)})}),i.jsx("td",{className:"p-4 text-center text-blue-600",children:p.reduce((pe,Ze)=>pe+Number(Ze.male),0)}),i.jsx("td",{className:"p-4 text-center text-pink-600",children:p.reduce((pe,Ze)=>pe+Number(Ze.female),0)}),i.jsx("td",{className:"p-4 text-center",children:p.reduce((pe,Ze)=>pe+Number(Ze.capacity),0)}),i.jsx("td",{className:"p-4 text-center text-gray-400",children:""})]})})]})}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(ti,{className:"w-12 h-12 text-gray-200 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No enrollment data available."})]})]}),a==="attendance"&&!q&&i.jsxs("div",{className:"space-y-4",id:"report-card",children:[i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 print:hidden",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"label",children:"From Date"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:R,onChange:pe=>Y(pe.target.value),className:"input-field pl-10 cursor-pointer",ref:l}),i.jsx("button",{type:"button",onClick:()=>{var pe;return(pe=l.current)==null?void 0:pe.showPicker()},className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 hover:text-primary-500 transition-colors","aria-label":"Open date picker",children:i.jsx(_i,{})})]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"label",children:"To Date"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:P,onChange:pe=>B(pe.target.value),className:"input-field pl-10 cursor-pointer",ref:c}),i.jsx("button",{type:"button",onClick:()=>{var pe;return(pe=c.current)==null?void 0:pe.showPicker()},className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 hover:text-primary-500 transition-colors","aria-label":"Open date picker",children:i.jsx(_i,{})})]})]}),(R||P)&&i.jsx("button",{onClick:()=>{Y(""),B("")},className:"btn-secondary text-sm py-2.5",children:"Clear"})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center",children:i.jsx(ms,{className:"w-4 h-4 text-indigo-500"})}),i.jsx("h3",{className:"font-semibold text-gray-800",children:"Attendance Summary"})]}),d.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50/80",children:[i.jsx("th",{className:"text-left p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"text-left p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Class"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Present"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Absent"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Late"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Total"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Rate"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-50",children:d.map((pe,Ze)=>{const pt=pe.total>0?Math.round(pe.present/pe.total*100):0;return i.jsxs("tr",{className:"hover:bg-indigo-50/30 transition-colors",children:[i.jsx("td",{className:"p-4 text-gray-600",children:new Date(pe.date).toLocaleDateString()}),i.jsx("td",{className:"p-4 font-medium text-gray-800",children:pe.class_name}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-700 text-xs font-bold",children:pe.present})}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-1 rounded-full bg-red-50 text-red-600 text-xs font-bold",children:pe.absent})}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-1 rounded-full bg-amber-50 text-amber-600 text-xs font-bold",children:pe.late})}),i.jsx("td",{className:"p-4 text-center text-gray-600 font-medium",children:pe.total}),i.jsx("td",{className:"p-4 text-center",children:i.jsxs("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${pt>=90?"bg-emerald-100 text-emerald-700":pt>=70?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:[pt,"%"]})})]},Ze)})})]})}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(ms,{className:"w-12 h-12 text-gray-200 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No attendance records found for the selected period."})]})]})]}),a==="financial"&&!q&&i.jsxs("div",{className:"space-y-4",id:"report-card",children:[i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-5 print:hidden",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"label",children:"From Date"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:z,onChange:pe=>te(pe.target.value),className:"input-field pl-10 cursor-pointer",ref:u}),i.jsx("button",{type:"button",onClick:()=>{var pe;return(pe=u.current)==null?void 0:pe.showPicker()},className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 hover:text-primary-500 transition-colors","aria-label":"Open date picker",children:i.jsx(_i,{})})]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"label",children:"To Date"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"date",value:de,onChange:pe=>X(pe.target.value),className:"input-field pl-10 cursor-pointer",ref:f}),i.jsx("button",{type:"button",onClick:()=>{var pe;return(pe=f.current)==null?void 0:pe.showPicker()},className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 hover:text-primary-500 transition-colors","aria-label":"Open date picker",children:i.jsx(_i,{})})]})]}),(z||de)&&i.jsx("button",{onClick:()=>{te(""),X("")},className:"btn-secondary text-sm py-2.5",children:"Clear"})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center",children:i.jsx(ko,{className:"w-4 h-4 text-emerald-500"})}),i.jsx("h3",{className:"font-semibold text-gray-800",children:"Financial Summary"})]}),x.length>0&&i.jsxs("span",{className:"text-sm font-bold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-full",children:["Total: UGX ",x.reduce((pe,Ze)=>pe+Number(Ze.total_collected),0).toLocaleString()]})]}),x.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50/80",children:[i.jsx("th",{className:"text-left p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Month"}),i.jsx("th",{className:"text-left p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Payment Method"}),i.jsx("th",{className:"text-right p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Amount Collected"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Payments"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-50",children:x.map((pe,Ze)=>i.jsxs("tr",{className:"hover:bg-emerald-50/30 transition-colors",children:[i.jsx("td",{className:"p-4 text-gray-600",children:pe.month?new Date(pe.month).toLocaleDateString("en-US",{year:"numeric",month:"short"}):""}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:"px-2.5 py-1 bg-gray-100 rounded-full text-xs capitalize font-medium text-gray-700",children:(pe.payment_method||"").replace("_"," ")})}),i.jsxs("td",{className:"p-4 text-right font-semibold text-emerald-600",children:["UGX ",Number(pe.total_collected).toLocaleString()]}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-gray-700 font-bold text-xs",children:pe.payment_count})})]},Ze))}),i.jsx("tfoot",{children:i.jsxs("tr",{className:"bg-gradient-to-r from-emerald-50 to-emerald-100 font-semibold",children:[i.jsx("td",{className:"p-4 text-gray-800",colSpan:2,children:"Grand Total"}),i.jsxs("td",{className:"p-4 text-right text-emerald-700 text-base",children:["UGX ",x.reduce((pe,Ze)=>pe+Number(Ze.total_collected),0).toLocaleString()]}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-emerald-200 text-emerald-800 font-bold text-xs",children:x.reduce((pe,Ze)=>pe+Number(Ze.payment_count),0)})})]})})]})}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(ko,{className:"w-12 h-12 text-gray-200 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No financial data for the selected period."})]})]})]}),a==="teachers"&&!q&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",id:"report-card",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-50 flex items-center justify-center",children:i.jsx(na,{className:"w-4 h-4 text-violet-500"})}),i.jsx("h3",{className:"font-semibold text-gray-800",children:"Teacher Summary"})]}),w.length>0&&i.jsx(N4,{icon:na,label:"Total",value:`${w.length} teachers`,color:"text-violet-600 bg-violet-50"})]}),w.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50/80",children:[i.jsx("th",{className:"text-left p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"text-left p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Employee #"}),i.jsx("th",{className:"text-left p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Qualification"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Classes"}),i.jsx("th",{className:"text-center p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Subjects"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-50",children:w.map(pe=>i.jsxs("tr",{className:"hover:bg-violet-50/30 transition-colors",children:[i.jsxs("td",{className:"p-4 font-medium text-gray-800",children:[pe.first_name," ",pe.last_name]}),i.jsx("td",{className:"p-4 text-gray-500 font-mono text-xs",children:pe.employee_number||""}),i.jsx("td",{className:"p-4 text-gray-500",children:pe.qualification||""}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-1 rounded-full bg-primary-50 text-primary-600 text-xs font-bold",children:pe.classes_assigned})}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-1 rounded-full bg-accent-50 text-accent-600 text-xs font-bold",children:pe.subjects_assigned})})]},pe.id))}),i.jsx("tfoot",{children:i.jsxs("tr",{className:"bg-gradient-to-r from-gray-50 to-gray-100 font-semibold",children:[i.jsxs("td",{className:"p-4 text-gray-800",colSpan:3,children:["Total: ",w.length," teachers"]}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-1 rounded-full bg-primary-100 text-primary-700 text-xs font-bold",children:w.reduce((pe,Ze)=>pe+Number(Ze.classes_assigned),0)})}),i.jsx("td",{className:"p-4 text-center",children:i.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-1 rounded-full bg-accent-100 text-accent-700 text-xs font-bold",children:w.reduce((pe,Ze)=>pe+Number(Ze.subjects_assigned),0)})})]})})]})}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx(na,{className:"w-12 h-12 text-gray-200 mx-auto mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No teacher data available."})]})]})]})},xH="https://lifexschoolmanager.com",Mh=({color:e,size:t="w-6 h-6",className:r=""})=>i.jsx("span",{className:`${t} rounded-full border border-gray-200 shadow-inner inline-block flex-shrink-0 ${r}`,style:{backgroundColor:e}}),S4=({baseHex:e,label:t})=>{const r=qx(e);return i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 mb-1 font-medium",children:t}),i.jsx("div",{className:"flex rounded-lg overflow-hidden h-8 shadow-inner",children:[50,100,200,300,400,500,600,700,800,900].map(n=>i.jsx("div",{className:"flex-1 relative group cursor-default",style:{backgroundColor:r[n]},title:`${n}: ${r[n]}`,children:i.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-[8px] font-bold opacity-0 group-hover:opacity-100 transition-opacity",style:{color:n>=500?"#fff":"#333"},children:n})},n))})]})},vH=()=>{const{get:e,put:t,loading:r}=En(),{user:n,updateUser:a,isPremium:s}=sn(),[o,l]=G.useState(null),[c,u]=G.useState({name:"",email:"",phone:"",address:"",district:"",region:"",motto:""}),[f,p]=G.useState(!1),g=G.useRef(null),[d,y]=G.useState(null),[x,_]=G.useState(md),[w,S]=G.useState(gd),[j,T]=G.useState(hd),[q,se]=G.useState(pd),[L,k]=G.useState(md),[R,Y]=G.useState(gd),[P,B]=G.useState(hd),[z,te]=G.useState(pd),[de,X]=G.useState(!1),W=x!==L||w!==R||j!==P||q!==z,M=G.useCallback(async()=>{try{const Me=(await e("/schools/me",null,{silent:!0})).data;l(Me),u({name:Me.name||"",email:Me.email||"",phone:Me.phone||"",address:Me.address||"",district:Me.district||"",region:Me.region||"",motto:Me.motto||""});const Ve=Me.primary_color||md,it=Me.secondary_color||gd,dt=Me.font_family||hd,ae=Me.font_style||pd;_(Ve),S(it),T(dt),se(ae),k(Ve),Y(it),B(dt),te(ae)}catch{}},[e]),he=G.useCallback(async()=>{try{const Z=await e("/schools/me/plan-usage",null,{silent:!0});y(Z.data)}catch{}},[e]);G.useEffect(()=>{M(),he()},[M,he]);const Se=async Z=>{Z.preventDefault();try{await t("/schools/me",c),ct.success("School settings updated"),a({school_name:c.name})}catch{}},le=async Z=>{var it,dt,ae;const Me=(it=Z.target.files)==null?void 0:it[0];if(!Me)return;if(Me.size>5*1024*1024)return ct.error("Image must be under 5 MB");const Ve=new FormData;Ve.append("badge",Me),p(!0);try{const{data:Pe}=await es.put("/schools/me/badge",Ve,{headers:{"Content-Type":"multipart/form-data"}}),et=Pe.data.badge_url;l(yt=>({...yt,badge_url:et})),a({school_badge_url:et}),ct.success("School badge updated!")}catch(Pe){ct.error(((ae=(dt=Pe.response)==null?void 0:dt.data)==null?void 0:ae.message)||"Badge upload failed")}finally{p(!1),g.current&&(g.current.value="")}},A=Z=>{_(Z),Vc(Z,null)},H=Z=>{S(Z),Vc(null,Z)},D=Z=>{T(Z),j7(Z)},I=Z=>{const Me=Vi(q);let Ve;Me.includes(Z)?Ve=Me.filter(dt=>dt!==Z):Ve=[...Me,Z];const it=S7(Ve);se(it),RN(it)},ne=Z=>{_(Z.primary),S(Z.accent),Vc(Z.primary,Z.accent,null)},ge=async()=>{var Z,Me;X(!0);try{await t("/schools/me/branding",{primary_color:x,secondary_color:w,font_family:j,font_style:q}),Vx(x,w,j,q),k(x),Y(w),B(j),te(q),a({primary_color:x,secondary_color:w,font_family:j,font_style:q}),ct.success("Theme saved! All users will see the new look.")}catch(Ve){ct.error(((Me=(Z=Ve.response)==null?void 0:Z.data)==null?void 0:Me.message)||"Failed to save theme")}X(!1)},Ee=()=>{_(md),S(gd),T(hd),se(pd),Vc(md,gd,hd,pd)},xe=()=>{_(L),S(R),T(P),se(z),Vc(L,R,P,z)};return o?i.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"School Settings"}),i.jsxs("div",{className:"card space-y-5",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-100 flex items-center justify-center",children:i.jsx(Df,{className:"w-5 h-5 text-primary-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Subscription & Plan"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Your current plan limits and usage"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 bg-primary-50 rounded-xl p-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Current Plan"}),i.jsx("p",{className:"text-xl font-bold text-primary-700 capitalize",children:(d==null?void 0:d.plan_type)||o.plan_type})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold capitalize ${((d==null?void 0:d.subscription_status)||o.subscription_status)==="active"?"bg-emerald-100 text-emerald-700":((d==null?void 0:d.subscription_status)||o.subscription_status)==="trial"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:(d==null?void 0:d.subscription_status)||o.subscription_status})]}),(()=>{const Z=(d==null?void 0:d.subscription_status)||o.subscription_status,Me=Z==="trial"?(d==null?void 0:d.trial_ends_at)||o.trial_ends_at:(d==null?void 0:d.subscription_expires_at)||o.subscription_expires_at;if(!Me)return null;const Ve=Math.max(0,Math.ceil((new Date(Me)-new Date)/864e5));return i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[i.jsx(Wf,{className:"w-3.5 h-3.5"})," ",Z==="trial"?"Trial ends":"Expires"]}),i.jsxs("p",{className:`text-sm font-bold ${Ve<=7?"text-red-600":"text-gray-700"}`,children:[Ve," day",Ve!==1?"s":""," left"]}),i.jsx("p",{className:"text-[10px] text-gray-400",children:new Date(Me).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})]})})()]}),d&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{key:"pupils",label:"Pupils",icon:ti,limit:d.limits.max_pupils,used:d.usage.pupils},{key:"teachers",label:"Teachers",icon:na,limit:d.limits.max_teachers,used:d.usage.teachers},{key:"classes",label:"Classes",icon:zN,limit:d.limits.max_classes,used:d.usage.classes},{key:"parents",label:"Parents",icon:Wp,limit:d.limits.max_parents,used:d.usage.parents}].map(({key:Z,label:Me,icon:Ve,limit:it,used:dt})=>{const ae=it===-1,Pe=ae?0:Math.min(100,Math.round(dt/it*100)),et=!ae&&Pe>=80,yt=!ae&&dt>=it;return i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsx(Ve,{className:"w-4 h-4"}),Me]}),i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:`text-lg font-bold ${yt?"text-red-600":"text-gray-800"}`,children:dt}),i.jsxs("span",{className:"text-xs text-gray-400",children:["/ ",ae?"":it]})]}),!ae&&i.jsx("div",{className:"h-1.5 bg-gray-200 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all ${yt?"bg-red-500":et?"bg-amber-500":"bg-primary-500"}`,style:{width:`${Pe}%`}})}),ae&&i.jsx("p",{className:"text-[10px] text-emerald-600 font-medium",children:"Unlimited"}),yt&&i.jsx("p",{className:"text-[10px] text-red-600 font-medium",children:"Limit reached  upgrade plan"})]},Z)})}),(d==null?void 0:d.limits)&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{label:"PDF Export",enabled:d.limits.pdf_export},{label:"Excel Export",enabled:d.limits.excel_export},{label:"Theme Customization",enabled:d.limits.theme_customization},{label:"Custom Report Branding",enabled:d.limits.custom_report_branding},{label:"SMS Notifications",enabled:d.limits.sms_notifications},{label:"API Access",enabled:d.limits.api_access}].map(({label:Z,enabled:Me})=>i.jsxs("div",{className:`flex items-center gap-2 text-xs rounded-lg px-3 py-2 ${Me?"bg-emerald-50 text-emerald-700":"bg-gray-100 text-gray-400"}`,children:[Me?i.jsx(Uu,{className:"w-3.5 h-3.5"}):i.jsx("span",{className:"w-3.5 h-3.5 inline-flex items-center justify-center text-[10px]",children:""}),Z]},Z))})]}),i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"School Badge / Logo"}),i.jsxs("div",{className:"flex items-center gap-5",children:[i.jsxs("div",{className:"relative group",children:[o.badge_url?i.jsx("img",{src:`${xH}${o.badge_url}`,alt:"School Badge",className:"w-24 h-24 rounded-xl object-cover border-2 border-gray-200 bg-white"}):i.jsx("div",{className:"w-24 h-24 bg-accent-100 rounded-xl flex items-center justify-center border-2 border-dashed border-gray-300",children:i.jsx(na,{className:"w-10 h-10 text-accent-400"})}),i.jsx("button",{type:"button",onClick:()=>{var Z;return(Z=g.current)==null?void 0:Z.click()},disabled:f,className:"absolute inset-0 bg-black/40 rounded-xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:f?i.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):i.jsx(P0,{className:"w-6 h-6 text-white"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Upload your school badge or crest."}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Recommended: Square image, 512512 px. Max 5 MB."}),i.jsx("button",{type:"button",onClick:()=>{var Z;return(Z=g.current)==null?void 0:Z.click()},disabled:f,className:"text-sm text-primary-500 hover:text-primary-600 font-medium mt-2",children:f?"Uploading...":o.badge_url?"Change Badge":"Upload Badge"})]}),i.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:le,className:"hidden"})]})]}),i.jsxs("div",{className:"card space-y-6 relative",children:[!s&&i.jsxs("div",{className:"absolute inset-0 z-10 bg-white/80 backdrop-blur-[2px] rounded-2xl flex flex-col items-center justify-center text-center p-6",children:[i.jsx("div",{className:"w-14 h-14 rounded-full bg-amber-100 flex items-center justify-center mb-3",children:i.jsx(nw,{className:"w-7 h-7 text-amber-600"})}),i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"Theme Customization"}),i.jsx("p",{className:"text-sm text-gray-500 max-w-xs mb-4",children:"Upgrade to the Standard or Pro plan to customize your school's colors, fonts, and appearance."}),i.jsx("a",{href:"/subscribe",className:"btn-primary text-sm !py-2 !px-6",children:"Upgrade Plan"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-accent-400 flex items-center justify-center",children:i.jsx(nw,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Theme & Appearance"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Customize colors & fonts for your school's look"})]})]}),W&&i.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full font-medium animate-pulse",children:"Unsaved changes"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"label flex items-center gap-2",children:[i.jsx(Mh,{color:x,size:"w-5 h-5"}),"Primary Colour"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"color",value:x,onChange:Z=>A(Z.target.value),className:"w-12 h-12 rounded-lg border-2 border-gray-200 cursor-pointer hover:border-primary-400 transition-colors",style:{padding:"2px"}}),i.jsx("input",{type:"text",value:x,onChange:Z=>{const Me=Z.target.value;/^#[0-9a-fA-F]{6}$/.test(Me)?A(Me):_(Me)},onBlur:()=>{/^#[0-9a-fA-F]{6}$/.test(x)||_(L)},className:"input-field !w-32 font-mono text-xs",placeholder:"#1e3a5f",maxLength:7})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Sidebar, buttons, headers"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"label flex items-center gap-2",children:[i.jsx(Mh,{color:w,size:"w-5 h-5"}),"Accent Colour"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"color",value:w,onChange:Z=>H(Z.target.value),className:"w-12 h-12 rounded-lg border-2 border-gray-200 cursor-pointer hover:border-accent-400 transition-colors",style:{padding:"2px"}}),i.jsx("input",{type:"text",value:w,onChange:Z=>{const Me=Z.target.value;/^#[0-9a-fA-F]{6}$/.test(Me)?H(Me):S(Me)},onBlur:()=>{/^#[0-9a-fA-F]{6}$/.test(w)||S(R)},className:"input-field !w-32 font-mono text-xs",placeholder:"#f0ad4e",maxLength:7})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Highlights, badges, accents"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"label",children:"Font Family"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:_7.map(Z=>{const Me=j===Z.value;return i.jsxs("button",{type:"button",onClick:()=>D(Z.value),className:`relative text-left p-3 rounded-xl border-2 transition-all hover:shadow-md ${Me?"border-primary-500 bg-primary-50 ring-2 ring-primary-200":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[i.jsx("p",{className:"font-semibold text-sm text-gray-800",style:{fontFamily:`'${Z.value}', sans-serif`},children:Z.name}),i.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:Z.description}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",style:{fontFamily:`'${Z.value}', sans-serif`},children:"Aa Bb Cc 123"}),Me&&i.jsx(Uu,{className:"w-4 h-4 text-primary-500 absolute top-2 right-2"})]},Z.value)})}),i.jsx("p",{className:"text-xs text-gray-400",children:"The font will be applied across the entire application for your school."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"label",children:"Heading Text Style"}),i.jsx("p",{className:"text-xs text-gray-400 -mt-2",children:"Apply Bold, Italic, or Uppercase styles to headings and titles."}),i.jsx("div",{className:"flex flex-wrap gap-3",children:N7.map(({key:Z,label:Me,icon:Ve,description:it})=>{const dt=Vi(q).includes(Z);return i.jsxs("button",{type:"button",onClick:()=>I(Z),className:`flex items-center gap-3 px-5 py-3 rounded-xl border-2 transition-all hover:shadow-md ${dt?"border-primary-500 bg-primary-50 ring-2 ring-primary-200":"border-gray-200 hover:border-gray-300 bg-white"}`,title:it,children:[i.jsx("span",{className:`text-lg leading-none ${Z==="bold"?"font-black":Z==="italic"?"italic font-serif":"text-sm tracking-widest font-semibold"} ${dt?"text-primary-600":"text-gray-500"}`,children:Ve}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:`text-sm font-medium ${dt?"text-primary-700":"text-gray-700"}`,children:Me}),i.jsx("p",{className:"text-[10px] text-gray-400",children:it})]}),dt&&i.jsx(Uu,{className:"w-4 h-4 text-primary-500 ml-auto"})]},Z)})})]}),i.jsxs("div",{className:"space-y-3 bg-gray-50 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-gray-500",children:[i.jsx(gc,{className:"w-4 h-4"}),"Live Palette Preview"]}),i.jsx(S4,{baseHex:x,label:"Primary"}),i.jsx(S4,{baseHex:w,label:"Accent"})]}),i.jsxs("div",{className:"rounded-xl border border-gray-200 overflow-hidden",children:[i.jsxs("div",{className:"text-xs font-medium text-gray-400 px-4 py-2 bg-gray-50 border-b border-gray-200 flex items-center gap-2",children:[i.jsx(gc,{className:"w-3.5 h-3.5"}),"Live Preview  ",i.jsx("span",{style:{fontFamily:`'${j}', sans-serif`},children:j}),Vi(q).length>0&&i.jsx("span",{className:"text-[10px] bg-primary-100 text-primary-600 px-1.5 py-0.5 rounded-full ml-1",children:Vi(q).join(" + ")})]}),i.jsxs("div",{className:"p-4 space-y-3",style:{fontFamily:`'${j}', sans-serif`},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-500 flex items-center justify-center text-white font-bold text-sm",children:"SM"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-800",style:{fontWeight:Vi(q).includes("bold")?"800":"600",fontStyle:Vi(q).includes("italic")?"italic":"normal",textTransform:Vi(q).includes("uppercase")?"uppercase":"none",fontSize:"1rem"},children:c.name||"School Name"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Preview of your school's look & font"})]})]}),i.jsx("h3",{className:"text-lg text-gray-800",style:{fontWeight:Vi(q).includes("bold")?"800":"600",fontStyle:Vi(q).includes("italic")?"italic":"normal",textTransform:Vi(q).includes("uppercase")?"uppercase":"none"},children:"Dashboard  Heading Preview"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["The quick brown fox jumps over the lazy dog. ",i.jsx("strong",{children:"Bold text."})," ",i.jsx("em",{children:"Italic text."})," 0123456789"]}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx("button",{className:"btn-primary text-xs !py-2 !px-4",children:"Primary Button"}),i.jsx("button",{className:"btn-accent text-xs !py-2 !px-4",children:"Accent Button"}),i.jsx("button",{className:"btn-secondary text-xs !py-2 !px-4",children:"Secondary"})]}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx("span",{className:"px-2 py-1 rounded bg-primary-50 text-primary-700 text-xs font-medium",children:"Tag Primary"}),i.jsx("span",{className:"px-2 py-1 rounded bg-accent-50 text-accent-700 text-xs font-medium",children:"Tag Accent"}),i.jsx("span",{className:"px-2 py-1 rounded bg-primary-100 text-primary-600 text-xs font-medium",children:"Badge"})]}),i.jsx("div",{className:"h-2 rounded-full bg-primary-100 overflow-hidden",children:i.jsx("div",{className:"h-full w-2/3 bg-primary-500 rounded-full"})})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"label mb-3",children:"Quick Presets"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:E7.map(Z=>{const Me=x===Z.primary&&w===Z.accent;return i.jsxs("button",{onClick:()=>ne(Z),className:`relative flex items-center gap-2 p-2.5 rounded-xl border-2 text-left transition-all hover:shadow-md ${Me?"border-primary-500 bg-primary-50 ring-2 ring-primary-200":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[i.jsxs("div",{className:"flex -space-x-1 flex-shrink-0",children:[i.jsx(Mh,{color:Z.primary,size:"w-5 h-5"}),i.jsx(Mh,{color:Z.accent,size:"w-5 h-5"})]}),i.jsx("span",{className:"text-xs font-medium text-gray-700 truncate",children:Z.name}),Me&&i.jsx(Uu,{className:"w-4 h-4 text-primary-500 absolute top-1 right-1"})]},Z.name)})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[i.jsxs("button",{onClick:Ee,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 transition-colors",children:[i.jsx(L0,{className:"w-4 h-4"}),"Reset to Default"]}),i.jsxs("div",{className:"flex gap-2",children:[W&&i.jsx("button",{onClick:xe,className:"btn-secondary text-sm !py-2",children:"Cancel"}),i.jsx("button",{onClick:ge,disabled:!W||de,className:"btn-primary text-sm !py-2 flex items-center gap-2",children:de?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"})," Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Uu,{className:"w-4 h-4"})," Save Theme"]})})]})]})]}),i.jsxs("form",{onSubmit:Se,className:"card space-y-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"School Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"label",children:"School Name"}),i.jsx("input",{value:c.name,onChange:Z=>u({...c,name:Z.target.value}),className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Email"}),i.jsx("input",{type:"email",value:c.email,onChange:Z=>u({...c,email:Z.target.value}),className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Phone"}),i.jsx("input",{value:c.phone,onChange:Z=>u({...c,phone:Z.target.value}),className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"District"}),i.jsx("input",{value:c.district,onChange:Z=>u({...c,district:Z.target.value}),className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Region"}),i.jsx("input",{value:c.region,onChange:Z=>u({...c,region:Z.target.value}),className:"input-field"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"label",children:"Address"}),i.jsx("input",{value:c.address,onChange:Z=>u({...c,address:Z.target.value}),className:"input-field"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"label",children:"Motto"}),i.jsx("input",{value:c.motto,onChange:Z=>u({...c,motto:Z.target.value}),className:"input-field"})]})]}),i.jsx("div",{className:"flex justify-end gap-3 pt-2",children:i.jsx("button",{type:"submit",disabled:r,className:"btn-primary",children:r?"Saving...":"Save Changes"})})]})]}):i.jsx("div",{className:"flex justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})},yH="https://lifexschoolmanager.com",wH=()=>{var T,q,se;const{user:e,updateUser:t}=sn(),{put:r,loading:n}=En(),a=G.useRef(null),[s,o]=G.useState(!1),[l,c]=G.useState({first_name:(e==null?void 0:e.first_name)||"",last_name:(e==null?void 0:e.last_name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||""}),[u,f]=G.useState({current_password:"",new_password:"",confirm:""}),[p,g]=G.useState(!1),[d,y]=G.useState(!1),[x,_]=G.useState(!1),w=async L=>{L.preventDefault();try{await r(`/users/${e.id}`,l),ct.success("Profile updated"),t(l)}catch{}},S=async L=>{if(L.preventDefault(),u.new_password!==u.confirm)return ct.error("Passwords do not match");try{await r("/auth/change-password",{current_password:u.current_password,new_password:u.new_password}),ct.success("Password changed. Please log in again."),f({current_password:"",new_password:"",confirm:""})}catch{}},j=async L=>{var Y,P,B;const k=(Y=L.target.files)==null?void 0:Y[0];if(!k)return;if(k.size>5*1024*1024)return ct.error("Image must be under 5 MB");const R=new FormData;R.append("avatar",k),o(!0);try{const{data:z}=await es.put("/users/me/avatar",R,{headers:{"Content-Type":"multipart/form-data"}}),te=z.data.avatar_url;t({avatar_url:te}),ct.success("Avatar updated!")}catch(z){ct.error(((B=(P=z.response)==null?void 0:P.data)==null?void 0:B.message)||"Avatar upload failed")}finally{o(!1),a.current&&(a.current.value="")}};return i.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Profile"}),i.jsxs("form",{onSubmit:w,className:"card space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-5 mb-4",children:[i.jsxs("div",{className:"relative group",children:[e!=null&&e.avatar_url?i.jsx("img",{src:`${yH}${e.avatar_url}`,alt:`${e.first_name} ${e.last_name}`,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}):i.jsxs("div",{className:"w-20 h-20 bg-primary-500 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:[(T=e==null?void 0:e.first_name)==null?void 0:T[0],(q=e==null?void 0:e.last_name)==null?void 0:q[0]]}),i.jsx("button",{type:"button",onClick:()=>{var L;return(L=a.current)==null?void 0:L.click()},disabled:s,className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:s?i.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):i.jsx(P0,{className:"w-6 h-6 text-white"})}),i.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:j,className:"hidden"})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-gray-800 text-lg",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),i.jsx("p",{className:"text-sm text-gray-500 capitalize",children:(se=e==null?void 0:e.role)==null?void 0:se.replace("_"," ").toLowerCase()}),i.jsx("button",{type:"button",onClick:()=>{var L;return(L=a.current)==null?void 0:L.click()},disabled:s,className:"text-xs text-primary-500 hover:text-primary-600 mt-1 font-medium",children:s?"Uploading...":"Change photo"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"First Name"}),i.jsx("input",{value:l.first_name,onChange:L=>c({...l,first_name:L.target.value}),className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Last Name"}),i.jsx("input",{value:l.last_name,onChange:L=>c({...l,last_name:L.target.value}),className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Email"}),i.jsx("input",{type:"email",value:l.email,onChange:L=>c({...l,email:L.target.value}),className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Phone"}),i.jsx("input",{value:l.phone,onChange:L=>c({...l,phone:L.target.value}),className:"input-field"})]})]}),i.jsx("div",{className:"flex justify-end gap-3",children:i.jsx("button",{type:"submit",disabled:n,className:"btn-primary",children:n?"Saving...":"Save"})})]}),i.jsxs("form",{onSubmit:S,className:"card space-y-4",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Change Password"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:p?"text":"password",value:u.current_password,onChange:L=>f({...u,current_password:L.target.value}),className:"input-field pr-10",required:!0}),i.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",tabIndex:-1,children:p?i.jsx(gf,{className:"w-5 h-5"}):i.jsx(gc,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:d?"text":"password",value:u.new_password,onChange:L=>f({...u,new_password:L.target.value}),className:"input-field pr-10",required:!0,minLength:8}),i.jsx("button",{type:"button",onClick:()=>y(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",tabIndex:-1,children:d?i.jsx(gf,{className:"w-5 h-5"}):i.jsx(gc,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:x?"text":"password",value:u.confirm,onChange:L=>f({...u,confirm:L.target.value}),className:"input-field pr-10",required:!0}),i.jsx("button",{type:"button",onClick:()=>_(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",tabIndex:-1,children:x?i.jsx(gf,{className:"w-5 h-5"}):i.jsx(gc,{className:"w-5 h-5"})})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",disabled:n,className:"btn-accent",children:n?"Changing...":"Change Password"})})]})]})},j4=[{value:"starter",label:"Starter",color:"bg-gray-100 text-gray-700"},{value:"standard",label:"Standard",color:"bg-blue-100 text-blue-700"},{value:"pro",label:"Pro",color:"bg-purple-100 text-purple-700"}],bH=[{value:"trial",label:"Trial"},{value:"active",label:"Active"},{value:"expired",label:"Expired"},{value:"suspended",label:"Suspended"}],_H=[{label:"1 Month",months:1},{label:"1 Term (4 mo)",months:4},{label:"1 Year",months:12},{label:"2 Years",months:24}],NH=["Uganda","Kenya","Tanzania","Rwanda","Burundi","South Sudan","DR Congo","Ethiopia","Somalia","Nigeria","Ghana","South Africa","Zambia","Zimbabwe","Malawi","Mozambique","Cameroon","Senegal","Other"],SH=()=>{const{get:e,put:t,loading:r}=En(),[n,a]=G.useState([]),[s,o]=G.useState(0),[l,c]=G.useState(1),[u,f]=G.useState(""),[p,g]=G.useState(null),[d,y]=G.useState({}),[x,_]=G.useState({open:!1,school:null}),[w,S]=G.useState({plan_type:"standard",subscription_status:"active",subscription_expires_at:""}),j=20,T=G.useCallback(async()=>{var W,M;try{const he=await e("/schools",{page:l,limit:j,search:u||void 0});a(((W=he.data)==null?void 0:W.schools)||[]),o(((M=he.data)==null?void 0:M.total)||0)}catch{}},[e,l,u]);G.useEffect(()=>{T()},[T]);const q=W=>{W.preventDefault(),c(1),T()},se=W=>{g(W.id),y({name:W.name||"",email:W.email||"",phone:W.phone||"",country:W.country||"",district:W.district||"",region:W.region||"",is_active:W.is_active})},L=()=>{g(null),y({})},k=async W=>{try{await t(`/schools/${W}`,d),ct.success("School updated successfully"),g(null),T()}catch{}},R=async W=>{try{await t(`/schools/${W.id}`,{is_active:!W.is_active}),ct.success(`School ${W.is_active?"deactivated":"activated"}`),T()}catch{}},Y=W=>{const M=W.subscription_expires_at?new Date(W.subscription_expires_at).toISOString().split("T")[0]:"";S({plan_type:W.plan_type||"starter",subscription_status:W.subscription_status||"trial",subscription_expires_at:M}),_({open:!0,school:W})},P=()=>{_({open:!1,school:null})},B=W=>{const M=new Date;M.setMonth(M.getMonth()+W),S(he=>({...he,subscription_expires_at:M.toISOString().split("T")[0]}))},z=async()=>{if(x.school)try{await t(`/schools/${x.school.id}`,{plan_type:w.plan_type,subscription_status:w.subscription_status,subscription_expires_at:w.subscription_expires_at?new Date(w.subscription_expires_at).toISOString():null}),ct.success(`${x.school.name} upgraded to ${w.plan_type} (${w.subscription_status})`),P(),T()}catch{}},te=W=>{const M={active:"bg-emerald-100 text-emerald-700",trial:"bg-amber-100 text-amber-700",expired:"bg-red-100 text-red-700",suspended:"bg-gray-100 text-gray-700"};return i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium capitalize ${M[W]||"bg-gray-100 text-gray-600"}`,children:W})},de=W=>{const M=j4.find(he=>he.value===W);return i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium capitalize ${(M==null?void 0:M.color)||"bg-gray-100 text-gray-600"}`,children:W})},X=Math.ceil(s/j);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx(na,{className:"w-7 h-7 text-primary-500"}),"Schools Management"]}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s," school",s!==1?"s":""," registered"]})]}),i.jsxs("button",{onClick:T,disabled:r,className:"btn-secondary flex items-center gap-2 self-start sm:self-auto",title:"Refresh",children:[i.jsx(L0,{className:`w-4 h-4 ${r?"animate-spin":""}`}),"Refresh"]})]}),i.jsxs("form",{onSubmit:q,className:"relative max-w-md",children:[i.jsx($m,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"}),i.jsx("input",{type:"text",placeholder:"Search by school name or district...",value:u,onChange:W=>{f(W.target.value),W.target.value||c(1)},className:"input-field pl-11 pr-20 w-full"}),i.jsx("button",{type:"submit",className:"absolute right-1.5 top-1/2 -translate-y-1/2 bg-primary-500 hover:bg-primary-600 text-white text-xs font-medium px-4 py-1.5 rounded-md transition-colors",children:"Search"})]})]}),i.jsx("div",{className:"card overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"table-header",children:[i.jsx("th",{className:"text-left p-3",children:"School"}),i.jsx("th",{className:"text-left p-3",children:"Contact"}),i.jsx("th",{className:"text-left p-3",children:"Location"}),i.jsx("th",{className:"text-center p-3",children:"Plan"}),i.jsx("th",{className:"text-center p-3",children:"Status"}),i.jsx("th",{className:"text-center p-3",children:"Expires"}),i.jsx("th",{className:"text-center p-3",children:"Active"}),i.jsx("th",{className:"text-left p-3",children:"Registered"}),i.jsx("th",{className:"text-center p-3",children:"Actions"})]})}),i.jsx("tbody",{children:n.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"9",className:"p-8 text-center text-gray-400",children:"No schools found."})}):n.map(W=>i.jsx("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:p===W.id?i.jsxs(i.Fragment,{children:[i.jsx("td",{className:"p-2",children:i.jsx("input",{className:"input-field text-xs",value:d.name,onChange:M=>y({...d,name:M.target.value})})}),i.jsxs("td",{className:"p-2 space-y-1",children:[i.jsx("input",{className:"input-field text-xs",placeholder:"Email",value:d.email,onChange:M=>y({...d,email:M.target.value})}),i.jsx("input",{className:"input-field text-xs",placeholder:"Phone",value:d.phone,onChange:M=>y({...d,phone:M.target.value})})]}),i.jsxs("td",{className:"p-2 space-y-1",children:[i.jsxs("select",{className:"input-field text-xs",value:d.country,onChange:M=>y({...d,country:M.target.value}),children:[i.jsx("option",{value:"",children:"Country"}),NH.map(M=>i.jsx("option",{value:M,children:M},M))]}),i.jsx("input",{className:"input-field text-xs",placeholder:"District",value:d.district,onChange:M=>y({...d,district:M.target.value})}),i.jsx("input",{className:"input-field text-xs",placeholder:"Region",value:d.region,onChange:M=>y({...d,region:M.target.value})})]}),i.jsx("td",{className:"p-3 text-center",children:de(W.plan_type)}),i.jsx("td",{className:"p-3 text-center",children:te(W.subscription_status)}),i.jsx("td",{className:"p-3 text-center text-xs text-gray-400",children:W.subscription_expires_at?new Date(W.subscription_expires_at).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):""}),i.jsx("td",{className:"p-2 text-center",children:i.jsx("input",{type:"checkbox",checked:d.is_active,onChange:M=>y({...d,is_active:M.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-500"})}),i.jsx("td",{className:"p-3 text-gray-500 text-xs",children:new Date(W.created_at).toLocaleDateString()}),i.jsx("td",{className:"p-2",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:()=>k(W.id),disabled:r,className:"p-1.5 rounded-lg bg-emerald-50 text-emerald-600 hover:bg-emerald-100",title:"Save",children:i.jsx(Ni,{className:"w-4 h-4"})}),i.jsx("button",{onClick:L,className:"p-1.5 rounded-lg bg-gray-50 text-gray-600 hover:bg-gray-100",title:"Cancel",children:i.jsx(u0,{className:"w-4 h-4"})})]})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("td",{className:"p-3",children:[i.jsx("p",{className:"font-medium text-gray-800",children:W.name}),W.motto&&i.jsx("p",{className:"text-xs text-gray-400 truncate max-w-[200px]",children:W.motto})]}),i.jsxs("td",{className:"p-3",children:[i.jsx("p",{className:"text-gray-600 text-xs",children:W.email||""}),i.jsx("p",{className:"text-gray-500 text-xs",children:W.phone||""})]}),i.jsxs("td",{className:"p-3",children:[i.jsx("p",{className:"text-gray-600 text-xs",children:W.district||""}),i.jsx("p",{className:"text-gray-400 text-xs",children:W.region||""}),W.country&&i.jsx("p",{className:"text-gray-400 text-xs font-medium",children:W.country})]}),i.jsx("td",{className:"p-3 text-center",children:de(W.plan_type)}),i.jsx("td",{className:"p-3 text-center",children:te(W.subscription_status)}),i.jsx("td",{className:"p-3 text-center text-xs text-gray-400",children:W.subscription_expires_at?new Date(W.subscription_expires_at).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):""}),i.jsx("td",{className:"p-3 text-center",children:i.jsx("button",{onClick:()=>R(W),className:`p-1 rounded-full ${W.is_active?"text-emerald-500":"text-gray-400"}`,title:W.is_active?"Active  click to deactivate":"Inactive  click to activate",children:W.is_active?i.jsx(Ni,{className:"w-5 h-5"}):i.jsx(u0,{className:"w-5 h-5"})})}),i.jsx("td",{className:"p-3 text-gray-500 text-xs",children:new Date(W.created_at).toLocaleDateString()}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:()=>Y(W),className:"p-1.5 rounded-lg bg-purple-50 text-purple-600 hover:bg-purple-100",title:"Upgrade / Change Plan",children:i.jsx(c0,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>se(W),className:"p-1.5 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100",title:"Edit school info",children:i.jsx(kc,{className:"w-4 h-4"})})]})})]})},W.id))})]})}),X>1&&i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx("button",{onClick:()=>c(W=>Math.max(1,W-1)),disabled:l<=1,className:"btn-secondary text-xs px-4 py-2 disabled:opacity-40",children:" Prev"}),i.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Page ",l," of ",X]}),i.jsx("button",{onClick:()=>c(W=>Math.min(X,W+1)),disabled:l>=X,className:"btn-secondary text-xs px-4 py-2 disabled:opacity-40",children:"Next "})]}),x.open&&x.school&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(c0,{className:"w-5 h-5 text-purple-600"}),"Manage Plan"]}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:x.school.name})]}),i.jsx("button",{onClick:P,className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-400",children:i.jsx(Aa,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"px-6 py-5 space-y-5",children:[i.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-xl p-3",children:[i.jsx("div",{className:"text-xs text-gray-500",children:"Current:"}),de(x.school.plan_type),te(x.school.subscription_status),x.school.subscription_expires_at&&i.jsxs("span",{className:"text-xs text-gray-400",children:["expires ",new Date(x.school.subscription_expires_at).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan"}),i.jsx("div",{className:"flex gap-2",children:j4.map(W=>i.jsx("button",{type:"button",onClick:()=>S(M=>({...M,plan_type:W.value})),className:`flex-1 py-2.5 rounded-xl text-sm font-semibold border-2 transition-all ${w.plan_type===W.value?W.value==="pro"?"border-purple-500 bg-purple-50 text-purple-700":W.value==="standard"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-400 bg-gray-50 text-gray-700":"border-gray-200 text-gray-400 hover:border-gray-300"}`,children:W.label},W.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subscription Status"}),i.jsx("select",{className:"input-field w-full",value:w.subscription_status,onChange:W=>S(M=>({...M,subscription_status:W.target.value})),children:bH.map(W=>i.jsx("option",{value:W.value,children:W.label},W.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subscription Expires"}),i.jsx("input",{type:"date",className:"input-field w-full",value:w.subscription_expires_at,onChange:W=>S(M=>({...M,subscription_expires_at:W.target.value}))}),i.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:_H.map(W=>i.jsxs("button",{type:"button",onClick:()=>B(W.months),className:"text-[11px] font-medium px-2.5 py-1 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition",children:["+ ",W.label]},W.months))})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-100 bg-gray-50",children:[i.jsx("button",{onClick:P,className:"btn-secondary text-sm",children:"Cancel"}),i.jsxs("button",{onClick:z,disabled:r,className:"btn-primary text-sm flex items-center gap-2",children:[i.jsx(Ni,{className:"w-4 h-4"}),r?"Saving...":"Save Changes"]})]})]})})]})},jH=()=>{const{get:e,post:t,loading:r}=En(),[n,a]=G.useState([]),[s,o]=G.useState(!1),[l,c]=G.useState({school_id:"",plan_type:"standard",amount:"",currency:"UGX",starts_at:new Date().toISOString().split("T")[0],expires_at:"",payment_reference:""}),u=G.useRef(null),f=G.useRef(null),p=G.useCallback(async()=>{var _;try{const S=((_=(await e("/schools",{limit:200})).data)==null?void 0:_.schools)||[];a(S)}catch{}},[e]);G.useEffect(()=>{p()},[p]);const g=_=>{c({...l,[_.target.name]:_.target.value})},d=async _=>{_.preventDefault();try{await t("/subscriptions",{...l,amount:parseFloat(l.amount)||0}),ct.success("Subscription created & activated!"),o(!1),c({school_id:"",plan_type:"standard",amount:"",currency:"UGX",starts_at:new Date().toISOString().split("T")[0],expires_at:"",payment_reference:""}),p()}catch{}},y=_=>{const w={active:"bg-emerald-100 text-emerald-700",trial:"bg-amber-100 text-amber-700",expired:"bg-red-100 text-red-700",suspended:"bg-gray-100 text-gray-700"};return i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium capitalize ${w[_]||"bg-gray-100 text-gray-600"}`,children:_})},x=_=>{const w={starter:"bg-gray-100 text-gray-700",standard:"bg-blue-100 text-blue-700",pro:"bg-purple-100 text-purple-700"};return i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium capitalize ${w[_]||"bg-gray-100 text-gray-600"}`,children:_})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx(ko,{className:"w-7 h-7 text-primary-500"}),"Subscriptions Management"]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Activate or manage school subscriptions"})]}),i.jsxs("button",{onClick:()=>o(!s),className:"btn-primary flex items-center gap-2",children:[s?i.jsx(Aa,{className:"w-4 h-4"}):i.jsx(oo,{className:"w-4 h-4"}),s?"Cancel":"New Subscription"]})]}),s&&i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activate Subscription"}),i.jsxs("form",{onSubmit:d,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"School *"}),i.jsxs("select",{name:"school_id",value:l.school_id,onChange:g,required:!0,className:"input-field",children:[i.jsx("option",{value:"",children:"Select school"}),n.map(_=>i.jsxs("option",{value:_.id,children:[_.name," (",_.subscription_status,")"]},_.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Plan *"}),i.jsxs("select",{name:"plan_type",value:l.plan_type,onChange:g,required:!0,className:"input-field",children:[i.jsx("option",{value:"starter",children:"Starter"}),i.jsx("option",{value:"standard",children:"Standard"}),i.jsx("option",{value:"pro",children:"Pro"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Amount *"}),i.jsx("input",{type:"number",name:"amount",value:l.amount,onChange:g,placeholder:"e.g. 500000",required:!0,min:"0",className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Currency"}),i.jsx("input",{type:"text",name:"currency",value:l.currency,onChange:g,className:"input-field"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Start Date *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{ref:u,type:"date",name:"starts_at",value:l.starts_at,onChange:g,required:!0,className:"input-field pr-10"}),i.jsx("button",{type:"button",onClick:()=>{var _,w;return(w=(_=u.current)==null?void 0:_.showPicker)==null?void 0:w.call(_)},className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-primary-500 transition-colors",tabIndex:-1,children:i.jsx(_i,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Expiry Date *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{ref:f,type:"date",name:"expires_at",value:l.expires_at,onChange:g,required:!0,className:"input-field pr-10"}),i.jsx("button",{type:"button",onClick:()=>{var _,w;return(w=(_=f.current)==null?void 0:_.showPicker)==null?void 0:w.call(_)},className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-primary-500 transition-colors",tabIndex:-1,children:i.jsx(_i,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Payment Reference"}),i.jsx("input",{type:"text",name:"payment_reference",value:l.payment_reference,onChange:g,placeholder:"e.g. TXN-12345",className:"input-field"})]}),i.jsx("div",{className:"sm:col-span-2 lg:col-span-3 flex justify-end",children:i.jsx("button",{type:"submit",disabled:r,className:"btn-primary",children:r?"Creating":"Create Subscription"})})]})]}),i.jsxs("div",{className:"card overflow-x-auto",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"All Schools  Subscription Status"}),i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"table-header",children:[i.jsx("th",{className:"text-left p-3",children:"School"}),i.jsx("th",{className:"text-center p-3",children:"Plan"}),i.jsx("th",{className:"text-center p-3",children:"Status"}),i.jsx("th",{className:"text-left p-3",children:"Trial Ends"}),i.jsx("th",{className:"text-left p-3",children:"Subscription Expires"})]})}),i.jsx("tbody",{children:n.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"5",className:"p-8 text-center text-gray-400",children:"No schools found."})}):n.map(_=>i.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[i.jsx("td",{className:"p-3 font-medium text-gray-800",children:_.name}),i.jsx("td",{className:"p-3 text-center",children:x(_.plan_type)}),i.jsx("td",{className:"p-3 text-center",children:y(_.subscription_status)}),i.jsx("td",{className:"p-3 text-gray-500 text-xs",children:_.trial_ends_at?new Date(_.trial_ends_at).toLocaleDateString():""}),i.jsx("td",{className:"p-3 text-gray-500 text-xs",children:_.subscription_expires_at?new Date(_.subscription_expires_at).toLocaleDateString():""})]},_.id))})]})]})]})},Mg=["Term 1","Term 2","Term 3"],AH="https://lifexschoolmanager.com",Bg=e=>e>=80?"D1":e>=70?"D2":e>=60?"C3":e>=55?"C4":e>=50?"C5":e>=45?"C6":e>=40?"P7":e>=35?"P8":"F9",A4=e=>e?["D1","D2"].includes(e)?"bg-emerald-100 text-emerald-700":["C3","C4","C5","C6"].includes(e)?"bg-blue-100 text-blue-700":["P7","P8"].includes(e)?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700":"",E4=e=>({D1:"Excellent",D2:"Very Good",C3:"Good",C4:"Good",C5:"Average",C6:"Average",P7:"Below Average",P8:"Poor",F9:"Fail"})[e]||"",C4=async e=>{if(!e)return null;try{const t=new Image;t.crossOrigin="anonymous",await new Promise((n,a)=>{t.onload=n,t.onerror=a,t.src=e});const r=document.createElement("canvas");return r.width=t.naturalWidth,r.height=t.naturalHeight,r.getContext("2d").drawImage(t,0,0),{dataUrl:r.toDataURL("image/png"),width:t.naturalWidth,height:t.naturalHeight}}catch{return null}},EH=()=>{const{get:e,post:t,put:r,del:n,loading:a}=En(),{user:s}=sn(),[o,l]=G.useState([]),[c,u]=G.useState([]),[f,p]=G.useState([]),[g,d]=G.useState([]),[y,x]=G.useState(!1),[_,w]=G.useState(""),[S,j]=G.useState(""),[T,q]=G.useState(""),[se,L]=G.useState(new Date().getFullYear().toString()),[k,R]=G.useState(!1),[Y,P]=G.useState(null),[B,z]=G.useState({pupil_id:"",subject_id:"",class_id:"",term:"Term 1",academic_year:new Date().getFullYear().toString(),score:"",remarks:""}),[te,de]=G.useState(!1),[X,W]=G.useState(""),[M,he]=G.useState(""),[Se,le]=G.useState("Term 1"),[A,H]=G.useState(new Date().getFullYear().toString()),[D,I]=G.useState({}),[ne,ge]=G.useState([]),[Ee,xe]=G.useState(!1),Z=(s==null?void 0:s.school_name)||"School Manager",Me=["standard","pro"].includes(s==null?void 0:s.plan_type),Ve=s!=null&&s.school_badge_url?`${AH}${s.school_badge_url}`:null;G.useEffect(()=>{let je=!1;return(async()=>{var pe;try{const[Ze,pt,tt]=await Promise.all([e("/classes",null,{silent:!0}),e("/subjects",null,{silent:!0}),e("/pupils",{limit:500},{silent:!0})]);je||(u(Ze.data||[]),p(pt.data||[]),d(((pe=tt.data)==null?void 0:pe.pupils)||tt.data||[]),x(!0))}catch{}})(),()=>{je=!0}},[]);const it=G.useCallback(async()=>{const je={};_&&(je.class_id=_),S&&(je.subject_id=S),T&&(je.term=T),se&&(je.academic_year=se);try{const jt=await e("/assessments",je,{silent:!0});l(jt.data||[])}catch{}},[e,_,S,T,se]);G.useEffect(()=>{it()},[it]),G.useEffect(()=>{if(!X){ge([]);return}const je=g.filter(pe=>pe.class_id===X);ge(je);const jt={};je.forEach(pe=>{jt[pe.id]=""}),I(jt)},[X,g]);const dt=()=>{z({pupil_id:"",subject_id:"",class_id:"",term:"Term 1",academic_year:new Date().getFullYear().toString(),score:"",remarks:""}),P(null)},ae=async je=>{je.preventDefault();const jt=parseFloat(B.score),pe=Bg(jt);try{Y?(await r(`/assessments/${Y}`,{score:jt,grade:pe,remarks:B.remarks||null,term:B.term,academic_year:B.academic_year}),ct.success("Assessment updated")):(await t("/assessments",{...B,score:jt,grade:pe,class_id:B.class_id||null}),ct.success("Assessment recorded")),R(!1),dt(),it()}catch{}},Pe=je=>{P(je.id),z({pupil_id:je.pupil_id,subject_id:je.subject_id,class_id:je.class_id||"",term:je.term||"Term 1",academic_year:je.academic_year||new Date().getFullYear().toString(),score:je.score,remarks:je.remarks||""}),R(!0),de(!1),window.scrollTo({top:0,behavior:"smooth"})},et=async je=>{if(window.confirm("Delete this assessment?"))try{await n(`/assessments/${je}`),ct.success("Assessment deleted"),it()}catch{}},yt=async je=>{je.preventDefault();const jt=[];for(const[pe,Ze]of Object.entries(D)){const pt=parseFloat(Ze);!isNaN(pt)&&pt>=0&&pt<=100&&jt.push({pupil_id:pe,subject_id:M,class_id:X,term:Se,academic_year:A,score:pt,grade:Bg(pt)})}if(jt.length===0){ct.error("Enter at least one score");return}try{await t("/assessments/bulk",{assessments:jt}),ct.success(`${jt.length} assessments recorded`),de(!1),I({}),it()}catch{}},Fe=(je,jt,{title:pe,subtitle:Ze})=>{const pt=je.internal.pageSize.getWidth();je.setFillColor(30,58,95),je.rect(0,0,pt,6,"F"),je.setFillColor(240,173,78),je.rect(0,6,pt,2,"F");let tt=14;if(jt){const bt=jt.width/jt.height,wr=Math.min(16*bt,24);je.addImage(jt.dataUrl,"PNG",(pt-wr)/2,tt,wr,16),tt+=19}return je.setFontSize(18),je.setFont("helvetica","bold"),je.setTextColor(30,58,95),je.text(Z.toUpperCase(),pt/2,tt+4,{align:"center"}),tt+=10,je.setFontSize(11),je.setFont("helvetica","normal"),je.setTextColor(80),je.text(pe,pt/2,tt,{align:"center"}),tt+=5,Ze&&(je.setFontSize(9),je.setTextColor(120),je.text(Ze,pt/2,tt,{align:"center"}),tt+=4),je.setDrawColor(30,58,95),je.setLineWidth(.5),je.line(20,tt,pt-20,tt),tt+=5,je.setTextColor(0),tt},gt=je=>{const jt=je.internal.pageSize.getWidth(),pe=je.internal.pageSize.getHeight(),Ze=je.internal.getNumberOfPages(),pt=Me?`Generated by ${Z} digital system on ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`:`Generated by School Manager  ${new Date().getFullYear()}`;for(let tt=1;tt<=Ze;tt++)je.setPage(tt),je.setFillColor(240,173,78),je.rect(0,pe-8,jt,2,"F"),je.setFillColor(30,58,95),je.rect(0,pe-6,jt,6,"F"),je.setFontSize(7),je.setFont("helvetica","italic"),je.setTextColor(255),je.text(pt,jt/2,pe-9,{align:"center"}),je.text(`Page ${tt} of ${Ze}`,jt/2,pe-2,{align:"center"})},xt=async()=>{var je;xe(!0);try{const jt={};T&&(jt.term=T),se&&(jt.academic_year=se);const Ze=(await e("/assessments",jt,{silent:!0})).data||[];if(Ze.length===0){ct.error("No assessments found to export"),xe(!1);return}const pt={};for(const ir of Ze){const Xt=ir.class_name||"Unassigned";pt[Xt]||(pt[Xt]=[]),pt[Xt].push(ir)}const tt=Object.keys(pt).sort(),Ct=await C4(Ve),bt=new Yt,wr=bt.internal.pageSize.getWidth(),Mt=T||"All Terms",Zt=se||"All Years",sr=`${Mt}  ${Zt}`;let Tt=!0;for(const ir of tt){Tt||bt.addPage(),Tt=!1;const Xt=pt[ir];let at=Fe(bt,Ct,{title:"PERFORMANCE REPORT BY CLASS",subtitle:sr});bt.setFillColor(30,58,95),bt.roundedRect(14,at,wr-28,10,2,2,"F"),bt.setFontSize(11),bt.setFont("helvetica","bold"),bt.setTextColor(255),bt.text(`CLASS: ${ir}`,wr/2,at+7,{align:"center"}),at+=14;const Sr={};for(const mt of Xt){const yr=mt.pupil_id;Sr[yr]||(Sr[yr]={name:`${mt.pupil_first_name} ${mt.pupil_last_name}`,subjects:[],totalScore:0}),Sr[yr].subjects.push(mt),Sr[yr].totalScore+=parseFloat(mt.score)||0}const pr=[],ar=Object.keys(Sr).sort((mt,yr)=>Sr[mt].name.localeCompare(Sr[yr].name));let Ar=0;const qn=ar.map(mt=>{const yr=Sr[mt],Hr=yr.subjects.length>0?yr.totalScore/yr.subjects.length:0;return{key:mt,...yr,average:Hr}}).sort((mt,yr)=>yr.average-mt.average);for(const mt of qn){Ar++;for(let yr=0;yr<mt.subjects.length;yr++){const Hr=mt.subjects[yr],mr=yr===0,Tr=yr===mt.subjects.length-1;pr.push({pupilName:mr?mt.name:"",subject:Hr.subject_name,score:Hr.score,grade:Hr.grade||"",remark:E4(Hr.grade),average:Tr?mt.average.toFixed(1):"",rank:mr?`${Ar}`:"",_isFirst:mr,_isLast:Tr,_pupilIdx:Ar})}}const gr=qn.length,Cn=gr>0?qn.reduce((mt,yr)=>mt+yr.average,0)/gr:0;ao(bt,{startY:at,head:[["#","Student Name","Subject","Score","Grade","Remark","Avg","Rank"]],body:pr.map(mt=>[mt.rank,mt.pupilName,mt.subject,mt.score,mt.grade,mt.remark,mt.average,mt.rank]),theme:"grid",headStyles:{fillColor:[30,58,95],textColor:[255,255,255],fontSize:8,fontStyle:"bold",halign:"center"},bodyStyles:{fontSize:8,textColor:[40,40,40]},alternateRowStyles:{fillColor:[248,250,252]},columnStyles:{0:{cellWidth:8,halign:"center"},1:{cellWidth:38,fontStyle:"bold"},2:{cellWidth:30},3:{cellWidth:14,halign:"center"},4:{cellWidth:14,halign:"center"},5:{cellWidth:28},6:{cellWidth:14,halign:"center"},7:{cellWidth:12,halign:"center"}},margin:{left:14,right:14,bottom:20},didParseCell(mt){if(mt.section==="body"&&mt.column.index===4){const yr=mt.cell.raw;["D1","D2"].includes(yr)?mt.cell.styles.textColor=[5,150,105]:["C3","C4","C5","C6"].includes(yr)?mt.cell.styles.textColor=[37,99,235]:["P7","P8"].includes(yr)?mt.cell.styles.textColor=[217,119,6]:yr==="F9"&&(mt.cell.styles.textColor=[220,38,38])}mt.section==="body"&&mt.column.index===6&&mt.cell.raw&&(mt.cell.styles.fontStyle="bold",mt.cell.styles.textColor=[30,58,95]),mt.section==="body"&&mt.column.index===7&&mt.cell.raw&&(mt.cell.styles.fontStyle="bold")},didDrawPage(){}});const un=(je=bt.lastAutoTable)!=null&&je.finalY?bt.lastAutoTable.finalY+6:at+40;if(un+22<bt.internal.pageSize.getHeight()-20){const mt=(wr-28-16)/3;[{label:"Students",value:`${gr}`,color:[30,58,95]},{label:"Class Average",value:`${Cn.toFixed(1)}%`,color:[5,150,105]},{label:"Top Student",value:qn.length>0?qn[0].name:"",color:[217,119,6]}].forEach((Hr,mr)=>{const Tr=14+mr*(mt+8);bt.setFillColor(...Hr.color),bt.roundedRect(Tr,un,mt,16,2,2,"F"),bt.setFontSize(7),bt.setFont("helvetica","normal"),bt.setTextColor(255),bt.text(Hr.label.toUpperCase(),Tr+mt/2,un+5,{align:"center"}),bt.setFontSize(10),bt.setFont("helvetica","bold");const on=Hr.value.length>20?Hr.value.substring(0,18)+"":Hr.value;bt.text(on,Tr+mt/2,un+12,{align:"center"})})}}gt(bt);const Vt=`${Z.replace(/[^a-zA-Z0-9 ]/g,"").trim().replace(/\s+/g,"_")}_Performance_By_Class_${Mt.replace(/\s+/g,"_")}_${Zt}.pdf`;bt.save(Vt),ct.success("All-class performance PDF downloaded!")}catch{ct.error("Failed to generate PDF. Please try again.")}finally{xe(!1)}},Rt=async()=>{xe(!0),ct("Generating performance report",{icon:"",duration:2e3});try{const je={};T&&(je.term=T),se&&(je.academic_year=se);const pe=(await e("/assessments",je,{silent:!0})).data||[];if(pe.length===0){ct.error("No assessments found to print"),xe(!1);return}const Ze={};for(const Tt of pe){const Vt=Tt.class_name||"Unassigned";Ze[Vt]||(Ze[Vt]=[]),Ze[Vt].push(Tt)}const pt=Object.keys(Ze).sort(),tt=T||"All Terms",Ct=se||"All Years",bt=Ve?await C4(Ve):null,wr=Me?`Generated by ${Z} digital system on ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`:`Generated by School Manager  ${new Date().getFullYear()}`,Mt=new Yt("landscape"),Zt=Mt.internal.pageSize.getWidth(),sr=Mt.internal.pageSize.getHeight();pt.forEach((Tt,Vt)=>{Vt>0&&Mt.addPage();let ir=15;if(Mt.setFillColor(30,58,95),Mt.rect(0,0,Zt,10,"F"),Mt.setFillColor(240,173,78),Mt.rect(0,10,Zt,2,"F"),bt){const Cn=bt.height/bt.width*16;Mt.addImage(bt.dataUrl,"PNG",(Zt-16)/2,ir,16,Cn),ir+=Cn+3}Mt.setFontSize(16),Mt.setFont(void 0,"bold"),Mt.setTextColor(30,58,95),Mt.text(Z.toUpperCase(),Zt/2,ir,{align:"center"}),ir+=6,Mt.setFontSize(10),Mt.setFont(void 0,"normal"),Mt.setTextColor(100,116,139),Mt.text(`PERFORMANCE REPORT  ${tt}  ${Ct}`,Zt/2,ir,{align:"center"}),ir+=5,Mt.setFillColor(30,58,95),Mt.rect(14,ir,Zt-28,8,"F"),Mt.setFontSize(10),Mt.setFont(void 0,"bold"),Mt.setTextColor(255,255,255),Mt.text(Tt,Zt/2,ir+5.5,{align:"center"}),ir+=12;const Xt={};for(const gr of Ze[Tt])Xt[gr.pupil_id]||(Xt[gr.pupil_id]={name:`${gr.pupil_first_name} ${gr.pupil_last_name}`,subjects:[],total:0}),Xt[gr.pupil_id].subjects.push(gr),Xt[gr.pupil_id].total+=parseFloat(gr.score)||0;const at=Object.values(Xt).map(gr=>({...gr,average:gr.subjects.length>0?gr.total/gr.subjects.length:0})).sort((gr,Cn)=>Cn.average-gr.average),Sr=[];at.forEach((gr,Cn)=>{const un=Cn+1;gr.subjects.forEach((mt,yr)=>{const Hr=yr===0,mr=yr===gr.subjects.length-1;Sr.push([Hr?String(un):"",Hr?gr.name:"",mt.subject_name,String(mt.score),mt.grade||"",E4(mt.grade),mr?gr.average.toFixed(1):"",Hr?String(un):""])})}),ao(Mt,{startY:ir,head:[["#","Student Name","Subject","Score","Grade","Remark","Avg","Rank"]],body:Sr,theme:"grid",headStyles:{fillColor:[30,58,95],fontSize:7,textColor:[255,255,255],halign:"center"},bodyStyles:{fontSize:7,textColor:[50,50,50]},columnStyles:{0:{cellWidth:10,halign:"center"},3:{halign:"center",fontStyle:"bold"},4:{halign:"center"},6:{halign:"center",fontStyle:"bold",textColor:[30,58,95]},7:{halign:"center",fontStyle:"bold"}}});const pr=at.length,ar=pr>0?at.reduce((gr,Cn)=>gr+Cn.average,0)/pr:0,Ar=at.length>0?at[0].name:"",qn=Mt.lastAutoTable.finalY+6;Mt.setFontSize(8),Mt.setTextColor(30,58,95),Mt.setFont(void 0,"bold"),Mt.text(`Students: ${pr}  |  Class Average: ${ar.toFixed(1)}%  |  Top Student: ${Ar}`,Zt/2,qn,{align:"center"}),Mt.setFillColor(30,58,95),Mt.rect(0,sr-10,Zt,10,"F"),Mt.setFillColor(240,173,78),Mt.rect(0,sr-12,Zt,2,"F"),Mt.setFontSize(7),Mt.setFont(void 0,"normal"),Mt.setTextColor(255,255,255),Mt.text(wr,Zt/2,sr-5,{align:"center"})}),Mt.save(`${Z.replace(/[^a-zA-Z0-9 ]/g,"").trim().replace(/\s+/g,"_")}_Performance_Print_${tt.replace(/\s+/g,"_")}_${Ct}.pdf`)}catch{ct.error("Failed to generate print view.")}finally{xe(!1)}},Nt=B.class_id?g.filter(je=>je.class_id===B.class_id):g;return i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx(fu,{className:"w-7 h-7 text-primary-500"}),"Student Performance"]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Record and manage student assessments & grades"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs("button",{onClick:Rt,disabled:Ee,className:"btn-secondary flex items-center gap-2 text-sm",title:"Print all student grades grouped by class",children:[i.jsx(wc,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Print All"})]}),i.jsxs("button",{onClick:xt,disabled:Ee,className:"btn-secondary flex items-center gap-2 text-sm",title:"Download PDF of all student grades grouped by class",children:[Ee?i.jsx("div",{className:"w-4 h-4 border-2 border-gray-400/30 border-t-gray-600 rounded-full animate-spin"}):i.jsx(WN,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:Ee?"Generating":"Download All"})]}),i.jsx("div",{className:"w-px h-6 bg-gray-200 hidden sm:block"}),i.jsxs("button",{onClick:()=>{de(!te),R(!1)},className:"btn-secondary flex items-center gap-2 text-sm",children:[i.jsx(_i,{className:"w-4 h-4"}),"Bulk Entry"]}),i.jsxs("button",{onClick:()=>{R(!k),de(!1),dt()},className:"btn-primary flex items-center gap-2 text-sm",children:[i.jsx(oo,{className:"w-4 h-4"}),"Add Score"]})]})]}),o.length>0&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 flex items-start gap-3 text-sm",children:[i.jsx(na,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),i.jsxs("p",{className:"text-blue-700",children:[i.jsx("strong",{children:"Download All"})," or ",i.jsx("strong",{children:"Print All"})," will generate a comprehensive report of all students' performances and grades, organized by class. Use the filters below to narrow by term and year."]})]}),k&&i.jsxs("form",{onSubmit:ae,className:"card space-y-4 border-primary-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:Y?"Edit Assessment":"Record Assessment"}),i.jsx("button",{type:"button",onClick:()=>{R(!1),dt()},className:"p-1 rounded hover:bg-gray-100",children:i.jsx(Aa,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Class"}),i.jsxs("select",{value:B.class_id,onChange:je=>z({...B,class_id:je.target.value,pupil_id:""}),className:"input-field",children:[i.jsx("option",{value:"",children:"All classes"}),c.map(je=>i.jsx("option",{value:je.id,children:je.name},je.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Pupil *"}),i.jsxs("select",{value:B.pupil_id,onChange:je=>z({...B,pupil_id:je.target.value}),className:"input-field",required:!0,disabled:!!Y,children:[i.jsx("option",{value:"",children:y?Nt.length===0?"No pupils found":"Select pupil":"Loading pupils"}),Nt.map(je=>i.jsxs("option",{value:je.id,children:[je.first_name," ",je.last_name,je.class_name?` (${je.class_name})`:""]},je.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Subject *"}),i.jsxs("select",{value:B.subject_id,onChange:je=>z({...B,subject_id:je.target.value}),className:"input-field",required:!0,disabled:!!Y,children:[i.jsx("option",{value:"",children:y?f.length===0?"No subjects found":"Select subject":"Loading subjects"}),f.map(je=>i.jsx("option",{value:je.id,children:je.name},je.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Term"}),i.jsx("select",{value:B.term,onChange:je=>z({...B,term:je.target.value}),className:"input-field",children:Mg.map(je=>i.jsx("option",{value:je,children:je},je))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Academic Year"}),i.jsx("input",{value:B.academic_year,onChange:je=>z({...B,academic_year:je.target.value}),className:"input-field",placeholder:"e.g. 2026"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Score (0-100) *"}),i.jsx("input",{type:"number",min:"0",max:"100",value:B.score,onChange:je=>z({...B,score:je.target.value}),className:"input-field",required:!0})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-3",children:[i.jsx("label",{className:"label",children:"Remarks"}),i.jsx("input",{value:B.remarks,onChange:je=>z({...B,remarks:je.target.value}),className:"input-field",placeholder:"Optional comment"})]})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>{R(!1),dt()},className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving":Y?"Update":"Save"})]})]}),te&&i.jsxs("form",{onSubmit:yt,className:"card space-y-4 border-accent-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Bulk Score Entry"}),i.jsx("button",{type:"button",onClick:()=>de(!1),className:"p-1 rounded hover:bg-gray-100",children:i.jsx(Aa,{className:"w-5 h-5 text-gray-400"})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Class *"}),i.jsxs("select",{value:X,onChange:je=>W(je.target.value),className:"input-field",required:!0,children:[i.jsx("option",{value:"",children:"Select class"}),c.map(je=>i.jsx("option",{value:je.id,children:je.name},je.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Subject *"}),i.jsxs("select",{value:M,onChange:je=>he(je.target.value),className:"input-field",required:!0,children:[i.jsx("option",{value:"",children:"Select subject"}),f.map(je=>i.jsx("option",{value:je.id,children:je.name},je.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Term"}),i.jsx("select",{value:Se,onChange:je=>le(je.target.value),className:"input-field",children:Mg.map(je=>i.jsx("option",{value:je,children:je},je))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Academic Year"}),i.jsx("input",{value:A,onChange:je=>H(je.target.value),className:"input-field",placeholder:"e.g. 2026"})]})]}),ne.length>0&&i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"table-header",children:[i.jsx("th",{className:"text-left p-3",children:"#"}),i.jsx("th",{className:"text-left p-3",children:"Pupil Name"}),i.jsx("th",{className:"text-left p-3 w-32",children:"Score (0-100)"}),i.jsx("th",{className:"text-center p-3 w-20",children:"Grade"})]})}),i.jsx("tbody",{children:ne.map((je,jt)=>{const pe=parseFloat(D[je.id]),Ze=isNaN(pe)?"":Bg(pe);return i.jsxs("tr",{className:"border-b border-gray-50",children:[i.jsx("td",{className:"p-3 text-gray-400",children:jt+1}),i.jsxs("td",{className:"p-3 font-medium text-gray-800",children:[je.first_name," ",je.last_name]}),i.jsx("td",{className:"p-3",children:i.jsx("input",{type:"number",min:"0",max:"100",value:D[je.id]||"",onChange:pt=>I({...D,[je.id]:pt.target.value}),className:"input-field text-sm w-24",placeholder:""})}),i.jsx("td",{className:"p-3 text-center",children:Ze&&i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${A4(Ze)}`,children:Ze})})]},je.id)})})]})}),ne.length===0&&X&&i.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No pupils found in this class."}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>de(!1),className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:a||ne.length===0,className:"btn-primary",children:a?"Saving":"Save All Scores"})]})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(eP,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Filters"})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[i.jsxs("select",{value:_,onChange:je=>w(je.target.value),className:"input-field text-sm",children:[i.jsx("option",{value:"",children:"All Classes"}),c.map(je=>i.jsx("option",{value:je.id,children:je.name},je.id))]}),i.jsxs("select",{value:S,onChange:je=>j(je.target.value),className:"input-field text-sm",children:[i.jsx("option",{value:"",children:"All Subjects"}),f.map(je=>i.jsx("option",{value:je.id,children:je.name},je.id))]}),i.jsxs("select",{value:T,onChange:je=>q(je.target.value),className:"input-field text-sm",children:[i.jsx("option",{value:"",children:"All Terms"}),Mg.map(je=>i.jsx("option",{value:je,children:je},je))]}),i.jsx("input",{value:se,onChange:je=>L(je.target.value),className:"input-field text-sm",placeholder:"Year e.g. 2026"})]})]}),i.jsx("div",{className:"card overflow-x-auto p-0",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"table-header",children:[i.jsx("th",{className:"text-left p-3",children:"Pupil"}),i.jsx("th",{className:"text-left p-3",children:"Subject"}),i.jsx("th",{className:"text-left p-3 hidden sm:table-cell",children:"Class"}),i.jsx("th",{className:"text-center p-3",children:"Score"}),i.jsx("th",{className:"text-center p-3",children:"Grade"}),i.jsx("th",{className:"text-left p-3 hidden md:table-cell",children:"Term"}),i.jsx("th",{className:"text-left p-3 hidden md:table-cell",children:"Remarks"}),i.jsx("th",{className:"text-center p-3",children:"Actions"})]})}),i.jsx("tbody",{children:o.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"8",className:"text-center py-12 text-gray-400",children:"No assessments found. Use the filters above or add new scores."})}):o.map(je=>i.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[i.jsx("td",{className:"p-3",children:i.jsxs(ra,{to:`/report-card/${je.pupil_id}?term=${je.term||""}&academic_year=${je.academic_year||""}`,className:"font-medium text-primary-600 hover:text-primary-700 hover:underline",children:[je.pupil_first_name," ",je.pupil_last_name]})}),i.jsx("td",{className:"p-3 text-gray-700",children:je.subject_name}),i.jsx("td",{className:"p-3 text-gray-500 hidden sm:table-cell",children:je.class_name||""}),i.jsx("td",{className:"p-3 text-center font-semibold text-gray-800",children:je.score}),i.jsx("td",{className:"p-3 text-center",children:i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${A4(je.grade)}`,children:je.grade||""})}),i.jsxs("td",{className:"p-3 text-gray-500 hidden md:table-cell",children:[je.term||""," ",je.academic_year||""]}),i.jsx("td",{className:"p-3 text-gray-400 hidden md:table-cell text-xs truncate max-w-[150px]",children:je.remarks||""}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:()=>Pe(je),className:"p-1.5 rounded-lg hover:bg-blue-50 text-gray-400 hover:text-blue-600",title:"Edit",children:i.jsx(kc,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>et(je.id),className:"p-1.5 rounded-lg hover:bg-red-50 text-gray-400 hover:text-red-500",title:"Delete",children:i.jsx(To,{className:"w-4 h-4"})})]})})]},je.id))})]})})]})},CH=["Term 1","Term 2","Term 3"],kH=e=>e?["D1","D2"].includes(e)?"bg-emerald-100 text-emerald-700 border border-emerald-200":["C3","C4","C5","C6"].includes(e)?"bg-blue-100 text-blue-700 border border-blue-200":["P7","P8"].includes(e)?"bg-amber-100 text-amber-700 border border-amber-200":"bg-red-100 text-red-700 border border-red-200":"",k4=e=>({D1:"Excellent",D2:"Very Good",C3:"Good",C4:"Good",C5:"Average",C6:"Average",P7:"Below Average",P8:"Poor",F9:"Fail"})[e]||"",TH=e=>e>=80?"bg-emerald-500":e>=60?"bg-blue-500":e>=40?"bg-amber-500":"bg-red-500",PH=e=>e>=80?{label:"Distinction",color:"text-emerald-600",bg:"bg-emerald-50 border-emerald-200"}:e>=60?{label:"Credit",color:"text-blue-600",bg:"bg-blue-50 border-blue-200"}:e>=40?{label:"Pass",color:"text-amber-600",bg:"bg-amber-50 border-amber-200"}:{label:"Needs Improvement",color:"text-red-600",bg:"bg-red-50 border-red-200"},T4="https://lifexschoolmanager.com",LH=async e=>{if(!e)return null;try{const t=new Image;t.crossOrigin="anonymous",await new Promise((n,a)=>{t.onload=n,t.onerror=a,t.src=e});const r=document.createElement("canvas");return r.width=t.naturalWidth,r.height=t.naturalHeight,r.getContext("2d").drawImage(t,0,0),{dataUrl:r.toDataURL("image/png"),width:t.naturalWidth,height:t.naturalHeight}}catch{return null}},FH=()=>{const{pupilId:e}=Z_(),[t]=aN(),r=so(),{user:n}=sn(),{get:a}=En(),[s,o]=G.useState(null),[l,c]=G.useState(t.get("term")||"Term 1"),[u,f]=G.useState(t.get("academic_year")||new Date().getFullYear().toString()),[p,g]=G.useState(!1),d=G.useCallback(async()=>{try{const T={};l&&(T.term=l),u&&(T.academic_year=u);const q=await a(`/assessments/pupil/${e}/report`,T);o(q.data)}catch{}},[a,e,l,u]);G.useEffect(()=>{d()},[d]);const y=()=>window.print(),x=async()=>{var T;if(s){g(!0);try{const{pupil:q,assessments:se,summary:L}=s,k=new Yt,R=k.internal.pageSize.getWidth(),Y=k.internal.pageSize.getHeight(),P=(n==null?void 0:n.school_name)||"School Manager",B=["standard","pro"].includes(n==null?void 0:n.plan_type);let z=null;n!=null&&n.school_badge_url&&(z=await LH(`${T4}${n.school_badge_url}`)),k.setFillColor(30,58,95),k.rect(0,0,R,6,"F"),k.setFillColor(240,173,78),k.rect(0,6,R,2,"F");let te=14;if(z){const Z=z.width/z.height,Me=Math.min(18*Z,28);k.addImage(z.dataUrl,"PNG",(R-Me)/2,te,Me,18),te+=22}k.setFontSize(20),k.setFont("helvetica","bold"),k.setTextColor(30,58,95),k.text(P.toUpperCase(),R/2,te+5,{align:"center"}),te+=12,k.setFontSize(10),k.setFont("helvetica","normal"),k.setTextColor(120),k.text("STUDENT REPORT CARD",R/2,te,{align:"center"}),te+=4,k.setDrawColor(30,58,95),k.setLineWidth(.5),k.line(30,te,R-30,te),te+=6,k.setFillColor(245,247,250),k.setDrawColor(220),k.roundedRect(14,te,R-28,28,3,3,"FD"),k.setFontSize(9),k.setFont("helvetica","bold"),k.setTextColor(100);const de=20,X=80,W=120,M=165,he=te+8,Se=te+17;k.text("NAME:",de,he),k.text("CLASS:",X,he),k.text("TERM:",W,he),k.text("YEAR:",M,he),k.setFont("helvetica","normal"),k.setTextColor(30),k.text(`${q.first_name} ${q.last_name}`,de,he+5),k.text(q.class_name||"N/A",X,he+5),k.text(l||"All",W,he+5),k.text(u||"All",M,he+5),q.admission_number&&(k.setFont("helvetica","bold"),k.setTextColor(100),k.text("ADM. NO:",de,Se+3),k.setFont("helvetica","normal"),k.setTextColor(30),k.text(q.admission_number,de+25,Se+3)),q.gender&&(k.setFont("helvetica","bold"),k.setTextColor(100),k.text("GENDER:",X,Se+3),k.setFont("helvetica","normal"),k.setTextColor(30),k.text(q.gender,X+22,Se+3)),te+=34;const le=se.map((xe,Z)=>[Z+1,xe.subject_name,xe.score,xe.grade||"",k4(xe.grade),xe.remarks||""]);le.push(["","TOTAL / AVERAGE",L.total_score,"",`Avg: ${L.average_score}%`,`${L.total_subjects} subject${L.total_subjects!==1?"s":""}`]),ao(k,{startY:te,head:[["#","Subject","Score","Grade","Remark","Comments"]],body:le,theme:"grid",headStyles:{fillColor:[30,58,95],textColor:[255,255,255],fontSize:9,fontStyle:"bold",halign:"center"},bodyStyles:{fontSize:9,textColor:[40,40,40]},alternateRowStyles:{fillColor:[248,250,252]},columnStyles:{0:{cellWidth:10,halign:"center"},1:{fontStyle:"bold"},2:{halign:"center",cellWidth:18},3:{halign:"center",cellWidth:18}},didParseCell(xe){if(xe.row.index===le.length-1&&(xe.cell.styles.fontStyle="bold",xe.cell.styles.fillColor=[30,58,95],xe.cell.styles.textColor=[255,255,255]),xe.section==="body"&&xe.column.index===3&&xe.row.index<le.length-1){const Z=xe.cell.raw;["D1","D2"].includes(Z)?xe.cell.styles.textColor=[5,150,105]:["C3","C4","C5","C6"].includes(Z)?xe.cell.styles.textColor=[37,99,235]:["P7","P8"].includes(Z)?xe.cell.styles.textColor=[217,119,6]:Z==="F9"&&(xe.cell.styles.textColor=[220,38,38])}},margin:{left:14,right:14}});const A=(T=k.lastAutoTable)!=null&&T.finalY?k.lastAutoTable.finalY+10:te+80,H=(R-28-16)/3;[{label:"Average Score",value:`${L.average_score}%`,color:[30,58,95]},{label:"Total Score",value:`${L.total_score}`,color:[5,150,105]},{label:"Subjects",value:`${L.total_subjects}`,color:[217,119,6]}].forEach((xe,Z)=>{const Me=14+Z*(H+8);k.setFillColor(...xe.color),k.roundedRect(Me,A,H,18,2,2,"F"),k.setFontSize(7),k.setFont("helvetica","normal"),k.setTextColor(255),k.text(xe.label.toUpperCase(),Me+H/2,A+6,{align:"center"}),k.setFontSize(14),k.setFont("helvetica","bold"),k.text(xe.value,Me+H/2,A+14,{align:"center"})});const I=A+28;k.setFontSize(9),k.setFont("helvetica","bold"),k.setTextColor(30,58,95),k.text("CLASS TEACHER'S COMMENT:",14,I),k.setDrawColor(200),k.line(14,I+8,R/2-5,I+8),k.text("HEAD TEACHER'S COMMENT:",R/2+5,I),k.line(R/2+5,I+8,R-14,I+8);const ne=I+22;k.setDrawColor(150),k.setLineWidth(.3),k.line(14,ne,80,ne),k.setFontSize(8),k.setFont("helvetica","normal"),k.setTextColor(120),k.text("Class Teacher's Signature & Stamp",14,ne+5),k.line(R/2+5,ne,R-14,ne),k.text("Head Teacher's Signature & Stamp",R/2+5,ne+5),k.setFillColor(240,173,78),k.rect(0,Y-8,R,2,"F"),k.setFillColor(30,58,95),k.rect(0,Y-6,R,6,"F"),k.setFontSize(7),k.setFont("helvetica","italic"),k.setTextColor(255);const ge=B?`Generated by ${P} digital system on ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`:`Generated by School Manager  ${new Date().getFullYear()}`;k.text(ge,R/2,Y-9,{align:"center"});const Ee=`Report_Card_${q.first_name}_${q.last_name}_${l}_${u}.pdf`;k.save(Ee.replace(/\s+/g,"_")),ct.success("Report card PDF downloaded!")}catch{ct.error("Failed to generate PDF. Please try again.")}finally{g(!1)}}};if(!s)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary-500"})});const{pupil:_,assessments:w,summary:S}=s,j=PH(S.average_score);return i.jsxs("div",{className:"space-y-5 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 print:hidden",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>r(-1),className:"p-2 rounded-lg hover:bg-gray-100 transition",children:i.jsx(W7,{className:"w-5 h-5 text-gray-500"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Report Card"}),i.jsxs("p",{className:"text-sm text-gray-500",children:[_.first_name," ",_.last_name,"  ",_.class_name||"No class"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:y,className:"btn-secondary flex items-center gap-2 text-sm",children:[i.jsx(wc,{className:"w-4 h-4"})," Print"]}),i.jsxs("button",{onClick:x,disabled:p,className:"btn-primary flex items-center gap-2 text-sm",children:[p?i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):i.jsx(WN,{className:"w-4 h-4"}),p?"Generating":"Download PDF"]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 print:hidden",children:[i.jsxs("select",{value:l,onChange:T=>c(T.target.value),className:"input-field text-sm w-auto",children:[i.jsx("option",{value:"",children:"All Terms"}),CH.map(T=>i.jsx("option",{value:T,children:T},T))]}),i.jsx("input",{value:u,onChange:T=>f(T.target.value),className:"input-field text-sm w-28",placeholder:"Year"})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",id:"report-card",children:[i.jsx("div",{className:"h-2 bg-gradient-to-r from-primary-600 via-primary-500 to-accent-400"}),i.jsxs("div",{className:"text-center pt-8 pb-6 px-6 bg-gradient-to-b from-gray-50 to-white",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:n!=null&&n.school_badge_url?i.jsx("img",{src:`${T4}${n.school_badge_url}`,alt:"School Badge",className:"w-20 h-20 rounded-full object-cover border-4 border-white shadow-lg"}):i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center shadow-lg",children:i.jsx(na,{className:"w-10 h-10 text-white"})})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800 tracking-wide",children:(n==null?void 0:n.school_name)||"School Manager"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[i.jsx("div",{className:"w-8 h-px bg-primary-300"}),i.jsx("p",{className:"text-xs font-semibold text-primary-600 uppercase tracking-widest",children:"Student Report Card"}),i.jsx("div",{className:"w-8 h-px bg-primary-300"})]})]}),i.jsxs("div",{className:"px-6 pb-8",children:[i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-8",children:[{label:"Student Name",value:`${_.first_name} ${_.last_name}`,span:"sm:col-span-2"},{label:"Class",value:_.class_name||""},{label:"Term",value:l||"All"},{label:"Academic Year",value:u||"All"},..._.admission_number?[{label:"Adm. No.",value:_.admission_number}]:[],..._.gender?[{label:"Gender",value:_.gender}]:[]].map((T,q)=>i.jsxs("div",{className:`bg-gray-50 rounded-xl p-3 border border-gray-100 ${T.span||""}`,children:[i.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-semibold tracking-wider",children:T.label}),i.jsx("p",{className:"font-bold text-gray-800 text-sm mt-0.5",children:T.value})]},q))}),w.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gradient-to-r from-primary-600 to-primary-700 text-white",children:[i.jsx("th",{className:"text-center p-3 w-10 font-semibold text-xs",children:"#"}),i.jsx("th",{className:"text-left p-3 font-semibold text-xs uppercase tracking-wider",children:"Subject"}),i.jsx("th",{className:"text-center p-3 w-24 font-semibold text-xs uppercase tracking-wider",children:"Score"}),i.jsx("th",{className:"text-center p-3 w-20 font-semibold text-xs uppercase tracking-wider",children:"Grade"}),i.jsx("th",{className:"text-left p-3 font-semibold text-xs uppercase tracking-wider",children:"Remark"}),i.jsx("th",{className:"text-left p-3 font-semibold text-xs uppercase tracking-wider hidden sm:table-cell",children:"Comments"})]})}),i.jsxs("tbody",{children:[w.map((T,q)=>i.jsxs("tr",{className:`border-b border-gray-100 ${q%2===0?"bg-white":"bg-gray-50/50"} hover:bg-blue-50/30 transition`,children:[i.jsx("td",{className:"p-3 text-center text-gray-400 text-xs",children:q+1}),i.jsx("td",{className:"p-3 font-semibold text-gray-800",children:T.subject_name}),i.jsx("td",{className:"p-3 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-1.5 hidden sm:block",children:i.jsx("div",{className:`h-1.5 rounded-full ${TH(parseFloat(T.score))}`,style:{width:`${T.score}%`}})}),i.jsx("span",{className:"font-bold text-gray-800",children:T.score})]})}),i.jsx("td",{className:"p-3 text-center",children:i.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${kH(T.grade)}`,children:T.grade})}),i.jsx("td",{className:"p-3 text-gray-600 text-xs font-medium",children:k4(T.grade)}),i.jsx("td",{className:"p-3 text-gray-400 text-xs hidden sm:table-cell",children:T.remarks||""})]},T.id)),i.jsxs("tr",{className:"bg-gradient-to-r from-primary-600 to-primary-700 text-white font-bold",children:[i.jsx("td",{className:"p-3"}),i.jsx("td",{className:"p-3 text-sm",children:"TOTAL / AVERAGE"}),i.jsx("td",{className:"p-3 text-center text-sm",children:S.total_score}),i.jsxs("td",{className:"p-3 text-center text-sm",children:[S.average_score,"%"]}),i.jsxs("td",{className:"p-3 text-xs",children:[S.total_subjects," subject",S.total_subjects!==1?"s":""]}),i.jsx("td",{className:"p-3 hidden sm:table-cell"})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-8",children:[i.jsxs("div",{className:`rounded-xl p-5 text-center border ${j.bg}`,children:[i.jsx($p,{className:`w-8 h-8 mx-auto mb-2 ${j.color}`}),i.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-semibold tracking-wider",children:"Overall"}),i.jsx("p",{className:`text-lg font-bold mt-1 ${j.color}`,children:j.label})]}),i.jsxs("div",{className:"bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl p-5 text-center text-white shadow-md",children:[i.jsx("p",{className:"text-[10px] uppercase font-semibold tracking-wider text-white/70",children:"Average"}),i.jsxs("p",{className:"text-3xl font-bold mt-1",children:[S.average_score,"%"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl p-5 text-center text-white shadow-md",children:[i.jsx("p",{className:"text-[10px] uppercase font-semibold tracking-wider text-white/70",children:"Total Score"}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:S.total_score})]}),i.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl p-5 text-center text-white shadow-md",children:[i.jsx("p",{className:"text-[10px] uppercase font-semibold tracking-wider text-white/70",children:"Subjects"}),i.jsx("p",{className:"text-3xl font-bold mt-1",children:S.total_subjects})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 mt-8",children:[i.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[i.jsx("p",{className:"text-xs font-bold text-primary-600 uppercase tracking-wider mb-3",children:"Class Teacher's Comment"}),i.jsx("div",{className:"h-16 border-b border-dashed border-gray-300"})]}),i.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[i.jsx("p",{className:"text-xs font-bold text-primary-600 uppercase tracking-wider mb-3",children:"Head Teacher's Comment"}),i.jsx("div",{className:"h-16 border-b border-dashed border-gray-300"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-10 pt-6 border-t border-gray-200",children:[i.jsxs("div",{children:[i.jsx("div",{className:"border-b-2 border-gray-400 mb-2 h-10"}),i.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Class Teacher's Signature & Stamp"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"border-b-2 border-gray-400 mb-2 h-10"}),i.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Head Teacher's Signature & Stamp"})]})]}),i.jsx("div",{className:"mt-8 pt-4 border-t border-gray-100 text-center",children:i.jsx("p",{className:"text-[10px] text-gray-400 italic",children:["standard","pro"].includes(n==null?void 0:n.plan_type)?`Generated by ${n==null?void 0:n.school_name} digital system on ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`:`Generated by School Manager  ${new Date().getFullYear()}`})})]}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(na,{className:"w-10 h-10 text-gray-300"})}),i.jsx("p",{className:"text-gray-500 font-medium",children:"No assessments found for this term and year."}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Try selecting a different term or academic year above."})]})]}),i.jsx("div",{className:"h-2 bg-gradient-to-r from-accent-400 via-primary-500 to-primary-600"})]})]})},OH=()=>{const{user:e}=sn(),t=(e==null?void 0:e.role)==="SUPER_ADMIN",{get:r,post:n,del:a,loading:s}=En(),[o,l]=G.useState([]),[c,u]=G.useState(!1),[f,p]=G.useState(""),[g,d]=G.useState(""),[y,x]=G.useState("all"),[_,w]=G.useState(""),[S,j]=G.useState([]),T=G.useCallback(async()=>{try{const P=await r("/broadcasts",{limit:50},{silent:!0});P&&P.data&&l(P.data)}catch{}},[r]),q=G.useCallback(async()=>{if(t)try{const P=await r("/schools",{limit:200},{silent:!0});P&&P.data&&j(Array.isArray(P.data)?P.data:[])}catch{}},[r,t]);G.useEffect(()=>{T(),q()},[T,q]);const se=()=>{p(""),d(""),x("all"),w("")},L=async P=>{P.preventDefault();try{const B={title:f,message:g,target:y};_&&(B.target_school_id=_),await n("/broadcasts",B),ct.success("Broadcast sent to users!"),u(!1),se(),T()}catch{}},k=async P=>{if(window.confirm("Remove this broadcast?"))try{await a(`/broadcasts/${P}`),ct.success("Broadcast removed"),T()}catch{}},R=P=>P==="all"?"Everyone":P==="school_admins"?"School Admins":P==="teachers"?"All Teachers":P==="parents"?"All Parents":P||"Everyone",Y=P=>{if(!P)return"";const B=new Date,z=new Date(P),te=B-z,de=Math.floor(te/6e4);if(de<1)return"Just now";if(de<60)return`${de}m ago`;const X=Math.floor(de/60);if(X<24)return`${X}h ago`;const W=Math.floor(X/24);return W<7?`${W}d ago`:z.toLocaleDateString()};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Broadcasts"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t?"Send system-wide messages to all schools and users":"System messages from the platform"})]}),t&&i.jsxs("button",{onClick:()=>{u(!c),c&&se()},className:"btn-primary flex items-center gap-2",children:[c?i.jsx(Aa,{className:"w-5 h-5"}):i.jsx(oo,{className:"w-5 h-5"}),c?"Cancel":"New Broadcast"]})]}),c&&t&&i.jsxs("form",{onSubmit:L,className:"card border-red-200 space-y-4",children:[i.jsxs("h2",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[i.jsx(af,{className:"w-5 h-5 text-red-500"}),"Compose Broadcast"]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Title *"}),i.jsx("input",{value:f,onChange:P=>p(P.target.value),className:"input-field",placeholder:"e.g., System Maintenance Notice",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Message *"}),i.jsx("textarea",{value:g,onChange:P=>d(P.target.value),className:"input-field",rows:4,placeholder:"Write your message here...",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Target Audience"}),i.jsxs("select",{value:y,onChange:P=>x(P.target.value),className:"input-field",children:[i.jsx("option",{value:"all",children:"Everyone (All Users)"}),i.jsx("option",{value:"school_admins",children:"School Admins Only"}),i.jsx("option",{value:"teachers",children:"All Teachers"}),i.jsx("option",{value:"parents",children:"All Parents"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Specific School (optional)"}),i.jsxs("select",{value:_,onChange:P=>w(P.target.value),className:"input-field",children:[i.jsx("option",{value:"",children:"All Schools"}),S.map(P=>i.jsx("option",{value:P.id,children:P.name},P.id))]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Leave empty to send to all schools"})]})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>{u(!1),se()},className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:s,className:"btn-primary",children:s?"Sending...":"Send Broadcast"})]})]}),i.jsx("div",{className:"space-y-3",children:o.length>0?o.map(P=>i.jsx("div",{className:"card border-l-4 border-l-red-400",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(af,{className:"w-5 h-5 text-red-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:P.title}),i.jsx("span",{className:"px-2 py-0.5 bg-red-50 border border-red-200 rounded text-xs text-red-600 font-medium",children:R(P.target)})]}),i.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:P.message}),i.jsx("div",{className:"flex items-center gap-3 mt-2",children:i.jsxs("span",{className:"text-xs text-gray-400",children:[P.posted_by_name?`By ${P.posted_by_name}  `:"",Y(P.created_at)]})})]}),t&&i.jsx("button",{onClick:()=>k(P.id),className:"p-1.5 rounded hover:bg-red-50 text-gray-400 hover:text-red-500 transition flex-shrink-0",title:"Remove broadcast",children:i.jsx(To,{className:"w-4 h-4"})})]})},P.id)):i.jsxs("div",{className:"card text-center py-12 text-gray-400",children:[i.jsx(Si,{className:"w-12 h-12 mx-auto mb-2"}),i.jsx("p",{children:"No broadcasts yet"}),t&&i.jsx("p",{className:"text-xs mt-1",children:'Click "New Broadcast" to send a message to all users'})]})})]})},RH=[{key:"monthly",label:"Monthly",discount:null},{key:"termly",label:"Termly",discount:"Save 25%"},{key:"yearly",label:"Yearly",discount:"Save 40%"}],P4=[{key:"USD",symbol:"$",flag:""},{key:"KES",symbol:"KES",flag:""},{key:"UGX",symbol:"UGX",flag:""}],DH={standard:c0,pro:Df},L4={standard:{ring:"ring-blue-500",accent:"text-blue-600",btn:"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 shadow-blue-200",iconBg:"bg-blue-50"},pro:{ring:"ring-purple-500",accent:"text-purple-600",btn:"bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-700 hover:to-purple-600 shadow-purple-200",iconBg:"bg-purple-50"}},Bh=(e,t)=>t==="USD"?new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(e):new Intl.NumberFormat("en-UG",{maximumFractionDigits:0}).format(e),IH=()=>{var de;const{user:e,updateUser:t}=sn(),{get:r}=En(),n=so(),[a,s]=G.useState(null),[o,l]=G.useState("termly"),[c,u]=G.useState("USD"),[f,p]=G.useState(null),[g,d]=G.useState([]),[y,x]=G.useState({open:!1,url:"",plan:"",trackingId:"",phase:"iframe",paymentInfo:null}),_=G.useRef(null),w=G.useRef(0),S=(e==null?void 0:e.subscription_status)==="active",j=(e==null?void 0:e.plan_type)||"starter",T=G.useCallback(async()=>{try{const X=await r("/pesapal/plans",null,{silent:!0});s(X.data)}catch{}},[r]),q=G.useCallback(async()=>{try{const X=await r("/subscriptions",null,{silent:!0});d(X.data||[])}catch{}},[r]);G.useEffect(()=>{T(),q()},[T,q]);const se=X=>{var M;const W=(M=X==null?void 0:X.pricing)==null?void 0:M[c];return W?o==="monthly"?W.monthly:o==="yearly"?W.yearly:W.termly:0},L=((de=P4.find(X=>X.key===c))==null?void 0:de.symbol)||c,k=G.useCallback(async X=>{if(X)try{const{data:W}=await es.get(`/pesapal/status/${X}`),M=W.data;M.status==="completed"?(clearInterval(_.current),_.current=null,x(he=>({...he,phase:"completed",paymentInfo:M})),t&&t({subscription_status:"active",plan_type:M.plan}),q()):(M.status==="failed"||M.status==="reversed")&&(clearInterval(_.current),_.current=null,x(he=>({...he,phase:"failed",paymentInfo:M})))}catch{}},[t,q]),R=G.useCallback(X=>{_.current&&clearInterval(_.current),w.current=0,_.current=setInterval(()=>{w.current+=1,k(X),w.current>36&&(clearInterval(_.current),_.current=null)},5e3)},[k]);G.useEffect(()=>()=>{_.current&&clearInterval(_.current)},[]);const Y=async X=>{var W,M;if(!f){p(X);try{const{data:he}=await es.post("/pesapal/initiate",{plan_type:X,billing_period:o,currency:c}),Se=he.data;Se.redirectUrl?(x({open:!0,url:Se.redirectUrl,plan:X,trackingId:Se.trackingId||"",phase:"iframe",paymentInfo:null}),Se.trackingId&&R(Se.trackingId)):ct.error("No payment URL received. Please try again.")}catch(he){ct.error(((M=(W=he.response)==null?void 0:W.data)==null?void 0:M.message)||"Failed to initiate payment.")}finally{p(null)}}},P=()=>{x(X=>({...X,phase:"checking"})),k(y.trackingId)},B=()=>{_.current&&(clearInterval(_.current),_.current=null),x({open:!1,url:"",plan:"",trackingId:"",phase:"iframe",paymentInfo:null}),q()},z=(()=>{const X=(e==null?void 0:e.subscription_status)==="trial"?e==null?void 0:e.trial_ends_at:e==null?void 0:e.subscription_expires_at;return X?Math.max(0,Math.ceil((new Date(X)-new Date)/864e5)):null})(),te=()=>{var X;switch(y.phase){case"iframe":return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-1 relative",children:i.jsx("iframe",{src:y.url,title:"PesaPal Payment",className:"absolute inset-0 w-full h-full border-0",allow:"payment",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-top-navigation"})}),i.jsxs("div",{className:"px-5 py-3 border-t border-gray-100 bg-gray-50 flex items-center justify-between gap-3",children:[i.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center gap-1",children:[i.jsx(Df,{className:"w-3.5 h-3.5"})," Secured by PesaPal"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:B,className:"text-xs text-gray-500 hover:text-gray-700 font-medium px-3 py-1.5 rounded-lg hover:bg-gray-100 transition",children:"Cancel"}),i.jsxs("button",{onClick:P,className:"text-xs font-bold text-white bg-emerald-600 hover:bg-emerald-700 px-4 py-1.5 rounded-lg transition flex items-center gap-1.5",children:[i.jsx(Ni,{className:"w-4 h-4"}),"I've Completed Payment"]})]})]})]});case"checking":case"pending":return i.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:i.jsxs("div",{className:"text-center space-y-5 max-w-sm",children:[i.jsx("div",{className:"w-20 h-20 mx-auto bg-amber-50 rounded-full flex items-center justify-center",children:i.jsx("div",{className:"w-10 h-10 border-4 border-amber-200 border-t-amber-600 rounded-full animate-spin"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Verifying Payment"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1.5",children:["Checking with PesaPal... This may take a moment.",i.jsx("br",{}),i.jsx("span",{className:"text-xs text-gray-400",children:"If you paid via mobile money, confirm the prompt on your phone first."})]})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-amber-600 font-medium",children:[i.jsx("div",{className:"w-2.5 h-2.5 border-2 border-amber-300 border-t-amber-600 rounded-full animate-spin"}),"Auto-checking every 5 seconds..."]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center pt-2",children:[i.jsxs("button",{onClick:()=>k(y.trackingId),className:"btn-secondary text-xs inline-flex items-center justify-center gap-1.5",children:[i.jsx(L0,{className:"w-4 h-4"})," Check Now"]}),i.jsx("button",{onClick:()=>x(W=>({...W,phase:"iframe"})),className:"text-xs text-gray-500 hover:text-gray-700 font-medium px-3 py-1.5 rounded-lg hover:bg-gray-100 transition",children:" Back to Payment Form"})]})]})});case"completed":return i.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:i.jsxs("div",{className:"text-center space-y-5 max-w-sm",children:[i.jsx("div",{className:"w-24 h-24 mx-auto bg-emerald-50 rounded-full flex items-center justify-center",children:i.jsx(Ni,{className:"w-14 h-14 text-emerald-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Successful! "}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1.5",children:["Your subscription is now ",i.jsx("strong",{children:"active"}),". Thank you!"]})]}),y.paymentInfo&&i.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 space-y-2 text-left text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Plan"}),i.jsx("span",{className:"font-bold text-gray-800 capitalize",children:y.paymentInfo.plan})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-bold text-gray-800",children:[y.paymentInfo.currency," ",Bh(parseFloat(y.paymentInfo.amount||0),y.paymentInfo.currency)]})]}),y.paymentInfo.paymentMethod&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Paid via"}),i.jsx("span",{className:"font-medium text-gray-700",children:y.paymentInfo.paymentMethod})]}),y.paymentInfo.expiresAt&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Valid until"}),i.jsx("span",{className:"font-medium text-gray-700",children:new Date(y.paymentInfo.expiresAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})})]})]}),i.jsxs("button",{onClick:()=>{B(),n("/dashboard")},className:"btn-primary inline-flex items-center gap-2",children:[i.jsx(Ji,{className:"w-5 h-5"})," Go to Dashboard"]})]})});case"failed":return i.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:i.jsxs("div",{className:"text-center space-y-5 max-w-sm",children:[i.jsx("div",{className:"w-24 h-24 mx-auto bg-red-50 rounded-full flex items-center justify-center",children:i.jsx(u0,{className:"w-14 h-14 text-red-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Failed"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1.5",children:((X=y.paymentInfo)==null?void 0:X.message)||"The payment was not successful. You can try again."})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center",children:[i.jsxs("button",{onClick:()=>{B()},className:"btn-primary inline-flex items-center justify-center gap-1.5 text-sm",children:[i.jsx(Zc,{className:"w-4 h-4"})," Try Again"]}),i.jsxs("button",{onClick:()=>{B(),n("/dashboard")},className:"btn-secondary inline-flex items-center justify-center gap-1.5 text-sm",children:[i.jsx(Ji,{className:"w-4 h-4"})," Dashboard"]})]})]})});default:return null}};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"max-w-4xl mx-auto space-y-5",children:[i.jsxs("div",{className:"text-center space-y-1",children:[i.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-primary-50 text-primary-700 px-3 py-1 rounded-full text-xs font-semibold",children:[i.jsx(sP,{className:"w-3.5 h-3.5"}),S?"Manage Subscription":"Choose a Plan"]}),i.jsx("h1",{className:"text-2xl font-extrabold text-gray-900",children:S?"Upgrade or Renew":"Subscribe to School Manager"}),i.jsx("p",{className:"text-sm text-gray-500 max-w-md mx-auto",children:"Powerful digital tools for your school. 7-day money-back guarantee."})]}),z!==null&&z<=30&&i.jsx("div",{className:`rounded-xl px-4 py-3 flex items-center justify-between text-sm ${S?"bg-emerald-50 border border-emerald-200 text-emerald-800":(e==null?void 0:e.subscription_status)==="trial"?"bg-amber-50 border border-amber-200 text-amber-800":"bg-red-50 border border-red-200 text-red-800"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wf,{className:"w-4 h-4 flex-shrink-0"}),i.jsxs("span",{className:"font-medium",children:[S?`${j.charAt(0).toUpperCase()+j.slice(1)} Plan`:(e==null?void 0:e.subscription_status)==="trial"?"Free Trial":"Expired","  ",z===0?"expires today":`${z} day${z!==1?"s":""} left`]})]})}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[i.jsx("div",{className:"inline-flex bg-gray-100 rounded-lg p-0.5 gap-0.5",children:P4.map(X=>i.jsxs("button",{onClick:()=>u(X.key),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-xs font-medium transition-all ${c===X.key?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx("span",{children:X.flag})," ",X.key]},X.key))}),i.jsx("div",{className:"inline-flex bg-gray-100 rounded-lg p-0.5 gap-0.5",children:RH.map(X=>i.jsxs("button",{onClick:()=>l(X.key),className:`relative px-4 py-1.5 rounded-md text-xs font-medium transition-all ${o===X.key?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[X.label,X.discount&&i.jsx("span",{className:"absolute -top-2 -right-1 text-[9px] font-bold bg-emerald-500 text-white px-1.5 py-0.5 rounded-full leading-none",children:X.discount})]},X.key))})]}),a?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(a).map(([X,W])=>{var A;const M=L4[X]||L4.standard,he=DH[X]||$p,Se=se(W),le=S&&j===X;return i.jsxs("div",{className:`relative bg-white rounded-2xl border p-5 transition-all hover:shadow-lg ${W.popular?`ring-2 ${M.ring} shadow-md`:"border-gray-200"}`,children:[W.popular&&i.jsx("span",{className:"absolute -top-2.5 left-1/2 -translate-x-1/2 bg-blue-600 text-white text-[10px] font-bold px-4 py-1 rounded-full shadow",children:"Most Popular"}),le&&i.jsx("span",{className:"absolute top-2.5 right-2.5 bg-emerald-500 text-white text-[10px] font-bold px-2.5 py-0.5 rounded-full",children:"Current"}),i.jsxs("div",{className:"flex items-center gap-2.5 mb-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${M.iconBg}`,children:i.jsx(he,{className:`w-5 h-5 ${M.accent}`})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:W.name}),i.jsx("p",{className:"text-[11px] text-gray-400",children:X==="pro"?"Large schools":"Growing schools"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"text-xs text-gray-400",children:L}),i.jsx("span",{className:"text-3xl font-extrabold text-gray-900",children:Bh(Se,c)})]}),i.jsxs("p",{className:"text-xs text-gray-400",children:["per ",o==="monthly"?"month":o==="yearly"?"year":"term",o!=="monthly"&&((A=W.pricing)==null?void 0:A[c])&&i.jsxs(i.Fragment,{children:["   ",L," ",Bh(Math.round(Se/(o==="yearly"?12:4)),c),"/mo"]})]})]}),i.jsx("ul",{className:"space-y-1.5 mb-5",children:W.features.map((H,D)=>i.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-600",children:[i.jsx(Ni,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${M.accent}`}),H]},D))}),i.jsx("button",{onClick:()=>Y(X),disabled:f!==null,className:`w-full py-3 rounded-xl text-white font-bold text-sm shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50 ${M.btn}`,children:f===X?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"})," Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Zc,{className:"w-4 h-4"})," ",le?"Renew":S?"Upgrade":"Subscribe"]})}),i.jsx("p",{className:"text-center text-[9px] text-gray-300 mt-2",children:"Mobile Money  Visa  Mastercard"})]},X)})}):i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-7 w-7 border-b-2 border-primary-500"})}),i.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx($p,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"font-semibold text-sm text-gray-700",children:"Starter  Free (30-day trial)"})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-1.5 text-xs text-gray-500",children:["Up to 100 pupils","Basic attendance","Simple fees","Up to 5 teachers","Email support","30-day trial"].map((X,W)=>i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Ni,{className:"w-3.5 h-3.5 text-gray-300 flex-shrink-0"})," ",X]},W))})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-[10px] text-gray-400",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Df,{className:"w-3.5 h-3.5"})," Secure via PesaPal"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Zc,{className:"w-3.5 h-3.5"})," Mobile Money, Visa, Mastercard"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ni,{className:"w-3.5 h-3.5"})," 7-day money-back"]})]}),g.length>0&&i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[i.jsx("h3",{className:"font-bold text-sm text-gray-800 mb-3",children:"Payment History"}),i.jsx("div",{className:"overflow-x-auto -mx-4",children:i.jsxs("table",{className:"w-full text-xs min-w-[480px]",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-100 text-gray-500",children:[i.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Date"}),i.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Plan"}),i.jsx("th",{className:"text-right px-4 py-2 font-medium",children:"Amount"}),i.jsx("th",{className:"text-center px-4 py-2 font-medium",children:"Status"}),i.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Reference"})]})}),i.jsx("tbody",{children:g.map(X=>i.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50/50",children:[i.jsx("td",{className:"px-4 py-2 text-gray-500",children:new Date(X.created_at).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}),i.jsx("td",{className:"px-4 py-2",children:i.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-semibold capitalize ${X.plan_type==="pro"?"bg-purple-100 text-purple-700":X.plan_type==="standard"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:X.plan_type})}),i.jsxs("td",{className:"px-4 py-2 text-right font-medium text-gray-800",children:[X.currency," ",Bh(parseFloat(X.amount),X.currency)]}),i.jsx("td",{className:"px-4 py-2 text-center",children:i.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-semibold capitalize ${X.payment_status==="completed"?"bg-emerald-100 text-emerald-700":X.payment_status==="pending"?"bg-amber-100 text-amber-700":X.payment_status==="failed"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:X.payment_status||X.status})}),i.jsx("td",{className:"px-4 py-2 text-gray-400 font-mono text-[10px]",children:X.payment_reference||X.pesapal_tracking_id||""})]},X.id))})]})})]})]}),y.open&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:i.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl flex flex-col overflow-hidden",style:{height:"min(85vh, 700px)"},children:[i.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-gray-100 bg-gray-50 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Zc,{className:"w-5 h-5 text-primary-600"}),i.jsx("span",{className:"font-semibold text-sm text-gray-800",children:y.phase==="completed"?"Payment Complete":y.phase==="failed"?"Payment Failed":y.phase==="checking"||y.phase==="pending"?"Verifying Payment...":"Complete Payment"}),i.jsx("span",{className:"text-[10px] bg-primary-100 text-primary-700 px-2 py-0.5 rounded-full font-medium capitalize",children:y.plan})]}),i.jsx("button",{onClick:B,className:"p-1.5 rounded-lg hover:bg-gray-200 transition text-gray-500 hover:text-gray-800",title:"Close",children:i.jsx(Aa,{className:"w-5 h-5"})})]}),te()]})})]})},MH=()=>{const[e]=aN(),t=so(),{updateUser:r}=sn(),[n,a]=G.useState("checking"),[s,o]=G.useState(null),[l,c]=G.useState(0),u=G.useRef(null),f=e.get("OrderTrackingId");e.get("OrderMerchantReference");const p=G.useCallback(async()=>{if(!f){a("error");return}try{const{data:y}=await es.get(`/pesapal/status/${f}`),x=y.data;o(x),x.status==="completed"?(a("completed"),r({subscription_status:"active",plan_type:x.plan}),u.current&&clearInterval(u.current)):x.status==="failed"||x.status==="reversed"?(a("failed"),u.current&&clearInterval(u.current)):a("pending")}catch{l>10&&(a("error"),u.current&&clearInterval(u.current))}},[f,l,r]);G.useEffect(()=>{p(),u.current=setInterval(()=>{c(x=>x+1),p()},5e3);const y=setTimeout(()=>{u.current&&clearInterval(u.current),a(x=>x==="pending"?"pending":x)},12e4);return()=>{u.current&&clearInterval(u.current),clearTimeout(y)}},[]);const g=y=>y?new Intl.NumberFormat("en-UG",{style:"decimal"}).format(y):"",d=()=>{switch(n){case"checking":return i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-20 h-20 mx-auto bg-blue-50 rounded-full flex items-center justify-center",children:i.jsx("div",{className:"w-10 h-10 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Verifying Payment"}),i.jsx("p",{className:"text-gray-500",children:"Please wait while we confirm your payment with PesaPal..."})]});case"completed":return i.jsxs("div",{className:"text-center space-y-5",children:[i.jsx("div",{className:"w-24 h-24 mx-auto bg-emerald-50 rounded-full flex items-center justify-center animate-bounce-once",children:i.jsx(Ni,{className:"w-14 h-14 text-emerald-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Successful!"}),i.jsx("p",{className:"text-gray-500 mt-2",children:"Your subscription has been activated. Thank you for subscribing!"})]}),s&&i.jsxs("div",{className:"bg-emerald-50 rounded-xl p-5 space-y-3 max-w-sm mx-auto text-left",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Plan"}),i.jsx("span",{className:"font-bold text-gray-800 capitalize",children:s.plan})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Amount"}),i.jsxs("span",{className:"font-bold text-gray-800",children:[s.currency," ",g(parseFloat(s.amount))]})]}),s.paymentMethod&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Paid via"}),i.jsx("span",{className:"font-medium text-gray-700",children:s.paymentMethod})]}),s.expiresAt&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Valid until"}),i.jsx("span",{className:"font-medium text-gray-700",children:new Date(s.expiresAt).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})})]})]}),i.jsxs("button",{onClick:()=>t("/dashboard"),className:"btn-primary inline-flex items-center gap-2 mt-4",children:[i.jsx(Ji,{className:"w-5 h-5"}),"Go to Dashboard"]})]});case"pending":return i.jsxs("div",{className:"text-center space-y-5",children:[i.jsx("div",{className:"w-24 h-24 mx-auto bg-amber-50 rounded-full flex items-center justify-center",children:i.jsx(Wf,{className:"w-14 h-14 text-amber-500 animate-pulse"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Processing"}),i.jsxs("p",{className:"text-gray-500 mt-2",children:["Your payment is still being processed. This may take a minute.",i.jsx("br",{}),"Please do not close this page."]})]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-amber-600",children:[i.jsx("div",{className:"w-3 h-3 border-2 border-amber-300 border-t-amber-600 rounded-full animate-spin"}),"Checking payment status..."]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mt-4",children:[i.jsxs("button",{onClick:p,className:"btn-secondary inline-flex items-center gap-2",children:[i.jsx(L0,{className:"w-4 h-4"}),"Check Again"]}),i.jsxs("button",{onClick:()=>t("/dashboard"),className:"btn-secondary inline-flex items-center gap-2 text-gray-500",children:[i.jsx(Ji,{className:"w-4 h-4"}),"Go to Dashboard"]})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"If you've already paid via mobile money, check your phone for a confirmation message. The system will automatically update once confirmed."})]});case"failed":return i.jsxs("div",{className:"text-center space-y-5",children:[i.jsx("div",{className:"w-24 h-24 mx-auto bg-red-50 rounded-full flex items-center justify-center",children:i.jsx(u0,{className:"w-14 h-14 text-red-500"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Failed"}),i.jsx("p",{className:"text-gray-500 mt-2",children:(s==null?void 0:s.message)||"Your payment was not successful. Please try again."})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mt-4",children:[i.jsxs("button",{onClick:()=>t("/subscribe"),className:"btn-primary inline-flex items-center gap-2",children:[i.jsx(Zc,{className:"w-5 h-5"}),"Try Again"]}),i.jsxs("button",{onClick:()=>t("/dashboard"),className:"btn-secondary inline-flex items-center gap-2",children:[i.jsx(Ji,{className:"w-4 h-4"}),"Go to Dashboard"]})]})]});case"error":default:return i.jsxs("div",{className:"text-center space-y-5",children:[i.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 rounded-full flex items-center justify-center",children:i.jsx(u0,{className:"w-14 h-14 text-gray-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Something Went Wrong"}),i.jsxs("p",{className:"text-gray-500 mt-2",children:["We couldn't verify your payment at this time.",i.jsx("br",{}),"If you completed the payment, it will be activated automatically."]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mt-4",children:[i.jsxs("button",{onClick:()=>t("/subscribe"),className:"btn-primary inline-flex items-center gap-2",children:[i.jsx(Zc,{className:"w-5 h-5"}),"View Plans"]}),i.jsxs("button",{onClick:()=>t("/dashboard"),className:"btn-secondary inline-flex items-center gap-2",children:[i.jsx(Ji,{className:"w-4 h-4"}),"Go to Dashboard"]})]})]})}};return i.jsx("div",{className:"min-h-[60vh] flex items-center justify-center px-4",children:i.jsx("div",{className:"w-full max-w-lg bg-white rounded-2xl shadow-lg border border-gray-100 p-8",children:d()})})},BH=()=>{const{planType:e,user:t}=sn(),r=e==="pro",{get:n,post:a,loading:s}=En(),[o,l]=G.useState("send"),[c,u]=G.useState(""),[f,p]=G.useState(""),[g,d]=G.useState(""),[y,x]=G.useState("all"),[_,w]=G.useState(""),[S,j]=G.useState(""),[T,q]=G.useState([]),se=G.useRef(null),L=G.useRef(null),k=G.useCallback(async()=>{try{const X=await n("/sms/logs",{limit:50},{silent:!0});X!=null&&X.data&&q(Array.isArray(X.data)?X.data:[])}catch{}},[n]);G.useEffect(()=>{r&&k()},[r,k]);const R=async X=>{if(X.preventDefault(),!c.trim()||!g.trim()){ct.error("Please enter at least one email address and a message");return}const W=c.split(/[,;\n]+/).map(M=>M.trim()).filter(Boolean);if(W.length===0){ct.error("No valid email addresses found");return}try{await a("/sms/send",{to:W,subject:f||"School Notification",message:g}),ct.success(`Email sent to ${W.length} recipient(s)!`),u(""),p(""),d(""),k()}catch{}},Y=async X=>{if(X.preventDefault(),!S.trim()){ct.error("Please enter a message");return}try{const W=await a("/sms/send-bulk",{role:y,subject:_||"School Notification",message:S});ct.success((W==null?void 0:W.message)||"Bulk email sent!"),w(""),j(""),k()}catch{}},P=(X,W,M,he,Se="")=>{const le=X.current;if(!le)return;const A=le.selectionStart,H=le.selectionEnd,D=M.substring(A,H),I=M.substring(0,A),ne=M.substring(H),ge=`${I}${he}${D}${Se}${ne}`;W(ge),setTimeout(()=>{le.focus(),le.selectionStart=A+he.length,le.selectionEnd=A+he.length+D.length},0)},B=X=>X==="sent"||X==="delivered"?i.jsx(Ni,{className:"w-4 h-4 text-emerald-500"}):X==="failed"?i.jsx(zm,{className:"w-4 h-4 text-red-500"}):i.jsx(Wf,{className:"w-4 h-4 text-amber-500"}),z=X=>X?new Date(X).toLocaleString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",te=X=>X?Array.isArray(X)?X.join(", "):String(X):"",de=({textareaRef:X,value:W,onChange:M,placeholder:he,charLimit:Se=5e3})=>i.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden focus-within:border-primary-400 focus-within:ring-2 focus-within:ring-primary-100 transition-all",children:[i.jsxs("div",{className:"flex items-center gap-1 px-3 py-2 bg-gray-50 border-b border-gray-200",children:[i.jsx("button",{type:"button",onClick:()=>P(X,M,W,"**","**"),className:"p-1.5 rounded hover:bg-gray-200 text-gray-500 hover:text-gray-700 transition-colors",title:"Bold",children:i.jsx("span",{className:"text-xs font-bold",children:"B"})}),i.jsx("button",{type:"button",onClick:()=>P(X,M,W,"_","_"),className:"p-1.5 rounded hover:bg-gray-200 text-gray-500 hover:text-gray-700 transition-colors",title:"Italic",children:i.jsx("span",{className:"text-xs italic font-medium",children:"I"})}),i.jsx("button",{type:"button",onClick:()=>P(X,M,W,`
 `),className:"p-1.5 rounded hover:bg-gray-200 text-gray-500 hover:text-gray-700 transition-colors",title:"Bullet point",children:i.jsx("span",{className:"text-xs",children:" List"})}),i.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),i.jsx("button",{type:"button",onClick:()=>P(X,M,W,`
---
`),className:"p-1.5 rounded hover:bg-gray-200 text-gray-500 hover:text-gray-700 transition-colors",title:"Horizontal line",children:i.jsx("span",{className:"text-xs",children:" Line"})}),i.jsx("button",{type:"button",onClick:()=>P(X,M,W,""),className:"p-1.5 rounded hover:bg-gray-200 text-gray-500 hover:text-gray-700 transition-colors",title:"Insert emoji",children:i.jsx(Q7,{className:"w-4 h-4"})})]}),i.jsx("textarea",{ref:X,value:W,onChange:le=>M(le.target.value),className:"w-full px-4 py-3 text-sm text-gray-700 placeholder-gray-400 resize-none focus:outline-none min-h-[180px]",maxLength:Se,placeholder:he,required:!0,style:{lineHeight:"1.7"}}),i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50 border-t border-gray-100",children:[i.jsx("p",{className:"text-xs text-gray-400",children:"Plain text email  Line breaks will be preserved"}),i.jsxs("p",{className:`text-xs font-medium ${W.length>Se*.9?"text-amber-500":"text-gray-400"}`,children:[W.length.toLocaleString()," / ",Se.toLocaleString()]})]})]});return r?i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Compose and send emails to parents, teachers, and staff"})]}),i.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs text-gray-400 bg-gray-50 rounded-full px-3 py-1.5",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),"Sending as ",(t==null?void 0:t.school_name)||"your school"]})]}),i.jsx("div",{className:"flex gap-1 bg-gray-100 rounded-lg p-1 w-fit",children:[{key:"send",label:"Compose",icon:xc},{key:"bulk",label:"Bulk Email",icon:ti},{key:"logs",label:"Sent",icon:ms}].map(X=>i.jsxs("button",{onClick:()=>l(X.key),className:`flex items-center gap-1.5 px-4 py-2 rounded-md text-sm font-medium transition-colors ${o===X.key?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(X.icon,{className:"w-4 h-4"}),X.label]},X.key))}),o==="send"&&i.jsxs("form",{onSubmit:R,className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white px-6 py-4 border-b border-gray-100",children:i.jsxs("h2",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[i.jsx(xc,{className:"w-5 h-5 text-primary-500"}),"New Email"]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("label",{className:"text-sm font-medium text-gray-500 pt-2.5 w-16 text-right shrink-0",children:"To"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("textarea",{value:c,onChange:X=>u(X.target.value),className:"w-full px-3 py-2.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-100 transition-all resize-none",rows:2,placeholder:"parent@example.com, teacher@school.com",required:!0}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Separate multiple emails with commas, semicolons, or new lines"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("label",{className:"text-sm font-medium text-gray-500 w-16 text-right shrink-0",children:"Subject"}),i.jsx("input",{type:"text",value:f,onChange:X=>p(X.target.value),className:"flex-1 px-3 py-2.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-100 transition-all",placeholder:"School Notification"})]}),i.jsx("div",{className:"border-t border-gray-100 pt-2"}),i.jsx("div",{children:i.jsx(de,{textareaRef:se,value:g,onChange:d,placeholder:`Write your email message here...

Dear Parents,

We would like to inform you that...

Best regards,
School Administration`})})]}),i.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex items-center justify-between",children:[i.jsx("p",{className:"text-xs text-gray-400",children:"Email will include your school logo and branding automatically"}),i.jsxs("button",{type:"submit",disabled:s||!c.trim()||!g.trim(),className:"btn-primary flex items-center gap-2 px-5 py-2.5 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(J1,{className:"w-4 h-4 rotate-90"}),s?"Sending...":"Send Email"]})]})]}),o==="bulk"&&i.jsxs("form",{onSubmit:Y,className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-white px-6 py-4 border-b border-gray-100",children:[i.jsxs("h2",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[i.jsx(ti,{className:"w-5 h-5 text-primary-500"}),"Bulk Email"]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Send one message to all parents, teachers, or everyone at once"})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("label",{className:"text-sm font-medium text-gray-500 w-16 text-right shrink-0",children:"To"}),i.jsx("div",{className:"flex-1 flex gap-2",children:[{value:"all",label:"Everyone",icon:""},{value:"parents",label:"Parents",icon:""},{value:"teachers",label:"Teachers",icon:""}].map(X=>i.jsxs("button",{type:"button",onClick:()=>x(X.value),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium border transition-all ${y===X.value?"bg-primary-50 border-primary-300 text-primary-700 shadow-sm":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:[i.jsx("span",{children:X.icon}),X.label]},X.value))})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("label",{className:"text-sm font-medium text-gray-500 w-16 text-right shrink-0",children:"Subject"}),i.jsx("input",{type:"text",value:_,onChange:X=>w(X.target.value),className:"flex-1 px-3 py-2.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:border-primary-400 focus:ring-2 focus:ring-primary-100 transition-all",placeholder:"School Notification"})]}),i.jsx("div",{className:"border-t border-gray-100 pt-2"}),i.jsx("div",{children:i.jsx(de,{textareaRef:L,value:S,onChange:j,placeholder:`Write your message to all recipients...

Dear Parents and Staff,

We are pleased to announce...

Thank you,
School Administration`})})]}),i.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Sending to ",i.jsx("span",{className:"font-semibold",children:y==="all"?"all contacts":`all ${y}`})," in your school"]})]}),i.jsxs("button",{type:"submit",disabled:s||!S.trim(),className:"btn-primary flex items-center gap-2 px-5 py-2.5 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(J1,{className:"w-4 h-4 rotate-90"}),s?"Sending...":"Send to All"]})]})]}),o==="logs"&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[i.jsxs("h2",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[i.jsx(ms,{className:"w-5 h-5 text-primary-500"}),"Sent Emails"]}),i.jsx("button",{onClick:k,disabled:s,className:"text-sm text-primary-600 hover:text-primary-700 font-medium transition-colors",children:s?"Refreshing...":"Refresh"})]}),T.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),i.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"}),i.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent By"}),i.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-50",children:T.map(X=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"py-3 px-4 text-xs text-gray-700 max-w-[200px] truncate",children:te(X.recipients)}),i.jsx("td",{className:"py-3 px-4 text-gray-600 max-w-xs truncate",children:X.message||""}),i.jsx("td",{className:"py-3 px-4",children:i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium bg-gray-50",children:[B(X.status),i.jsx("span",{className:"capitalize",children:X.status||"pending"})]})}),i.jsx("td",{className:"py-3 px-4 text-xs text-gray-500",children:X.sent_by_name||""}),i.jsx("td",{className:"py-3 px-4 text-xs text-gray-400",children:z(X.created_at)})]},X.id))})]})}):i.jsxs("div",{className:"text-center py-16 text-gray-400",children:[i.jsx(xc,{className:"w-14 h-14 mx-auto mb-3 text-gray-300"}),i.jsx("p",{className:"font-medium text-gray-500",children:"No emails sent yet"}),i.jsx("p",{className:"text-xs mt-1",children:"Sent emails and their delivery status will appear here"})]})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Send email messages to parents, teachers, and staff"})]}),i.jsxs("div",{className:"card text-center py-16",children:[i.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Hm,{className:"w-8 h-8 text-amber-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Pro Plan Feature"}),i.jsxs("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:["Email Notifications is available on the ",i.jsx("span",{className:"font-semibold text-primary-600",children:"Pro plan"}),". Upgrade to send individual and bulk emails to parents, teachers, and all school contacts directly from your dashboard."]}),i.jsxs("a",{href:"/subscribe",className:"inline-flex items-center gap-2 btn-primary px-6 py-2.5",children:[i.jsx(UN,{className:"w-5 h-5"}),"Upgrade to Pro"]}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-lg mx-auto text-left",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx(J1,{className:"w-5 h-5 text-primary-500 mb-1"}),i.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Send to individual emails"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx(ti,{className:"w-5 h-5 text-primary-500 mb-1"}),i.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Bulk email to all parents/teachers"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx(ms,{className:"w-5 h-5 text-primary-500 mb-1"}),i.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Full delivery logs"})]})]})]})]})},F4="https://lifexschoolmanager.com",UH=()=>{const{planType:e}=sn(),t=e==="pro",{get:r,post:n,put:a,del:s,loading:o}=En(),[l,c]=G.useState([]),[u,f]=G.useState(!1),[p,g]=G.useState(null),[d,y]=G.useState({name:"",permissions:["read"],rate_limit:100,expires_at:""}),x=G.useCallback(async()=>{try{const L=await r("/api-keys",null,{silent:!0});L!=null&&L.data&&c(Array.isArray(L.data)?L.data:[])}catch{}},[r]);G.useEffect(()=>{t&&x()},[t,x]);const _=async L=>{if(L.preventDefault(),!d.name.trim()){ct.error("Please provide a name for the API key");return}try{const k={name:d.name,permissions:d.permissions,rate_limit:parseInt(d.rate_limit)||100};d.expires_at&&(k.expires_at=new Date(d.expires_at).toISOString());const R=await n("/api-keys",k);R!=null&&R.data&&(g(R.data),ct.success("API key created! Copy it now  it will not be shown again."),f(!1),y({name:"",permissions:["read"],rate_limit:100,expires_at:""}),x())}catch{}},w=async L=>{if(window.confirm("Revoke this API key? It will stop working immediately."))try{await a(`/api-keys/${L}/revoke`),ct.success("API key revoked"),x()}catch{}},S=async L=>{if(window.confirm("Permanently delete this API key? This cannot be undone."))try{await s(`/api-keys/${L}`),ct.success("API key deleted"),x()}catch{}},j=L=>{navigator.clipboard.writeText(L).then(()=>{ct.success("Copied to clipboard!")})},T=L=>{y(k=>{const R=k.permissions.includes(L)?k.permissions.filter(Y=>Y!==L):[...k.permissions,L];return R.length===0&&R.push("read"),{...k,permissions:R}})},q=L=>L?new Date(L).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"Never",se=[{method:"GET",path:"/api/v1/external/school",description:"Get school information"},{method:"GET",path:"/api/v1/external/pupils",description:"List pupils (supports ?class_id, ?is_active, ?limit, ?offset)"},{method:"GET",path:"/api/v1/external/teachers",description:"List active teachers"},{method:"GET",path:"/api/v1/external/classes",description:"List classes with pupil counts"},{method:"GET",path:"/api/v1/external/attendance",description:"Get attendance records (supports ?date, ?class_id, ?pupil_id)"},{method:"GET",path:"/api/v1/external/assessments",description:"Get assessment records (supports ?term, ?academic_year, ?class_id)"},{method:"GET",path:"/api/v1/external/fees",description:"List active fee structures"},{method:"GET",path:"/api/v1/external/payments",description:"List payments (supports ?pupil_id, ?from, ?to)"}];return t?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"API Access"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage API keys for programmatic access to your school data"})]}),i.jsx("button",{onClick:()=>{f(!u),g(null)},className:"btn-primary flex items-center gap-2",children:u?i.jsxs(i.Fragment,{children:[i.jsx(Aa,{className:"w-5 h-5"}),"Cancel"]}):i.jsxs(i.Fragment,{children:[i.jsx(oo,{className:"w-5 h-5"}),"Create API Key"]})})]}),p&&i.jsx("div",{className:"card border-2 border-emerald-300 bg-emerald-50",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center flex-shrink-0",children:i.jsx(zu,{className:"w-5 h-5 text-emerald-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-emerald-800 mb-1",children:"API Key Created Successfully"}),i.jsxs("p",{className:"text-sm text-emerald-600 mb-3",children:["Copy this key now  it will ",i.jsx("strong",{children:"not"})," be shown again."]}),i.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg border border-emerald-200 p-3",children:[i.jsx("code",{className:"text-sm font-mono text-gray-800 break-all flex-1",children:p.raw_key||p.key||""}),i.jsx("button",{onClick:()=>j(p.raw_key||p.key||""),className:"p-2 hover:bg-emerald-50 rounded-lg transition flex-shrink-0",title:"Copy to clipboard",children:i.jsx(G7,{className:"w-5 h-5 text-emerald-600"})})]})]}),i.jsx("button",{onClick:()=>g(null),className:"p-1 text-emerald-400 hover:text-emerald-600 transition flex-shrink-0",children:i.jsx(Aa,{className:"w-5 h-5"})})]})}),u&&i.jsxs("form",{onSubmit:_,className:"card border-primary-200 space-y-4",children:[i.jsxs("h2",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[i.jsx(zu,{className:"w-5 h-5 text-primary-500"}),"New API Key"]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Key Name *"}),i.jsx("input",{value:d.name,onChange:L=>y(k=>({...k,name:L.target.value})),className:"input-field",placeholder:'e.g., "Mobile App", "Dashboard Integration", "Report Sync"',required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Permissions"}),i.jsx("div",{className:"flex gap-3 mt-1",children:["read","write","delete"].map(L=>i.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 rounded-lg border cursor-pointer transition-colors ${d.permissions.includes(L)?"border-primary-300 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-500 hover:border-gray-300"}`,children:[i.jsx("input",{type:"checkbox",checked:d.permissions.includes(L),onChange:()=>T(L),className:"sr-only"}),i.jsx("span",{className:"text-sm font-medium capitalize",children:L})]},L))}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Read permission is always required"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Rate Limit (requests/hour)"}),i.jsx("input",{type:"number",value:d.rate_limit,onChange:L=>y(k=>({...k,rate_limit:L.target.value})),className:"input-field",min:10,max:1e3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"label",children:"Expiration Date (optional)"}),i.jsx("input",{type:"date",value:d.expires_at,onChange:L=>y(k=>({...k,expires_at:L.target.value})),className:"input-field",min:new Date().toISOString().split("T")[0]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Leave empty for no expiration"})]})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn-secondary",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:o,className:"btn-primary",children:o?"Creating...":"Create Key"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h2",{className:"font-semibold text-gray-800",children:"Your API Keys"}),l.length>0?l.map(L=>i.jsx("div",{className:`card border-l-4 ${L.is_active===!1||L.revoked?"border-l-red-400 opacity-70":"border-l-primary-400"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${L.is_active===!1||L.revoked?"bg-red-100":"bg-primary-100"}`,children:i.jsx(zu,{className:`w-5 h-5 ${L.is_active===!1||L.revoked?"text-red-600":"text-primary-600"}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:L.name}),(L.is_active===!1||L.revoked)&&i.jsx("span",{className:"px-2 py-0.5 bg-red-50 border border-red-200 rounded text-xs text-red-600 font-medium",children:"Revoked"}),L.permissions&&i.jsx("div",{className:"flex gap-1",children:(Array.isArray(L.permissions)?L.permissions:[]).map(k=>i.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-medium capitalize",children:k},k))})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400 flex-wrap",children:[i.jsxs("span",{children:["Key: ****",L.key_prefix||L.key_hint||""]}),i.jsxs("span",{children:["Rate: ",L.rate_limit||100," req/hr"]}),i.jsxs("span",{children:["Created: ",q(L.created_at)]}),L.expires_at&&i.jsxs("span",{children:["Expires: ",q(L.expires_at)]}),L.last_used_at&&i.jsxs("span",{children:["Last used: ",q(L.last_used_at)]})]})]}),i.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[L.is_active!==!1&&!L.revoked&&i.jsx("button",{onClick:()=>w(L.id),className:"p-1.5 rounded hover:bg-amber-50 text-gray-400 hover:text-amber-600 transition",title:"Revoke key",children:i.jsx(V7,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>S(L.id),className:"p-1.5 rounded hover:bg-red-50 text-gray-400 hover:text-red-500 transition",title:"Delete key permanently",children:i.jsx(To,{className:"w-4 h-4"})})]})]})},L.id)):i.jsxs("div",{className:"card text-center py-12 text-gray-400",children:[i.jsx(zu,{className:"w-12 h-12 mx-auto mb-2"}),i.jsx("p",{children:"No API keys yet"}),i.jsx("p",{className:"text-xs mt-1",children:'Click "Create API Key" to generate your first key'})]})]}),i.jsxs("div",{className:"card",children:[i.jsxs("h2",{className:"font-semibold text-gray-800 flex items-center gap-2 mb-4",children:[i.jsx(K7,{className:"w-5 h-5 text-primary-500"}),"API Documentation"]}),i.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Use the ",i.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs font-mono",children:"X-API-Key"})," header to authenticate your requests. Base URL: ",i.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs font-mono",children:F4})]}),i.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 mb-4",children:[i.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Example Request:"}),i.jsxs("code",{className:"text-sm text-emerald-400 font-mono break-all",children:['curl -H "X-API-Key: YOUR_API_KEY" ',F4,"/api/v1/external/pupils"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase",children:"Method"}),i.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase",children:"Endpoint"}),i.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase",children:"Description"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:se.map(L=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"py-2.5 px-3",children:i.jsx("span",{className:"px-2 py-0.5 bg-emerald-50 border border-emerald-200 rounded text-xs text-emerald-700 font-mono font-medium",children:L.method})}),i.jsx("td",{className:"py-2.5 px-3 font-mono text-xs text-gray-700",children:L.path}),i.jsx("td",{className:"py-2.5 px-3 text-gray-500",children:L.description})]},L.path))})]})}),i.jsxs("div",{className:"mt-4 flex items-start gap-2 bg-amber-50 border border-amber-200 rounded-lg p-3",children:[i.jsx(Z7,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-amber-700",children:[i.jsx("strong",{children:"Rate Limiting:"})," Each API key has a configurable rate limit (default: 100 requests/hour). If exceeded, the API returns ",i.jsx("code",{className:"bg-amber-100 px-1 rounded text-xs font-mono",children:"429 Too Many Requests"}),"."]})]})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"API Access"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Programmatic access to your school data via REST API"})]}),i.jsxs("div",{className:"card text-center py-16",children:[i.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Hm,{className:"w-8 h-8 text-amber-600"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Pro Plan Feature"}),i.jsxs("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:["API Access is available on the ",i.jsx("span",{className:"font-semibold text-primary-600",children:"Pro plan"}),". Upgrade to generate API keys and integrate your school data with external applications, mobile apps, and custom dashboards."]}),i.jsxs("a",{href:"/subscribe",className:"inline-flex items-center gap-2 btn-primary px-6 py-2.5",children:[i.jsx(UN,{className:"w-5 h-5"}),"Upgrade to Pro"]}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-lg mx-auto text-left",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx(zu,{className:"w-5 h-5 text-primary-500 mb-1"}),i.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Secure API key authentication"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx(X7,{className:"w-5 h-5 text-primary-500 mb-1"}),i.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Access pupils, teachers, fees & more"})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx(Df,{className:"w-5 h-5 text-primary-500 mb-1"}),i.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Rate limiting & permission control"})]})]})]})]})},ya=({children:e,roles:t=[]})=>{const{user:r,loading:n,isAuthenticated:a}=sn(),s=Fo();return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):a?t.length>0&&!t.includes(r.role)?i.jsx(nf,{to:"/unauthorized",replace:!0}):e:i.jsx(nf,{to:"/login",state:{from:s},replace:!0})},zH=()=>{const{isAuthenticated:e,loading:t}=sn();return t?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-500 text-sm",children:"Loading School Manager..."})]})}):i.jsxs($C,{children:[i.jsx(Kr,{path:"/login",element:e?i.jsx(nf,{to:"/dashboard"}):i.jsx(NP,{})}),i.jsx(Kr,{path:"/register",element:e?i.jsx(nf,{to:"/dashboard"}):i.jsx(SP,{})}),i.jsx(Kr,{path:"/unauthorized",element:i.jsx(jP,{})}),i.jsx(Kr,{path:"/subscription-expired",element:e?i.jsx(EP,{}):i.jsx(nf,{to:"/login"})}),i.jsxs(Kr,{element:i.jsx(ya,{children:i.jsx(_P,{})}),children:[i.jsx(Kr,{path:"/dashboard",element:i.jsx(PP,{})}),i.jsx(Kr,{path:"/profile",element:i.jsx(wH,{})}),i.jsx(Kr,{path:"/announcements",element:i.jsx(pR,{})}),i.jsx(Kr,{path:"/subscribe",element:i.jsx(IH,{})}),i.jsx(Kr,{path:"/payment/callback",element:i.jsx(MH,{})}),i.jsx(Kr,{path:"/broadcasts",element:i.jsx(OH,{})}),i.jsx(Kr,{path:"/schools",element:i.jsx(ya,{roles:["SUPER_ADMIN"],children:i.jsx(SH,{})})}),i.jsx(Kr,{path:"/subscriptions",element:i.jsx(ya,{roles:["SUPER_ADMIN"],children:i.jsx(jH,{})})}),i.jsx(Kr,{path:"/pupils",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN","TEACHER"],children:i.jsx(oR,{})})}),i.jsx(Kr,{path:"/pupils/new",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN","TEACHER"],children:i.jsx(Cb,{})})}),i.jsx(Kr,{path:"/pupils/:id/edit",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN","TEACHER"],children:i.jsx(Cb,{})})}),i.jsx(Kr,{path:"/classes",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN"],children:i.jsx(lR,{})})}),i.jsx(Kr,{path:"/subjects",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN"],children:i.jsx(cR,{})})}),i.jsx(Kr,{path:"/teachers",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN"],children:i.jsx(uR,{})})}),i.jsx(Kr,{path:"/parents",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN"],children:i.jsx(fR,{})})}),i.jsx(Kr,{path:"/attendance",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN","TEACHER"],children:i.jsx(dR,{})})}),i.jsx(Kr,{path:"/fees",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN"],children:i.jsx(hR,{})})}),i.jsx(Kr,{path:"/performance",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN","TEACHER"],children:i.jsx(EH,{})})}),i.jsx(Kr,{path:"/report-card/:pupilId",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN","TEACHER","PARENT"],children:i.jsx(FH,{})})}),i.jsx(Kr,{path:"/reports",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN","TEACHER"],children:i.jsx(gH,{})})}),i.jsx(Kr,{path:"/sms",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN"],children:i.jsx(BH,{})})}),i.jsx(Kr,{path:"/api-keys",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN"],children:i.jsx(UH,{})})}),i.jsx(Kr,{path:"/settings",element:i.jsx(ya,{roles:["SCHOOL_ADMIN","SUPER_ADMIN"],children:i.jsx(vH,{})})})]}),i.jsx(Kr,{path:"*",element:i.jsx(nf,{to:e?"/dashboard":"/login"})})]})};Ug.createRoot(document.getElementById("root")).render(i.jsx(fl.StrictMode,{children:i.jsx(QC,{children:i.jsxs(D7,{children:[i.jsx(zH,{}),i.jsx(qk,{position:"top-right",toastOptions:{duration:4e3}})]})})}));export{tn as _,py as c,O4 as g};
